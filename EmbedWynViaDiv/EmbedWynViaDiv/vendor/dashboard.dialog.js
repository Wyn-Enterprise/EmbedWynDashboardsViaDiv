!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(C,t){"use strict";function g(t){return null!=t&&t===t.window}var e=[],n=Object.getPrototypeOf,a=e.slice,m=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},l=e.push,o=e.indexOf,i={},s=i.toString,v=i.hasOwnProperty,r=v.toString,c=r.call(Object),b={},_=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},S=C.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,i){var n,o,s=(i=i||S).createElement("script");if(s.text=t,e)for(n in u)(o=e[n]||e.getAttribute&&e.getAttribute(n))&&s.setAttribute(n,o);i.head.appendChild(s).parentNode.removeChild(s)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[s.call(t)]||"object":typeof t}var d="3.5.1",D=function(t,e){return new D.fn.init(t,e)};function h(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!_(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}D.fn=D.prototype={jquery:d,constructor:D,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=D.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return D.each(this,t)},map:function(i){return this.pushStack(D.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(D.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(D.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},D.extend=D.fn.extend=function(){var t,e,i,n,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||_(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&r!==n&&(c&&n&&(D.isPlainObject(n)||(o=Array.isArray(n)))?(i=r[e],s=o&&!Array.isArray(i)?[]:o||D.isPlainObject(i)?i:{},o=!1,r[e]=D.extend(c,s,n)):void 0!==n&&(r[e]=n));return r},D.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==s.call(t)||(e=n(t))&&("function"!=typeof(i=v.call(e,"constructor")&&e.constructor)||r.call(i)!==c))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){y(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(h(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(h(Object(t))?D.merge(i,"string"==typeof t?[t]:t):l.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:o.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,s=t.length,r=!i;o<s;o++)!e(t[o],o)!=r&&n.push(t[o]);return n},map:function(t,e,i){var n,o,s=0,r=[];if(h(t))for(n=t.length;s<n;s++)null!=(o=e(t[s],s,i))&&r.push(o);else for(s in t)null!=(o=e(t[s],s,i))&&r.push(o);return m(r)},guid:1,support:b}),"function"==typeof Symbol&&(D.fn[Symbol.iterator]=e[Symbol.iterator]),D.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var p=function(i){function d(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320))}function o(){x()}var t,p,y,s,r,f,h,g,w,l,c,x,C,a,S,m,u,v,b,D="sizzle"+ +new Date,_=i.document,I=0,n=0,T=lt(),k=lt(),R=lt(),A=lt(),F=function(t,e){return t===e&&(c=!0),0},M={}.hasOwnProperty,e=[],E=e.pop,P=e.push,O=e.push,z=e.slice,N=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",V="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+L+"*("+V+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+L+"*\\]",B=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",j=new RegExp(L+"+","g"),$=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),q=new RegExp("^"+L+"*,"+L+"*"),U=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),G=new RegExp(L+"|>"),K=new RegExp(B),Y=new RegExp("^"+V+"$"),X={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,it=/[+~]/,nt=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),ot=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,st=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{O.apply(e=z.call(_.childNodes),_.childNodes),e[_.childNodes.length].nodeType}catch(t){O={apply:e.length?function(t,e){P.apply(t,z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(t,e,i,n){var o,s,r,a,l,c,u,d=e&&e.ownerDocument,h=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return i;if(!n&&(x(e),e=e||C,S)){if(11!==h&&(l=et.exec(t)))if(o=l[1]){if(9===h){if(!(r=e.getElementById(o)))return i;if(r.id===o)return i.push(r),i}else if(d&&(r=d.getElementById(o))&&b(e,r)&&r.id===o)return i.push(r),i}else{if(l[2])return O.apply(i,e.getElementsByTagName(t)),i;if((o=l[3])&&p.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(o)),i}if(p.qsa&&!A[t+" "]&&(!m||!m.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(u=t,d=e,1===h&&(G.test(t)||U.test(t))){for((d=it.test(t)&&vt(e.parentNode)||e)===e&&p.scope||((a=e.getAttribute("id"))?a=a.replace(ot,st):e.setAttribute("id",a=D)),s=(c=f(t)).length;s--;)c[s]=(a?"#"+a:":scope")+" "+_t(c[s]);u=c.join(",")}try{return O.apply(i,d.querySelectorAll(u)),i}catch(e){A(t,!0)}finally{a===D&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,i,n)}function lt(){var n=[];return function t(e,i){return n.push(e+" ")>y.cacheLength&&delete t[n.shift()],t[e+" "]=i}}function ct(t){return t[D]=!0,t}function ut(t){var e=C.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var i=t.split("|"),n=i.length;n--;)y.attrHandle[i[n]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ft(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function gt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&rt(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function mt(r){return ct(function(s){return s=+s,ct(function(t,e){for(var i,n=r([],t.length,s),o=n.length;o--;)t[i=n[o]]&&(t[i]=!(e[i]=t[i]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=at.support={},r=at.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!Q.test(e||i&&i.nodeName||"HTML")},x=at.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:_;return n!=C&&9===n.nodeType&&n.documentElement&&(a=(C=n).documentElement,S=!r(C),_!=C&&(i=C.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",o,!1):i.attachEvent&&i.attachEvent("onunload",o)),p.scope=ut(function(t){return a.appendChild(t).appendChild(C.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),p.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=ut(function(t){return t.appendChild(C.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=tt.test(C.getElementsByClassName),p.getById=ut(function(t){return a.appendChild(t).id=D,!C.getElementsByName||!C.getElementsByName(D).length}),p.getById?(y.filter.ID=function(t){var e=t.replace(nt,d);return function(t){return t.getAttribute("id")===e}},y.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var i=e.getElementById(t);return i?[i]:[]}}):(y.filter.ID=function(t){var i=t.replace(nt,d);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}},y.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var i,n,o,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(o=e.getElementsByName(t),n=0;s=o[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),y.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"!==t)return s;for(;i=s[o++];)1===i.nodeType&&n.push(i);return n},y.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&S)return e.getElementsByClassName(t)},u=[],m=[],(p.qsa=tt.test(C.querySelectorAll))&&(ut(function(t){var e;a.appendChild(t).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+H+")"),t.querySelectorAll("[id~="+D+"-]").length||m.push("~="),(e=C.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+D+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=C.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(p.matchesSelector=tt.test(v=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ut(function(t){p.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),u.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),u=u.length&&new RegExp(u.join("|")),e=tt.test(a.compareDocumentPosition),b=e||tt.test(a.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},F=e?function(t,e){if(t===e)return c=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===i?t==C||t.ownerDocument==_&&b(_,t)?-1:e==C||e.ownerDocument==_&&b(_,e)?1:l?N(l,t)-N(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,n=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t==C?-1:e==C?1:o?-1:s?1:l?N(l,t)-N(l,e):0;if(o===s)return ht(t,e);for(i=t;i=i.parentNode;)r.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;r[n]===a[n];)n++;return n?ht(r[n],a[n]):r[n]==_?-1:a[n]==_?1:0}),C},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(x(t),p.matchesSelector&&S&&!A[e+" "]&&(!u||!u.test(e))&&(!m||!m.test(e)))try{var i=v.call(t,e);if(i||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){A(e,!0)}return 0<at(e,C,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=C&&x(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=C&&x(t);var i=y.attrHandle[e.toLowerCase()],n=i&&M.call(y.attrHandle,e.toLowerCase())?i(t,e,!S):void 0;return void 0!==n?n:p.attributes||!S?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},at.escape=function(t){return(t+"").replace(ot,st)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],n=0,o=0;if(c=!p.detectDuplicates,l=!p.sortStable&&t.slice(0),t.sort(F),c){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return l=null,t},s=at.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=s(e);return i},(y=at.selectors={cacheLength:50,createPseudo:ct,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,d),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,d),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&K.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,d).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=T[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&T(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,n,o){return function(t){var e=at.attr(t,i);return null==e?"!="===n:!n||(e+="","="===n?e===o:"!="===n?e!==o:"^="===n?o&&0===e.indexOf(o):"*="===n?o&&-1<e.indexOf(o):"$="===n?o&&e.slice(-o.length)===o:"~="===n?-1<(" "+e.replace(j," ")+" ").indexOf(o):"|="===n&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,g,m){var v="nth"!==f.slice(0,3),b="last"!==f.slice(-4),_="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,i){var n,o,s,r,a,l,c=v!=b?"nextSibling":"previousSibling",u=t.parentNode,d=_&&t.nodeName.toLowerCase(),h=!i&&!_,p=!1;if(u){if(v){for(;c;){for(r=t;r=r[c];)if(_?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[b?u.firstChild:u.lastChild],b&&h){for(p=(a=(n=(o=(s=(r=u)[D]||(r[D]={}))[r.uniqueID]||(s[r.uniqueID]={}))[f]||[])[0]===I&&n[1])&&n[2],r=a&&u.childNodes[a];r=++a&&r&&r[c]||(p=a=0)||l.pop();)if(1===r.nodeType&&++p&&r===t){o[f]=[I,a,p];break}}else if(h&&(p=a=(n=(o=(s=(r=t)[D]||(r[D]={}))[r.uniqueID]||(s[r.uniqueID]={}))[f]||[])[0]===I&&n[1]),!1===p)for(;(r=++a&&r&&r[c]||(p=a=0)||l.pop())&&((_?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++p||(h&&((o=(s=r[D]||(r[D]={}))[r.uniqueID]||(s[r.uniqueID]={}))[f]=[I,p]),r!==t)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(t,s){var e,r=y.pseudos[t]||y.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[D]?r(s):1<r.length?(e=[t,t,"",s],y.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,e){for(var i,n=r(t,s),o=n.length;o--;)t[i=N(t,n[o])]=!(e[i]=n[o])}):function(t){return r(t,0,e)}):r}},pseudos:{not:ct(function(t){var n=[],o=[],a=h(t.replace($,"$1"));return a[D]?ct(function(t,e,i,n){for(var o,s=a(t,null,n,[]),r=t.length;r--;)(o=s[r])&&(t[r]=!(e[r]=o))}):function(t,e,i){return n[0]=t,a(n,null,i,o),n[0]=null,!o.pop()}}),has:ct(function(e){return function(t){return 0<at(e,t).length}}),contains:ct(function(e){return e=e.replace(nt,d),function(t){return-1<(t.textContent||s(t)).indexOf(e)}}),lang:ct(function(i){return Y.test(i||"")||at.error("unsupported lang: "+i),i=i.replace(nt,d).toLowerCase(),function(t){var e;do{if(e=S?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!y.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,i){return[i<0?i+e:i]}),even:mt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:mt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:mt(function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t}),gt:mt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=y.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[t]=pt(t);for(t in{submit:!0,reset:!0})y.pseudos[t]=ft(t);function bt(){}function _t(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function yt(a,t,e){var l=t.dir,c=t.next,u=c||l,d=e&&"parentNode"===u,h=n++;return t.first?function(t,e,i){for(;t=t[l];)if(1===t.nodeType||d)return a(t,e,i);return!1}:function(t,e,i){var n,o,s,r=[I,h];if(i){for(;t=t[l];)if((1===t.nodeType||d)&&a(t,e,i))return!0}else for(;t=t[l];)if(1===t.nodeType||d)if(o=(s=t[D]||(t[D]={}))[t.uniqueID]||(s[t.uniqueID]={}),c&&c===t.nodeName.toLowerCase())t=t[l]||t;else{if((n=o[u])&&n[0]===I&&n[1]===h)return r[2]=n[2];if((o[u]=r)[2]=a(t,e,i))return!0}return!1}}function wt(o){return 1<o.length?function(t,e,i){for(var n=o.length;n--;)if(!o[n](t,e,i))return!1;return!0}:o[0]}function xt(t,e,i,n,o){for(var s,r=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,o)||(r.push(s),c&&e.push(a)));return r}function Ct(p,f,g,m,v,t){return m&&!m[D]&&(m=Ct(m)),v&&!v[D]&&(v=Ct(v,t)),ct(function(t,e,i,n){var o,s,r,a=[],l=[],c=e.length,u=t||function(t,e,i){for(var n=0,o=e.length;n<o;n++)at(t,e[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),d=!p||!t&&f?u:xt(u,a,p,i,n),h=g?v||(t?p:c||m)?[]:e:d;if(g&&g(d,h,i,n),m)for(o=xt(h,l),m(o,[],i,n),s=o.length;s--;)(r=o[s])&&(h[l[s]]=!(d[l[s]]=r));if(t){if(v||p){if(v){for(o=[],s=h.length;s--;)(r=h[s])&&o.push(d[s]=r);v(null,h=[],o,n)}for(s=h.length;s--;)(r=h[s])&&-1<(o=v?N(t,r):a[s])&&(t[o]=!(e[o]=r))}}else h=xt(h===e?h.splice(c,h.length):h),v?v(null,e,h,n):O.apply(e,h)})}function St(t){for(var o,e,i,n=t.length,s=y.relative[t[0].type],r=s||y.relative[" "],a=s?1:0,l=yt(function(t){return t===o},r,!0),c=yt(function(t){return-1<N(o,t)},r,!0),u=[function(t,e,i){var n=!s&&(i||e!==w)||((o=e).nodeType?l:c)(t,e,i);return o=null,n}];a<n;a++)if(e=y.relative[t[a].type])u=[yt(wt(u),e)];else{if((e=y.filter[t[a].type].apply(null,t[a].matches))[D]){for(i=++a;i<n&&!y.relative[t[i].type];i++);return Ct(1<a&&wt(u),1<a&&_t(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace($,"$1"),e,a<i&&St(t.slice(a,i)),i<n&&St(t=t.slice(i)),i<n&&_t(t))}u.push(e)}return wt(u)}return bt.prototype=y.filters=y.pseudos,y.setFilters=new bt,f=at.tokenize=function(t,e){var i,n,o,s,r,a,l,c=k[t+" "];if(c)return e?0:c.slice(0);for(r=t,a=[],l=y.preFilter;r;){for(s in i&&!(n=q.exec(r))||(n&&(r=r.slice(n[0].length)||r),a.push(o=[])),i=!1,(n=U.exec(r))&&(i=n.shift(),o.push({value:i,type:n[0].replace($," ")}),r=r.slice(i.length)),y.filter)!(n=X[s].exec(r))||l[s]&&!(n=l[s](n))||(i=n.shift(),o.push({value:i,type:s,matches:n}),r=r.slice(i.length));if(!i)break}return e?r.length:r?at.error(t):k(t,a).slice(0)},h=at.compile=function(t,e){var i,m,v,b,_,n,o=[],s=[],r=R[t+" "];if(!r){for(i=(e=e||f(t)).length;i--;)(r=St(e[i]))[D]?o.push(r):s.push(r);(r=R(t,(m=s,b=0<(v=o).length,_=0<m.length,n=function(t,e,i,n,o){var s,r,a,l=0,c="0",u=t&&[],d=[],h=w,p=t||_&&y.find.TAG("*",o),f=I+=null==h?1:Math.random()||.1,g=p.length;for(o&&(w=e==C||e||o);c!==g&&null!=(s=p[c]);c++){if(_&&s){for(r=0,e||s.ownerDocument==C||(x(s),i=!S);a=m[r++];)if(a(s,e||C,i)){n.push(s);break}o&&(I=f)}b&&((s=!a&&s)&&l--,t&&u.push(s))}if(l+=c,b&&c!==l){for(r=0;a=v[r++];)a(u,d,e,i);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=E.call(n));d=xt(d)}O.apply(n,d),o&&!t&&0<d.length&&1<l+v.length&&at.uniqueSort(n)}return o&&(I=f,w=h),u},b?ct(n):n))).selector=t}return r},g=at.select=function(t,e,i,n){var o,s,r,a,l,c="function"==typeof t&&t,u=!n&&f(t=c.selector||t);if(i=i||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(r=s[0]).type&&9===e.nodeType&&S&&y.relative[s[1].type]){if(!(e=(y.find.ID(r.matches[0].replace(nt,d),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=X.needsContext.test(t)?0:s.length;o--&&(r=s[o],!y.relative[a=r.type]);)if((l=y.find[a])&&(n=l(r.matches[0].replace(nt,d),it.test(s[0].type)&&vt(e.parentNode)||e))){if(s.splice(o,1),!(t=n.length&&_t(s)))return O.apply(i,n),i;break}}return(c||h(t,u))(n,e,!S,i,!e||it.test(t)&&vt(e.parentNode)||e),i},p.sortStable=D.split("").sort(F).join("")===D,p.detectDuplicates=!!c,x(),p.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(C.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||dt("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||dt("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||dt(H,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),at}(C);D.find=p,D.expr=p.selectors,D.expr[":"]=D.expr.pseudos,D.uniqueSort=D.unique=p.uniqueSort,D.text=p.getText,D.isXMLDoc=p.isXML,D.contains=p.contains,D.escapeSelector=p.escape;function f(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&D(t).is(i))break;n.push(t)}return n}function x(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}var I=D.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(t,i,n){return _(i)?D.grep(t,function(t,e){return!!i.call(t,e,t)!==n}):i.nodeType?D.grep(t,function(t){return t===i!==n}):"string"!=typeof i?D.grep(t,function(t){return-1<o.call(i,t)!==n}):D.filter(i,t,n)}D.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?D.find.matchesSelector(n,t)?[n]:[]:D.find.matches(t,D.grep(e,function(t){return 1===t.nodeType}))},D.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!=typeof t)return this.pushStack(D(t).filter(function(){for(e=0;e<n;e++)if(D.contains(o[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)D.find(t,o[e],i);return 1<n?D.uniqueSort(i):i},filter:function(t){return this.pushStack(R(this,t||[],!1))},not:function(t){return this.pushStack(R(this,t||[],!0))},is:function(t){return!!R(this,"string"==typeof t&&I.test(t)?D(t):t||[],!1).length}});var A,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(D.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||A,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):_(t)?void 0!==i.ready?i.ready(t):t(D):D.makeArray(t,this);if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:F.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof D?e[0]:e,D.merge(this,D.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),k.test(n[1])&&D.isPlainObject(e))for(n in e)_(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(o=S.getElementById(n[2]))&&(this[0]=o,this.length=1),this}).prototype=D.fn,A=D(S);var M=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}D.fn.extend({has:function(t){var e=D(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(D.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,o=this.length,s=[],r="string"!=typeof t&&D(t);if(!I.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?-1<r.index(i):1===i.nodeType&&D.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(1<s.length?D.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?o.call(D(t),this[0]):o.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(D.uniqueSort(D.merge(this.get(),D(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),D.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,i){return f(t,"parentNode",i)},next:function(t){return P(t,"nextSibling")},prev:function(t){return P(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,i){return f(t,"nextSibling",i)},prevUntil:function(t,e,i){return f(t,"previousSibling",i)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&n(t.contentDocument)?t.contentDocument:(T(t,"template")&&(t=t.content||t),D.merge([],t.childNodes))}},function(n,o){D.fn[n]=function(t,e){var i=D.map(this,o,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=D.filter(e,i)),1<this.length&&(E[n]||D.uniqueSort(i),M.test(n)&&i.reverse()),this.pushStack(i)}});var O=/[^\x20\t\r\n\f]+/g;function z(t){return t}function N(t){throw t}function H(t,e,i,n){var o;try{t&&_(o=t.promise)?o.call(t).done(e).fail(i):t&&_(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}D.Callbacks=function(n){var i;n="string"==typeof n?(i={},D.each(n.match(O)||[],function(t,e){i[e]=!0}),i):D.extend({},n);function o(){for(r=r||n.once,e=s=!0;l.length;c=-1)for(t=l.shift();++c<a.length;)!1===a[c].apply(t[0],t[1])&&n.stopOnFalse&&(c=a.length,t=!1);n.memory||(t=!1),s=!1,r&&(a=t?[]:"")}var s,t,e,r,a=[],l=[],c=-1,u={add:function(){return a&&(t&&!s&&(c=a.length-1,l.push(t)),function i(t){D.each(t,function(t,e){_(e)?n.unique&&u.has(e)||a.push(e):e&&e.length&&"string"!==w(e)&&i(e)})}(arguments),t&&!s&&o()),this},remove:function(){return D.each(arguments,function(t,e){for(var i;-1<(i=D.inArray(e,a,i));)a.splice(i,1),i<=c&&c--}),this},has:function(t){return t?-1<D.inArray(t,a):0<a.length},empty:function(){return a=a&&[],this},disable:function(){return r=l=[],a=t="",this},disabled:function(){return!a},lock:function(){return r=l=[],t||s||(a=t=""),this},locked:function(){return!!r},fireWith:function(t,e){return r||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),s||o()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!e}};return u},D.extend({Deferred:function(t){var s=[["notify","progress",D.Callbacks("memory"),D.Callbacks("memory"),2],["resolve","done",D.Callbacks("once memory"),D.Callbacks("once memory"),0,"resolved"],["reject","fail",D.Callbacks("once memory"),D.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var o=arguments;return D.Deferred(function(n){D.each(s,function(t,e){var i=_(o[e[4]])&&o[e[4]];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&_(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,i?[t]:arguments)})}),o=null}).promise()},then:function(e,i,n){var l=0;function c(o,s,r,a){return function(){function t(){var t,e;if(!(o<l)){if((t=r.apply(i,n))===s.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,_(e)?a?e.call(t,c(l,s,z,a),c(l,s,N,a)):(l++,e.call(t,c(l,s,z,a),c(l,s,N,a),c(l,s,z,s.notifyWith))):(r!==z&&(i=void 0,n=[t]),(a||s.resolveWith)(i,n))}}var i=this,n=arguments,e=a?t:function(){try{t()}catch(t){D.Deferred.exceptionHook&&D.Deferred.exceptionHook(t,e.stackTrace),l<=o+1&&(r!==N&&(i=void 0,n=[t]),s.rejectWith(i,n))}};o?e():(D.Deferred.getStackHook&&(e.stackTrace=D.Deferred.getStackHook()),C.setTimeout(e))}}return D.Deferred(function(t){s[0][3].add(c(0,t,_(n)?n:z,t.notifyWith)),s[1][3].add(c(0,t,_(e)?e:z)),s[2][3].add(c(0,t,_(i)?i:N))}).promise()},promise:function(t){return null!=t?D.extend(t,r):r}},a={};return D.each(s,function(t,e){var i=e[2],n=e[5];r[e[1]]=i.add,n&&i.add(function(){o=n},s[3-t][2].disable,s[3-t][3].disable,s[0][2].lock,s[0][3].lock),i.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=i.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){o[e]=this,s[e]=1<arguments.length?a.call(arguments):t,--i||r.resolveWith(o,s)}}var i=arguments.length,n=i,o=Array(n),s=a.call(arguments),r=D.Deferred();if(i<=1&&(H(t,r.done(e(n)).resolve,r.reject,!i),"pending"===r.state()||_(s[n]&&s[n].then)))return r.then();for(;n--;)H(s[n],e(n),r.reject);return r.promise()}});var L=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;D.Deferred.exceptionHook=function(t,e){C.console&&C.console.warn&&t&&L.test(t.name)&&C.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},D.readyException=function(t){C.setTimeout(function(){throw t})};var V=D.Deferred();function W(){S.removeEventListener("DOMContentLoaded",W),C.removeEventListener("load",W),D.ready()}D.fn.ready=function(t){return V.then(t).catch(function(t){D.readyException(t)}),this},D.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--D.readyWait:D.isReady)||(D.isReady=!0)!==t&&0<--D.readyWait||V.resolveWith(S,[D])}}),D.ready.then=V.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?C.setTimeout(D.ready):(S.addEventListener("DOMContentLoaded",W),C.addEventListener("load",W));var B=function(t,e,i,n,o,s,r){var a=0,l=t.length,c=null==i;if("object"===w(i))for(a in o=!0,i)B(t,e,a,i[a],!0,s,r);else if(void 0!==n&&(o=!0,_(n)||(r=!0),c&&(e=r?(e.call(t,n),null):(c=e,function(t,e,i){return c.call(D(t),i)})),e))for(;a<l;a++)e(t[a],i,r?n:n.call(t[a],a,e(t[a],i)));return o?t:c?e.call(t):l?e(t[0],i):s},j=/^-ms-/,$=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function U(t){return t.replace(j,"ms-").replace($,q)}function G(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function K(){this.expando=D.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[U(e)]=i;else for(n in e)o[U(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][U(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(U):(e=U(e))in n?[e]:e.match(O)||[]).length;for(;i--;)delete n[e[i]]}void 0!==e&&!D.isEmptyObject(n)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!D.isEmptyObject(e)}};var Y=new K,X=new K,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(t,e,i){var n,o;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(o=i)||"false"!==o&&("null"===o?null:o===+o+""?+o:Q.test(o)?JSON.parse(o):o)}catch(t){}X.set(t,e,i)}else i=void 0;return i}D.extend({hasData:function(t){return X.hasData(t)||Y.hasData(t)},data:function(t,e,i){return X.access(t,e,i)},removeData:function(t,e){X.remove(t,e)},_data:function(t,e,i){return Y.access(t,e,i)},_removeData:function(t,e){Y.remove(t,e)}}),D.fn.extend({data:function(i,t){var e,n,o,s=this[0],r=s&&s.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){X.set(this,i)}):B(this,function(t){var e;if(s&&void 0===t)return void 0!==(e=X.get(s,i))||void 0!==(e=Z(s,i))?e:void 0;this.each(function(){X.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=X.get(s),1===s.nodeType&&!Y.get(s,"hasDataAttrs"))){for(e=r.length;e--;)r[e]&&0===(n=r[e].name).indexOf("data-")&&(n=U(n.slice(5)),Z(s,n,o[n]));Y.set(s,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){X.remove(this,t)})}}),D.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Y.get(t,e),i&&(!n||Array.isArray(i)?n=Y.access(t,e,D.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=D.queue(t,e),n=i.length,o=i.shift(),s=D._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,function(){D.dequeue(t,e)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Y.get(t,i)||Y.access(t,i,{empty:D.Callbacks("once memory").add(function(){Y.remove(t,[e+"queue",i])})})}}),D.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?D.queue(this[0],e):void 0===i?this:this.each(function(){var t=D.queue(this,e,i);D._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&D.dequeue(this,e)})},dequeue:function(t){return this.each(function(){D.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--o||s.resolveWith(r,[r])}var n,o=1,s=D.Deferred(),r=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Y.get(r[a],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(i));return i(),s.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],nt=S.documentElement,ot=function(t){return D.contains(t.ownerDocument,t)},st={composed:!0};nt.getRootNode&&(ot=function(t){return D.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});function rt(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===D.css(t,"display")}function at(t,e,i,n){var o,s,r=20,a=n?function(){return n.cur()}:function(){return D.css(t,e,"")},l=a(),c=i&&i[3]||(D.cssNumber[e]?"":"px"),u=t.nodeType&&(D.cssNumber[e]||"px"!==c&&+l)&&et.exec(D.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;r--;)D.style(t,e,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),u/=s;u*=2,D.style(t,e,u+c),i=i||[]}return i&&(u=+u||+l||0,o=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=o)),o}var lt={};function ct(t,e){for(var i,n,o,s,r,a,l=[],c=0,u=t.length;c<u;c++)(n=t[c]).style&&(i=n.style.display,e?("none"===i&&(l[c]=Y.get(n,"display")||null,l[c]||(n.style.display="")),""===n.style.display&&rt(n)&&(l[c]=(a=s=o=void 0,s=n.ownerDocument,r=n.nodeName,(a=lt[r])||(o=s.body.appendChild(s.createElement(r)),a=D.css(o,"display"),o.parentNode.removeChild(o),"none"===a&&(a="block"),lt[r]=a)))):"none"!==i&&(l[c]="none",Y.set(n,"display",i)));for(c=0;c<u;c++)null!=l[c]&&(t[c].style.display=l[c]);return t}D.fn.extend({show:function(){return ct(this,!0)},hide:function(){return ct(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){rt(this)?D(this).show():D(this).hide()})}});var ut,dt,ht=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;ut=S.createDocumentFragment().appendChild(S.createElement("div")),(dt=S.createElement("input")).setAttribute("type","radio"),dt.setAttribute("checked","checked"),dt.setAttribute("name","t"),ut.appendChild(dt),b.checkClone=ut.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!ut.cloneNode(!0).lastChild.defaultValue,ut.innerHTML="<option></option>",b.option=!!ut.lastChild;var gt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&T(t,e)?D.merge([t],i):i}function vt(t,e){for(var i=0,n=t.length;i<n;i++)Y.set(t[i],"globalEval",!e||Y.get(e[i],"globalEval"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,b.option||(gt.optgroup=gt.option=[1,"<select multiple='multiple'>","</select>"]);var bt=/<|&#?\w+;/;function _t(t,e,i,n,o){for(var s,r,a,l,c,u,d=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((s=t[p])||0===s)if("object"===w(s))D.merge(h,s.nodeType?[s]:s);else if(bt.test(s)){for(r=r||d.appendChild(e.createElement("div")),a=(pt.exec(s)||["",""])[1].toLowerCase(),l=gt[a]||gt._default,r.innerHTML=l[1]+D.htmlPrefilter(s)+l[2],u=l[0];u--;)r=r.lastChild;D.merge(h,r.childNodes),(r=d.firstChild).textContent=""}else h.push(e.createTextNode(s));for(d.textContent="",p=0;s=h[p++];)if(n&&-1<D.inArray(s,n))o&&o.push(s);else if(c=ot(s),r=mt(d.appendChild(s),"script"),c&&vt(r),i)for(u=0;s=r[u++];)ft.test(s.type||"")&&i.push(s);return d}var yt=/^key/,wt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xt=/^([^.]*)(?:\.(.+)|)/;function Ct(){return!0}function St(){return!1}function Dt(t,e){return t===function(){try{return S.activeElement}catch(t){}}()==("focus"===e)}function It(t,e,i,n,o,s){var r,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)It(t,a,i,n,e[a],s);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=St;else if(!o)return t;return 1===s&&(r=o,(o=function(t){return D().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=D.guid++)),t.each(function(){D.event.add(this,e,o,n,i)})}function Tt(t,o,s){s?(Y.set(t,o,!1),D.event.add(t,o,{namespace:!1,handler:function(t){var e,i,n=Y.get(this,o);if(1&t.isTrigger&&this[o]){if(n.length)(D.event.special[o]||{}).delegateType&&t.stopPropagation();else if(n=a.call(arguments),Y.set(this,o,n),e=s(this,o),this[o](),n!==(i=Y.get(this,o))||e?Y.set(this,o,!1):i={},n!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else n.length&&(Y.set(this,o,{value:D.event.trigger(D.extend(n[0],D.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,o)&&D.event.add(t,o,Ct)}D.event={global:{},add:function(e,t,i,n,o){var s,r,a,l,c,u,d,h,p,f,g,m=Y.get(e);if(G(e))for(i.handler&&(i=(s=i).handler,o=s.selector),o&&D.find.matchesSelector(nt,o),i.guid||(i.guid=D.guid++),(l=m.events)||(l=m.events=Object.create(null)),(r=m.handle)||(r=m.handle=function(t){return void 0!==D&&D.event.triggered!==t.type?D.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(O)||[""]).length;c--;)p=g=(a=xt.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=D.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=D.event.special[p]||{},u=D.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&D.expr.match.needsContext.test(o),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,r)||e.addEventListener&&e.addEventListener(p,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),D.event.global[p]=!0)},remove:function(t,e,i,n,o){var s,r,a,l,c,u,d,h,p,f,g,m=Y.hasData(t)&&Y.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(O)||[""]).length;c--;)if(p=g=(a=xt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=D.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=h.length;s--;)u=h[s],!o&&g!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));r&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,m.handle)||D.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)D.event.remove(t,p+e[c],i,n,!0);D.isEmptyObject(l)&&Y.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,s,r,a=new Array(arguments.length),l=D.event.fix(t),c=(Y.get(this,"events")||Object.create(null))[l.type]||[],u=D.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(r=D.event.handlers.call(this,l,c),e=0;(o=r[e++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(n=((D.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,o,s,r,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],r={},i=0;i<l;i++)void 0===r[o=(n=e[i]).selector+" "]&&(r[o]=n.needsContext?-1<D(o,this).index(c):D.find(o,this,null,[c]).length),r[o]&&s.push(n);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(e,t){Object.defineProperty(D.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[D.expando]?t:new D.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ht.test(e.type)&&e.click&&T(e,"input")&&Tt(e,"click",Ct),!1},trigger:function(t){var e=this||t;return ht.test(e.type)&&e.click&&T(e,"input")&&Tt(e,"click"),!0},_default:function(t){var e=t.target;return ht.test(e.type)&&e.click&&T(e,"input")&&Y.get(e,"click")||T(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},D.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},D.Event=function(t,e){if(!(this instanceof D.Event))return new D.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ct:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&D.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[D.expando]=!0},D.Event.prototype={constructor:D.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ct,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ct,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ct,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},D.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&yt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&wt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},D.event.addProp),D.each({focus:"focusin",blur:"focusout"},function(t,e){D.event.special[t]={setup:function(){return Tt(this,t,Dt),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}}),D.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){D.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||D.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=o),e}}}),D.fn.extend({on:function(t,e,i,n){return It(this,t,e,i,n)},one:function(t,e,i,n){return It(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,D(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=St),this.each(function(){D.event.remove(this,t,i,e)});for(o in t)this.off(o,e,t[o]);return this}});var kt=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ft(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&D(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Et(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Pt(t,e){var i,n,o,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(o in Y.remove(e,"handle events"),a)for(i=0,n=a[o].length;i<n;i++)D.event.add(e,o,a[o][i]);X.hasData(t)&&(s=X.access(t),r=D.extend({},s),X.set(e,r))}}function Ot(i,n,o,s){n=m(n);var t,e,r,a,l,c,u=0,d=i.length,h=d-1,p=n[0],f=_(p);if(f||1<d&&"string"==typeof p&&!b.checkClone&&Rt.test(p))return i.each(function(t){var e=i.eq(t);f&&(n[0]=p.call(this,t,e.html())),Ot(e,n,o,s)});if(d&&(e=(t=_t(n,i[0].ownerDocument,!1,i,s)).firstChild,1===t.childNodes.length&&(t=e),e||s)){for(a=(r=D.map(mt(t,"script"),Mt)).length;u<d;u++)l=t,u!==h&&(l=D.clone(l,!0,!0),a&&D.merge(r,mt(l,"script"))),o.call(i[u],l,u);if(a)for(c=r[r.length-1].ownerDocument,D.map(r,Et),u=0;u<a;u++)l=r[u],ft.test(l.type||"")&&!Y.access(l,"globalEval")&&D.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?D._evalUrl&&!l.noModule&&D._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):y(l.textContent.replace(At,""),l,c))}return i}function zt(t,e,i){for(var n,o=e?D.filter(e,t):t,s=0;null!=(n=o[s]);s++)i||1!==n.nodeType||D.cleanData(mt(n)),n.parentNode&&(i&&ot(n)&&vt(mt(n,"script")),n.parentNode.removeChild(n));return t}D.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,o,s,r,a,l,c,u=t.cloneNode(!0),d=ot(t);if(!(b.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||D.isXMLDoc(t)))for(r=mt(u),n=0,o=(s=mt(t)).length;n<o;n++)a=s[n],"input"===(c=(l=r[n]).nodeName.toLowerCase())&&ht.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(i)for(s=s||mt(t),r=r||mt(u),n=0,o=s.length;n<o;n++)Pt(s[n],r[n]);else Pt(t,u);return 0<(r=mt(u,"script")).length&&vt(r,!d&&mt(t,"script")),u},cleanData:function(t){for(var e,i,n,o=D.event.special,s=0;void 0!==(i=t[s]);s++)if(G(i)){if(e=i[Y.expando]){if(e.events)for(n in e.events)o[n]?D.event.remove(i,n):D.removeEvent(i,n,e.handle);i[Y.expando]=void 0}i[X.expando]&&(i[X.expando]=void 0)}}}),D.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return B(this,function(t){return void 0===t?D.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ot(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ft(this,t).appendChild(t)})},prepend:function(){return Ot(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ft(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ot(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ot(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(D.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return D.clone(this,t,e)})},html:function(t){return B(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!kt.test(t)&&!gt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=D.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(D.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Ot(this,arguments,function(t){var e=this.parentNode;D.inArray(this,i)<0&&(D.cleanData(mt(this)),e&&e.replaceChild(t,this))},i)}}),D.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,r){D.fn[t]=function(t){for(var e,i=[],n=D(t),o=n.length-1,s=0;s<=o;s++)e=s===o?this:this.clone(!0),D(n[s])[r](e),l.apply(i,e.get());return this.pushStack(i)}});function Nt(t,e,i){var n,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in n=i.call(t),e)t.style[o]=s[o];return n}var Ht,Lt,Vt,Wt,Bt,jt,$t,qt,Ut=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Gt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=C),e.getComputedStyle(t)},Kt=new RegExp(it.join("|"),"i");function Yt(t,e,i){var n,o,s,r,a=t.style;return(i=i||Gt(t))&&(""!==(r=i.getPropertyValue(e)||i[e])||ot(t)||(r=D.style(t,e)),!b.pixelBoxStyles()&&Ut.test(r)&&Kt.test(e)&&(n=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function Qt(){if(qt){$t.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",qt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild($t).appendChild(qt);var t=C.getComputedStyle(qt);Ht="1%"!==t.top,jt=12===Jt(t.marginLeft),qt.style.right="60%",Wt=36===Jt(t.right),Lt=36===Jt(t.width),qt.style.position="absolute",Vt=12===Jt(qt.offsetWidth/3),nt.removeChild($t),qt=null}}function Jt(t){return Math.round(parseFloat(t))}$t=S.createElement("div"),(qt=S.createElement("div")).style&&(qt.style.backgroundClip="content-box",qt.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===qt.style.backgroundClip,D.extend(b,{boxSizingReliable:function(){return Qt(),Lt},pixelBoxStyles:function(){return Qt(),Wt},pixelPosition:function(){return Qt(),Ht},reliableMarginLeft:function(){return Qt(),jt},scrollboxSize:function(){return Qt(),Vt},reliableTrDimensions:function(){var t,e,i,n;return null==Bt&&(t=S.createElement("table"),e=S.createElement("tr"),i=S.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",nt.appendChild(t).appendChild(e).appendChild(i),n=C.getComputedStyle(e),Bt=3<parseInt(n.height),nt.removeChild(t)),Bt}}));var Zt=["Webkit","Moz","ms"],te=S.createElement("div").style,ee={};function ie(t){return D.cssProps[t]||ee[t]||(t in te?t:ee[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Zt.length;i--;)if((t=Zt[i]+e)in te)return t}(t)||t)}var ne=/^(none|table(?!-c[ea]).+)/,oe=/^--/,se={position:"absolute",visibility:"hidden",display:"block"},re={letterSpacing:"0",fontWeight:"400"};function ae(t,e,i){var n=et.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function le(t,e,i,n,o,s){var r="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;r<4;r+=2)"margin"===i&&(l+=D.css(t,i+it[r],!0,o)),n?("content"===i&&(l-=D.css(t,"padding"+it[r],!0,o)),"margin"!==i&&(l-=D.css(t,"border"+it[r]+"Width",!0,o))):(l+=D.css(t,"padding"+it[r],!0,o),"padding"!==i?l+=D.css(t,"border"+it[r]+"Width",!0,o):a+=D.css(t,"border"+it[r]+"Width",!0,o));return!n&&0<=s&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))||0),l}function ce(t,e,i){var n=Gt(t),o=(!b.boxSizingReliable()||i)&&"border-box"===D.css(t,"boxSizing",!1,n),s=o,r=Yt(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(Ut.test(r)){if(!i)return r;r="auto"}return(!b.boxSizingReliable()&&o||!b.reliableTrDimensions()&&T(t,"tr")||"auto"===r||!parseFloat(r)&&"inline"===D.css(t,"display",!1,n))&&t.getClientRects().length&&(o="border-box"===D.css(t,"boxSizing",!1,n),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+le(t,e,i||(o?"border":"content"),s,n,r)+"px"}function ue(t,e,i,n,o){return new ue.prototype.init(t,e,i,n,o)}D.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Yt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=U(e),l=oe.test(e),c=t.style;if(l||(e=ie(a)),r=D.cssHooks[e]||D.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(o=r.get(t,!1,n))?o:c[e];"string"==(s=typeof i)&&(o=et.exec(i))&&o[1]&&(i=at(t,e,o),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=o&&o[3]||(D.cssNumber[a]?"":"px")),b.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),r&&"set"in r&&void 0===(i=r.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var o,s,r,a=U(e);return oe.test(e)||(e=ie(a)),(r=D.cssHooks[e]||D.cssHooks[a])&&"get"in r&&(o=r.get(t,!0,i)),void 0===o&&(o=Yt(t,e,n)),"normal"===o&&e in re&&(o=re[e]),""===i||i?(s=parseFloat(o),!0===i||isFinite(s)?s||0:o):o}}),D.each(["height","width"],function(t,l){D.cssHooks[l]={get:function(t,e,i){if(e)return!ne.test(D.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ce(t,l,i):Nt(t,se,function(){return ce(t,l,i)})},set:function(t,e,i){var n,o=Gt(t),s=!b.scrollboxSize()&&"absolute"===o.position,r=(s||i)&&"border-box"===D.css(t,"boxSizing",!1,o),a=i?le(t,l,i,r,o):0;return r&&s&&(a-=Math.ceil(t["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(o[l])-le(t,l,"border",!1,o)-.5)),a&&(n=et.exec(e))&&"px"!==(n[3]||"px")&&(t.style[l]=e,e=D.css(t,l)),ae(0,e,a)}}}),D.cssHooks.marginLeft=Xt(b.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Yt(t,"marginLeft"))||t.getBoundingClientRect().left-Nt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),D.each({margin:"",padding:"",border:"Width"},function(o,s){D.cssHooks[o+s]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[o+it[e]+s]=n[e]||n[e-2]||n[0];return i}},"margin"!==o&&(D.cssHooks[o+s].set=ae)}),D.fn.extend({css:function(t,e){return B(this,function(t,e,i){var n,o,s={},r=0;if(Array.isArray(e)){for(n=Gt(t),o=e.length;r<o;r++)s[e[r]]=D.css(t,e[r],!1,n);return s}return void 0!==i?D.style(t,e,i):D.css(t,e)},t,e,1<arguments.length)}}),((D.Tween=ue).prototype={constructor:ue,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||D.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(D.cssNumber[i]?"":"px")},cur:function(){var t=ue.propHooks[this.prop];return t&&t.get?t.get(this):ue.propHooks._default.get(this)},run:function(t){var e,i=ue.propHooks[this.prop];return this.options.duration?this.pos=e=D.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ue.propHooks._default.set(this),this}}).init.prototype=ue.prototype,(ue.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=D.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){D.fx.step[t.prop]?D.fx.step[t.prop](t):1!==t.elem.nodeType||!D.cssHooks[t.prop]&&null==t.elem.style[ie(t.prop)]?t.elem[t.prop]=t.now:D.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ue.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},D.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},D.fx=ue.prototype.init,D.fx.step={};var de,he,pe,fe,ge=/^(?:toggle|show|hide)$/,me=/queueHooks$/;function ve(){he&&(!1===S.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ve):C.setTimeout(ve,D.fx.interval),D.fx.tick())}function be(){return C.setTimeout(function(){de=void 0}),de=Date.now()}function _e(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=it[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function ye(t,e,i){for(var n,o=(we.tweeners[e]||[]).concat(we.tweeners["*"]),s=0,r=o.length;s<r;s++)if(n=o[s].call(i,e,t))return n}function we(s,t,e){var i,r,n=0,o=we.prefilters.length,a=D.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=de||be(),e=Math.max(0,c.startTime+c.duration-t),i=1-(e/c.duration||0),n=0,o=c.tweens.length;n<o;n++)c.tweens[n].run(i);return a.notifyWith(s,[c,i,e]),i<1&&o?e:(o||a.notifyWith(s,[c,1,0]),a.resolveWith(s,[c]),!1)},c=a.promise({elem:s,props:D.extend({},t),opts:D.extend(!0,{specialEasing:{},easing:D.easing._default},e),originalProperties:t,originalOptions:e,startTime:de||be(),duration:e.duration,tweens:[],createTween:function(t,e){var i=D.Tween(s,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var e=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;e<i;e++)c.tweens[e].run(1);return t?(a.notifyWith(s,[c,1,0]),a.resolveWith(s,[c,t])):a.rejectWith(s,[c,t]),this}}),u=c.props;for(function(t,e){var i,n,o,s,r;for(i in t)if(o=e[n=U(i)],s=t[i],Array.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(r=D.cssHooks[n])&&"expand"in r)for(i in s=r.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=o);else e[n]=o}(u,c.opts.specialEasing);n<o;n++)if(i=we.prefilters[n].call(c,s,u,c.opts))return _(i.stop)&&(D._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return D.map(u,ye,c),_(c.opts.start)&&c.opts.start.call(s,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),D.fx.timer(D.extend(l,{elem:s,anim:c,queue:c.opts.queue})),c}D.Animation=D.extend(we,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return at(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){for(var i,n=0,o=(t=_(t)?(e=t,["*"]):t.match(O)).length;n<o;n++)i=t[n],we.tweeners[i]=we.tweeners[i]||[],we.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,o,s,r,a,l,c,u,d="width"in e||"height"in e,h=this,p={},f=t.style,g=t.nodeType&&rt(t),m=Y.get(t,"fxshow");for(n in i.queue||(null==(r=D._queueHooks(t,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always(function(){h.always(function(){r.unqueued--,D.queue(t,"fx").length||r.empty.fire()})})),e)if(o=e[n],ge.test(o)){if(delete e[n],s=s||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||D.style(t,n)}if((l=!D.isEmptyObject(e))||!D.isEmptyObject(p))for(n in d&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=Y.get(t,"display")),"none"===(u=D.css(t,"display"))&&(c?u=c:(ct([t],!0),c=t.style.display||c,u=D.css(t,"display"),ct([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===D.css(t,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=Y.access(t,"fxshow",{display:c}),s&&(m.hidden=!g),g&&ct([t],!0),h.done(function(){for(n in g||ct([t]),Y.remove(t,"fxshow"),p)D.style(t,n,p[n])})),l=ye(g?m[n]:0,n,h),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?we.prefilters.unshift(t):we.prefilters.push(t)}}),D.speed=function(t,e,i){var n=t&&"object"==typeof t?D.extend({},t):{complete:i||!i&&e||_(t)&&t,duration:t,easing:i&&e||e&&!_(e)&&e};return D.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in D.fx.speeds?n.duration=D.fx.speeds[n.duration]:n.duration=D.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){_(n.old)&&n.old.call(this),n.queue&&D.dequeue(this,n.queue)},n},D.fn.extend({fadeTo:function(t,e,i,n){return this.filter(rt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){function o(){var t=we(this,D.extend({},e),r);(s||Y.get(this,"finish"))&&t.stop(!0)}var s=D.isEmptyObject(e),r=D.speed(t,i,n);return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(o,t,s){function r(t){var e=t.stop;delete t.stop,e(s)}return"string"!=typeof o&&(s=t,t=o,o=void 0),t&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",i=D.timers,n=Y.get(this);if(e)n[e]&&n[e].stop&&r(n[e]);else for(e in n)n[e]&&n[e].stop&&me.test(e)&&r(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=o&&i[e].queue!==o||(i[e].anim.stop(s),t=!1,i.splice(e,1));!t&&s||D.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var t,e=Y.get(this),i=e[r+"queue"],n=e[r+"queueHooks"],o=D.timers,s=i?i.length:0;for(e.finish=!0,D.queue(this,r,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===r&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),D.each(["toggle","show","hide"],function(t,n){var o=D.fn[n];D.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(_e(n,!0),t,e,i)}}),D.each({slideDown:_e("show"),slideUp:_e("hide"),slideToggle:_e("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){D.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),D.timers=[],D.fx.tick=function(){var t,e=0,i=D.timers;for(de=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||D.fx.stop(),de=void 0},D.fx.timer=function(t){D.timers.push(t),D.fx.start()},D.fx.interval=13,D.fx.start=function(){he||(he=!0,ve())},D.fx.stop=function(){he=null},D.fx.speeds={slow:600,fast:200,_default:400},D.fn.delay=function(n,t){return n=D.fx&&D.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var i=C.setTimeout(t,n);e.stop=function(){C.clearTimeout(i)}})},pe=S.createElement("input"),fe=S.createElement("select").appendChild(S.createElement("option")),pe.type="checkbox",b.checkOn=""!==pe.value,b.optSelected=fe.selected,(pe=S.createElement("input")).value="t",pe.type="radio",b.radioValue="t"===pe.value;var xe,Ce=D.expr.attrHandle;D.fn.extend({attr:function(t,e){return B(this,D.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){D.removeAttr(this,t)})}}),D.extend({attr:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?D.prop(t,e,i):(1===s&&D.isXMLDoc(t)||(o=D.attrHooks[e.toLowerCase()]||(D.expr.match.bool.test(e)?xe:void 0)),void 0!==i?null===i?void D.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):!(o&&"get"in o&&null!==(n=o.get(t,e)))&&null==(n=D.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!b.radioValue&&"radio"===e&&T(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(O);if(o&&1===t.nodeType)for(;i=o[n++];)t.removeAttribute(i)}}),xe={set:function(t,e,i){return!1===e?D.removeAttr(t,i):t.setAttribute(i,i),i}},D.each(D.expr.match.bool.source.match(/\w+/g),function(t,e){var r=Ce[e]||D.find.attr;Ce[e]=function(t,e,i){var n,o,s=e.toLowerCase();return i||(o=Ce[s],Ce[s]=n,n=null!=r(t,e,i)?s:null,Ce[s]=o),n}});var Se=/^(?:input|select|textarea|button)$/i,De=/^(?:a|area)$/i;function Ie(t){return(t.match(O)||[]).join(" ")}function Te(t){return t.getAttribute&&t.getAttribute("class")||""}function ke(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(O)||[]}D.fn.extend({prop:function(t,e){return B(this,D.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[D.propFix[t]||t]})}}),D.extend({prop:function(t,e,i){var n,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&D.isXMLDoc(t)||(e=D.propFix[e]||e,o=D.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=D.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||De.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(D.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),D.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){D.propFix[this.toLowerCase()]=this}),D.fn.extend({addClass:function(e){var t,i,n,o,s,r,a,l=0;if(_(e))return this.each(function(t){D(this).addClass(e.call(this,t,Te(this)))});if((t=ke(e)).length)for(;i=this[l++];)if(o=Te(i),n=1===i.nodeType&&" "+Ie(o)+" "){for(r=0;s=t[r++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");o!==(a=Ie(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,o,s,r,a,l=0;if(_(e))return this.each(function(t){D(this).removeClass(e.call(this,t,Te(this)))});if(!arguments.length)return this.attr("class","");if((t=ke(e)).length)for(;i=this[l++];)if(o=Te(i),n=1===i.nodeType&&" "+Ie(o)+" "){for(r=0;s=t[r++];)for(;-1<n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");o!==(a=Ie(n))&&i.setAttribute("class",a)}return this},toggleClass:function(o,e){var s=typeof o,r="string"==s||Array.isArray(o);return"boolean"==typeof e&&r?e?this.addClass(o):this.removeClass(o):_(o)?this.each(function(t){D(this).toggleClass(o.call(this,t,Te(this),e),e)}):this.each(function(){var t,e,i,n;if(r)for(e=0,i=D(this),n=ke(o);t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==o&&"boolean"!=s||((t=Te(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==o&&Y.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+Ie(Te(i))+" ").indexOf(e))return!0;return!1}});var Re=/\r/g;D.fn.extend({val:function(i){var n,t,o,e=this[0];return arguments.length?(o=_(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?i.call(this,t,D(this).val()):i)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=D.map(e,function(t){return null==t?"":t+""})),(n=D.valHooks[this.type]||D.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=D.valHooks[e.type]||D.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Re,""):null==t?"":t:void 0}}),D.extend({valHooks:{option:{get:function(t){var e=D.find.attr(t,"value");return null!=e?e:Ie(D.text(t))}},select:{get:function(t){var e,i,n,o=t.options,s=t.selectedIndex,r="select-one"===t.type,a=r?null:[],l=r?s+1:o.length;for(n=s<0?l:r?s:0;n<l;n++)if(((i=o[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!T(i.parentNode,"optgroup"))){if(e=D(i).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,s=D.makeArray(e),r=o.length;r--;)((n=o[r]).selected=-1<D.inArray(D.valHooks.option.get(n),s))&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),D.each(["radio","checkbox"],function(){D.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<D.inArray(D(t).val(),e)}},b.checkOn||(D.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),b.focusin="onfocusin"in C;function Ae(t){t.stopPropagation()}var Fe=/^(?:focusinfocus|focusoutblur)$/;D.extend(D.event,{trigger:function(t,e,i,n){var o,s,r,a,l,c,u,d,h=[i||S],p=v.call(t,"type")?t.type:t,f=v.call(t,"namespace")?t.namespace.split("."):[];if(s=d=r=i=i||S,3!==i.nodeType&&8!==i.nodeType&&!Fe.test(p+D.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,(t=t[D.expando]?t:new D.Event(p,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:D.makeArray(e,[t]),u=D.event.special[p]||{},n||!u.trigger||!1!==u.trigger.apply(i,e))){if(!n&&!u.noBubble&&!g(i)){for(a=u.delegateType||p,Fe.test(a+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),r=s;r===(i.ownerDocument||S)&&h.push(r.defaultView||r.parentWindow||C)}for(o=0;(s=h[o++])&&!t.isPropagationStopped();)d=s,t.type=1<o?a:u.bindType||p,(c=(Y.get(s,"events")||Object.create(null))[t.type]&&Y.get(s,"handle"))&&c.apply(s,e),(c=l&&s[l])&&c.apply&&G(s)&&(t.result=c.apply(s,e),!1===t.result&&t.preventDefault());return t.type=p,n||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),e)||!G(i)||l&&_(i[p])&&!g(i)&&((r=i[l])&&(i[l]=null),D.event.triggered=p,t.isPropagationStopped()&&d.addEventListener(p,Ae),i[p](),t.isPropagationStopped()&&d.removeEventListener(p,Ae),D.event.triggered=void 0,r&&(i[l]=r)),t.result}},simulate:function(t,e,i){var n=D.extend(new D.Event,i,{type:t,isSimulated:!0});D.event.trigger(n,null,e)}}),D.fn.extend({trigger:function(t,e){return this.each(function(){D.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return D.event.trigger(t,e,i,!0)}}),b.focusin||D.each({focus:"focusin",blur:"focusout"},function(i,n){function o(t){D.event.simulate(n,t.target,D.event.fix(t))}D.event.special[n]={setup:function(){var t=this.ownerDocument||this.document||this,e=Y.access(t,n);e||t.addEventListener(i,o,!0),Y.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=Y.access(t,n)-1;e?Y.access(t,n,e):(t.removeEventListener(i,o,!0),Y.remove(t,n))}}});var Me=C.location,Ee={guid:Date.now()},Pe=/\?/;D.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new C.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||D.error("Invalid XML: "+t),e};var Oe=/\[\]$/,ze=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,He=/^(?:input|select|textarea|keygen)/i;function Le(i,t,n,o){var e;if(Array.isArray(t))D.each(t,function(t,e){n||Oe.test(i)?o(i,e):Le(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,o)});else if(n||"object"!==w(t))o(i,t);else for(e in t)Le(i+"["+e+"]",t[e],n,o)}D.param=function(t,e){function i(t,e){var i=_(e)?e():e;o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)}var n,o=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!D.isPlainObject(t))D.each(t,function(){i(this.name,this.value)});else for(n in t)Le(n,t[n],e,i);return o.join("&")},D.fn.extend({serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=D.prop(this,"elements");return t?D.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!D(this).is(":disabled")&&He.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var i=D(this).val();return null==i?null:Array.isArray(i)?D.map(i,function(t){return{name:e.name,value:t.replace(ze,"\r\n")}}):{name:e.name,value:i.replace(ze,"\r\n")}}).get()}});var Ve=/%20/g,We=/#.*$/,Be=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,$e=/^(?:GET|HEAD)$/,qe=/^\/\//,Ue={},Ge={},Ke="*/".concat("*"),Ye=S.createElement("a");function Xe(s){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,o=t.toLowerCase().match(O)||[];if(_(e))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(e)):(s[i]=s[i]||[]).push(e)}}function Qe(e,o,s,r){var a={},l=e===Ge;function c(t){var n;return a[t]=!0,D.each(e[t]||[],function(t,e){var i=e(o,s,r);return"string"!=typeof i||l||a[i]?l?!(n=i):void 0:(o.dataTypes.unshift(i),c(i),!1)}),n}return c(o.dataTypes[0])||!a["*"]&&c("*")}function Je(t,e){var i,n,o=D.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n=n||{})[i]=e[i]);return n&&D.extend(!0,t,n),t}Ye.href=Me.href,D.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":D.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Je(Je(t,D.ajaxSettings),e):Je(D.ajaxSettings,t)},ajaxPrefilter:Xe(Ue),ajaxTransport:Xe(Ge),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var u,d,h,i,p,n,f,g,o,s,m=D.ajaxSetup({},e),v=m.context||m,b=m.context&&(v.nodeType||v.jquery)?D(v):D.event,_=D.Deferred(),y=D.Callbacks("once memory"),w=m.statusCode||{},r={},a={},l="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=je.exec(h);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return f?h:null},setRequestHeader:function(t,e){return null==f&&(t=a[t.toLowerCase()]=a[t.toLowerCase()]||t,r[t]=e),this},overrideMimeType:function(t){return null==f&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||l;return u&&u.abort(e),c(0,e),this}};if(_.promise(x),m.url=((t||m.url||Me.href)+"").replace(qe,Me.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(O)||[""],null==m.crossDomain){n=S.createElement("a");try{n.href=m.url,n.href=n.href,m.crossDomain=Ye.protocol+"//"+Ye.host!=n.protocol+"//"+n.host}catch(t){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=D.param(m.data,m.traditional)),Qe(Ue,m,e,x),f)return x;for(o in(g=D.event&&m.global)&&0==D.active++&&D.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!$e.test(m.type),d=m.url.replace(We,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Ve,"+")):(s=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(Pe.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(Be,"$1"),s=(Pe.test(d)?"&":"?")+"_="+Ee.guid+++s),m.url=d+s),m.ifModified&&(D.lastModified[d]&&x.setRequestHeader("If-Modified-Since",D.lastModified[d]),D.etag[d]&&x.setRequestHeader("If-None-Match",D.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ke+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(v,x,m)||f))return x.abort();if(l="abort",y.add(m.complete),x.done(m.success),x.fail(m.error),u=Qe(Ge,m,e,x)){if(x.readyState=1,g&&b.trigger("ajaxSend",[x,m]),f)return x;m.async&&0<m.timeout&&(p=C.setTimeout(function(){x.abort("timeout")},m.timeout));try{f=!1,u.send(r,c)}catch(t){if(f)throw t;c(-1,t)}}else c(-1,"No Transport");function c(t,e,i,n){var o,s,r,a,l,c=e;f||(f=!0,p&&C.clearTimeout(p),u=void 0,h=n||"",x.readyState=0<t?4:0,o=200<=t&&t<300||304===t,i&&(a=function(t,e,i){for(var n,o,s,r,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}r=r||o}s=s||r}if(s)return s!==l[0]&&l.unshift(s),i[s]}(m,x,i)),!o&&-1<D.inArray("script",m.dataTypes)&&(m.converters["text script"]=function(){}),a=function(t,e,i,n){var o,s,r,a,l,c={},u=t.dataTypes.slice();if(u[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(o in c)if((a=o.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[o]:!0!==c[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(m,a,x,o),o?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(D.lastModified[d]=l),(l=x.getResponseHeader("etag"))&&(D.etag[d]=l)),204===t||"HEAD"===m.type?c="nocontent":304===t?c="notmodified":(c=a.state,s=a.data,o=!(r=a.error))):(r=c,!t&&c||(c="error",t<0&&(t=0))),x.status=t,x.statusText=(e||c)+"",o?_.resolveWith(v,[s,c,x]):_.rejectWith(v,[x,c,r]),x.statusCode(w),w=void 0,g&&b.trigger(o?"ajaxSuccess":"ajaxError",[x,m,o?s:r]),y.fireWith(v,[x,c]),g&&(b.trigger("ajaxComplete",[x,m]),--D.active||D.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,i){return D.get(t,e,i,"json")},getScript:function(t,e){return D.get(t,void 0,e,"script")}}),D.each(["get","post"],function(t,o){D[o]=function(t,e,i,n){return _(e)&&(n=n||i,i=e,e=void 0),D.ajax(D.extend({url:t,type:o,dataType:n,data:e,success:i},D.isPlainObject(t)&&t))}}),D.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),D._evalUrl=function(t,e,i){return D.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){D.globalEval(t,e,i)}})},D.fn.extend({wrapAll:function(t){var e;return this[0]&&(_(t)&&(t=t.call(this[0])),e=D(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return _(i)?this.each(function(t){D(this).wrapInner(i.call(this,t))}):this.each(function(){var t=D(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=_(e);return this.each(function(t){D(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){D(this).replaceWith(this.childNodes)}),this}}),D.expr.pseudos.hidden=function(t){return!D.expr.pseudos.visible(t)},D.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},D.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(t){}};var Ze={0:200,1223:204},ti=D.ajaxSettings.xhr();b.cors=!!ti&&"withCredentials"in ti,b.ajax=ti=!!ti,D.ajaxTransport(function(o){var s,r;if(b.cors||ti&&!o.crossDomain)return{send:function(t,e){var i,n=o.xhr();if(n.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(i in o.xhrFields)n[i]=o.xhrFields[i];for(i in o.mimeType&&n.overrideMimeType&&n.overrideMimeType(o.mimeType),o.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);s=function(t){return function(){s&&(s=r=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(Ze[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=s(),r=n.onerror=n.ontimeout=s("error"),void 0!==n.onabort?n.onabort=r:n.onreadystatechange=function(){4===n.readyState&&C.setTimeout(function(){s&&r()})},s=s("abort");try{n.send(o.hasContent&&o.data||null)}catch(t){if(s)throw t}},abort:function(){s&&s()}}}),D.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return D.globalEval(t),t}}}),D.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),D.ajaxTransport("script",function(i){var n,o;if(i.crossDomain||i.scriptAttrs)return{send:function(t,e){n=D("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",o=function(t){n.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(n[0])},abort:function(){o&&o()}}});var ei,ii=[],ni=/(=)\?(?=&|$)|\?\?/;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ii.pop()||D.expando+"_"+Ee.guid++;return this[t]=!0,t}}),D.ajaxPrefilter("json jsonp",function(t,e,i){var n,o,s,r=!1!==t.jsonp&&(ni.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=_(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(ni,"$1"+n):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||D.error(n+" was not called"),s[0]},t.dataTypes[0]="json",o=C[n],C[n]=function(){s=arguments},i.always(function(){void 0===o?D(C).removeProp(n):C[n]=o,t[n]&&(t.jsonpCallback=e.jsonpCallback,ii.push(n)),s&&_(o)&&o(s[0]),s=o=void 0}),"script"}),b.createHTMLDocument=((ei=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ei.childNodes.length),D.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(b.createHTMLDocument?((n=(e=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,e.head.appendChild(n)):e=S),s=!i&&[],(o=k.exec(t))?[e.createElement(o[1])]:(o=_t([t],e,s),s&&s.length&&D(s).remove(),D.merge([],o.childNodes)));var n,o,s},D.fn.load=function(t,e,i){var n,o,s,r=this,a=t.indexOf(" ");return-1<a&&(n=Ie(t.slice(a)),t=t.slice(0,a)),_(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<r.length&&D.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){s=arguments,r.html(n?D("<div>").append(D.parseHTML(t)).find(n):t)}).always(i&&function(t,e){r.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},D.expr.pseudos.animated=function(e){return D.grep(D.timers,function(t){return e===t.elem}).length},D.offset={setOffset:function(t,e,i){var n,o,s,r,a,l,c=D.css(t,"position"),u=D(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),s=D.css(t,"top"),l=D.css(t,"left"),o=("absolute"===c||"fixed"===c)&&-1<(s+l).indexOf("auto")?(r=(n=u.position()).top,n.left):(r=parseFloat(s)||0,parseFloat(l)||0),_(e)&&(e=e.call(t,i,D.extend({},a))),null!=e.top&&(d.top=e.top-a.top+r),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),u.css(d))}},D.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){D.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],o={top:0,left:0};if("fixed"===D.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===D.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((o=D(t).offset()).top+=D.css(t,"borderTopWidth",!0),o.left+=D.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-D.css(n,"marginTop",!0),left:e.left-o.left-D.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===D.css(t,"position");)t=t.offsetParent;return t||nt})}}),D.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var s="pageYOffset"===o;D.fn[e]=function(t){return B(this,function(t,e,i){var n;if(g(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===i)return n?n[o]:t[e];n?n.scrollTo(s?n.pageXOffset:i,s?i:n.pageYOffset):t[e]=i},e,t,arguments.length)}}),D.each(["top","left"],function(t,i){D.cssHooks[i]=Xt(b.pixelPosition,function(t,e){if(e)return e=Yt(t,i),Ut.test(e)?D(t).position()[i]+"px":e})}),D.each({Height:"height",Width:"width"},function(r,a){D.each({padding:"inner"+r,content:a,"":"outer"+r},function(n,s){D.fn[s]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),o=n||(!0===t||!0===e?"margin":"border");return B(this,function(t,e,i){var n;return g(t)?0===s.indexOf("outer")?t["inner"+r]:t.document.documentElement["client"+r]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+r],n["scroll"+r],t.body["offset"+r],n["offset"+r],n["client"+r])):void 0===i?D.css(t,e,o):D.style(t,e,i,o)},a,i?t:void 0,i)}})}),D.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){D.fn[e]=function(t){return this.on(e,t)}}),D.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),D.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){D.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}});var oi=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;D.proxy=function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),_(t))return n=a.call(arguments,2),(o=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||D.guid++,o},D.holdReady=function(t){t?D.readyWait++:D.ready(!0)},D.isArray=Array.isArray,D.parseJSON=JSON.parse,D.nodeName=T,D.isFunction=_,D.isWindow=g,D.camelCase=U,D.type=w,D.now=Date.now,D.isNumeric=function(t){var e=D.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},D.trim=function(t){return null==t?"":(t+"").replace(oi,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return D});var si=C.jQuery,ri=C.$;return D.noConflict=function(t){return C.$===D&&(C.$=ri),t&&C.jQuery===D&&(C.jQuery=si),D},void 0===t&&(C.jQuery=C.$=D),D}),function(){function W(t){return function(){return t}}!function(O){var t,z=this||(0,eval)("this"),N=z.document,H=z.navigator,L=z.jQuery,V=z.JSON;t=function(t){function e(t,r,a,l){x.d[t]={init:function(t){return x.a.f.set(t,I,{}),{controlsDescendantBindings:!0}},update:function(t,e,i,n,o){i=x.a.f.get(t,I),e=x.a.c(e()),n=!a!=!e;var s=!i.fb;(s||r||n!==i.vb)&&(s&&(i.fb=x.a.Oa(x.e.childNodes(t),!0)),n?(s||x.e.P(t,x.a.Oa(i.fb)),x.Ja(l?l(o,e):o,t)):x.e.ba(t),i.vb=n)}},x.g.S[t]=!1,x.e.L[t]=!0}function p(t,e,i){i&&e!==x.h.n(t)&&x.h.W(t,e),e!==x.h.n(t)&&x.q.I(x.a.Ga,null,[t,"change"])}var n,o,x=void 0!==t?t:{};x.b=function(t,e){for(var i=t.split("."),n=x,o=0;o<i.length-1;o++)n=n[i[o]];n[i[i.length-1]]=e},x.r=function(t,e,i){t[e]=i},x.version="2.3.0",x.b("version",x.version),x.a=function(){function d(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}function a(t,e){if("input"===x.a.u(t)&&t.type&&"click"==e.toLowerCase()){var i=t.type;return"checkbox"==i||"radio"==i}}var t={},o={};t[H&&/Firefox\/2/i.test(H.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],t.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),d(t,function(t,e){if(e.length)for(var i=0,n=e.length;i<n;i++)o[e[i]]=t});var l={propertychange:!0},c=N&&function(){for(var t=3,e=N.createElement("div"),i=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",i[0];);return 4<t?t:O}();return{Ta:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],p:function(t,e){for(var i=0,n=t.length;i<n;i++)e(t[i])},k:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},La:function(t,e,i){for(var n=0,o=t.length;n<o;n++)if(e.call(i,t[n]))return t[n];return null},ka:function(t,e){var i=x.a.k(t,e);0<=i&&t.splice(i,1)},Ma:function(t){for(var e=[],i=0,n=(t=t||[]).length;i<n;i++)x.a.k(e,t[i])<0&&e.push(t[i]);return e},Z:function(t,e){for(var i=[],n=0,o=(t=t||[]).length;n<o;n++)i.push(e(t[n]));return i},Y:function(t,e){for(var i=[],n=0,o=(t=t||[]).length;n<o;n++)e(t[n])&&i.push(t[n]);return i},R:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var i=0,n=e.length;i<n;i++)t.push(e[i]);return t},ja:function(t,e,i){var n=t.indexOf?t.indexOf(e):x.a.k(t,e);n<0?i&&t.push(e):i||t.splice(n,1)},extend:function(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},w:d,oa:function(t){for(;t.firstChild;)x.removeNode(t.firstChild)},Mb:function(t){t=x.a.N(t);for(var e=N.createElement("div"),i=0,n=t.length;i<n;i++)e.appendChild(x.H(t[i]));return e},Oa:function(t,e){for(var i=0,n=t.length,o=[];i<n;i++){var s=t[i].cloneNode(!0);o.push(e?x.H(s):s)}return o},P:function(t,e){if(x.a.oa(t),e)for(var i=0,n=e.length;i<n;i++)t.appendChild(e[i])},eb:function(t,e){var i=t.nodeType?[t]:t;if(0<i.length){for(var n=i[0],o=n.parentNode,s=0,r=e.length;s<r;s++)o.insertBefore(e[s],n);for(s=0,r=i.length;s<r;s++)x.removeNode(i[s])}},hb:function(t,e){c<7?t.setAttribute("selected",e):t.selected=e},F:function(t){return null===t||t===O?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Wb:function(t,e){for(var i=[],n=(t||"").split(e),o=0,s=n.length;o<s;o++){var r=x.a.F(n[o]);""!==r&&i.push(r)}return i},Tb:function(t,e){return t=t||"",!(e.length>t.length)&&t.substring(0,e.length)===e},yb:function(t,e){if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;null!=t;){if(t==e)return!0;t=t.parentNode}return!1},aa:function(t){return x.a.yb(t,t.ownerDocument)},pb:function(t){return!!x.a.La(t,x.a.aa)},u:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},o:function(e,t,i){var n=c&&l[t];if(n||void 0===L)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");function o(t){i.call(e,t)}var s="on"+t;e.attachEvent(s,o),x.a.C.ia(e,function(){e.detachEvent(s,o)})}else e.addEventListener(t,i,!1);else{if(a(e,t)){var r=i;i=function(t,e){var i=this.checked;e&&(this.checked=!0!==e.sb),r.call(this,t),this.checked=i}}L(e).bind(t,i)}},Ga:function(t,e){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");if(void 0!==L){var i=[];a(t,e)&&i.push({sb:t.checked}),L(t).trigger(e,i)}else if("function"==typeof N.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(i=N.createEvent(o[e]||"HTMLEvents")).initEvent(e,!0,!0,z,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(i)}else{if(void 0===t.fireEvent)throw Error("Browser doesn't support triggering events");a(t,e)&&(t.checked=!0!==t.checked),t.fireEvent("on"+e)}},c:function(t){return x.T(t)?t():t},ya:function(t){return x.T(t)?t.t():t},ga:function(t,e,i){if(e){var n=/\S+/g,o=t.className.match(n)||[];x.a.p(e.match(n),function(t){x.a.ja(o,t,i)}),t.className=o.join(" ")}},ib:function(t,e){var i=x.a.c(e);null!==i&&i!==O||(i="");var n=x.e.firstChild(t);!n||3!=n.nodeType||x.e.nextSibling(n)?x.e.P(t,[N.createTextNode(i)]):n.data=i,x.a.Bb(t)},gb:function(t,e){if(t.name=e,c<=7)try{t.mergeAttributes(N.createElement("<input name='"+t.name+"'/>"),!1)}catch(t){}},Bb:function(t){9<=c&&((t=1==t.nodeType?t:t.parentNode).style&&(t.style.zoom=t.style.zoom))},zb:function(t){if(c){var e=t.style.width;t.style.width=0,t.style.width=e}},Qb:function(t,e){t=x.a.c(t),e=x.a.c(e);for(var i=[],n=t;n<=e;n++)i.push(n);return i},N:function(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(t[i]);return e},Ub:6===c,Vb:7===c,ca:c,Ua:function(t,e){for(var i=x.a.N(t.getElementsByTagName("input")).concat(x.a.N(t.getElementsByTagName("textarea"))),n="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},o=[],s=i.length-1;0<=s;s--)n(i[s])&&o.push(i[s]);return o},Nb:function(t){return"string"==typeof t&&(t=x.a.F(t))?V&&V.parse?V.parse(t):new Function("return "+t)():null},Ca:function(t,e,i){if(!V||!V.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return V.stringify(x.a.c(t),e,i)},Ob:function(t,e,i){var n=(i=i||{}).params||{},o=i.includeFields||this.Ta,s=t;if("object"==typeof t&&"form"===x.a.u(t)){s=t.action;for(var r=o.length-1;0<=r;r--)for(var a=x.a.Ua(t,o[r]),l=a.length-1;0<=l;l--)n[a[l].name]=a[l].value}e=x.a.c(e);var c=N.createElement("form");for(var u in c.style.display="none",c.action=s,c.method="post",e)(t=N.createElement("input")).name=u,t.value=x.a.Ca(x.a.c(e[u])),c.appendChild(t);d(n,function(t,e){var i=N.createElement("input");i.name=t,i.value=e,c.appendChild(i)}),N.body.appendChild(c),i.submitter?i.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),x.b("utils",x.a),x.b("utils.arrayForEach",x.a.p),x.b("utils.arrayFirst",x.a.La),x.b("utils.arrayFilter",x.a.Y),x.b("utils.arrayGetDistinctValues",x.a.Ma),x.b("utils.arrayIndexOf",x.a.k),x.b("utils.arrayMap",x.a.Z),x.b("utils.arrayPushAll",x.a.R),x.b("utils.arrayRemoveItem",x.a.ka),x.b("utils.extend",x.a.extend),x.b("utils.fieldsIncludedWithJsonPost",x.a.Ta),x.b("utils.getFormFields",x.a.Ua),x.b("utils.peekObservable",x.a.ya),x.b("utils.postJson",x.a.Ob),x.b("utils.parseJson",x.a.Nb),x.b("utils.registerEventHandler",x.a.o),x.b("utils.stringifyJson",x.a.Ca),x.b("utils.range",x.a.Qb),x.b("utils.toggleDomNodeCssClass",x.a.ga),x.b("utils.triggerEvent",x.a.Ga),x.b("utils.unwrapObservable",x.a.c),x.b("utils.objectForEach",x.a.w),x.b("utils.addOrRemoveItem",x.a.ja),x.b("unwrap",x.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=Array.prototype.slice.call(arguments);return t=i.shift(),function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}}),x.a.f=new function(){var n=0,o="__ko__"+(new Date).getTime(),s={};return{get:function(t,e){var i=x.a.f.pa(t,!1);return i===O?O:i[e]},set:function(t,e,i){i===O&&x.a.f.pa(t,!1)===O||(x.a.f.pa(t,!0)[e]=i)},pa:function(t,e){var i=t[o];if(!i||"null"===i||!s[i]){if(!e)return O;i=t[o]="ko"+n++,s[i]={}}return s[i]},clear:function(t){var e=t[o];return!!e&&(delete s[e],!(t[o]=null))}}},x.b("utils.domData",x.a.f),x.b("utils.domData.clear",x.a.f.clear),x.a.C=new function(){function n(t,e){var i=x.a.f.get(t,s);return i===O&&e&&(i=[],x.a.f.set(t,s,i)),i}function o(t){if(e=n(t,!1))for(var e=e.slice(0),i=0;i<e.length;i++)e[i](t);if(x.a.f.clear(t),"function"==typeof L&&"function"==typeof L.cleanData&&L.cleanData([t]),a[t.nodeType])for(e=t.firstChild;t=e;)e=t.nextSibling,8===t.nodeType&&o(t)}var s="__ko_domNodeDisposal__"+(new Date).getTime(),r={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{ia:function(t,e){if("function"!=typeof e)throw Error("Callback must be a function");n(t,!0).push(e)},cb:function(t,e){var i=n(t,!1);i&&(x.a.ka(i,e),0==i.length&&x.a.f.set(t,s,O))},H:function(t){if(r[t.nodeType]&&(o(t),a[t.nodeType])){var e=[];x.a.R(e,t.getElementsByTagName("*"));for(var i=0,n=e.length;i<n;i++)o(e[i])}return t},removeNode:function(t){x.H(t),t.parentNode&&t.parentNode.removeChild(t)}}},x.H=x.a.C.H,x.removeNode=x.a.C.removeNode,x.b("cleanNode",x.H),x.b("removeNode",x.removeNode),x.b("utils.domNodeDisposal",x.a.C),x.b("utils.domNodeDisposal.addDisposeCallback",x.a.C.ia),x.b("utils.domNodeDisposal.removeDisposeCallback",x.a.C.cb),x.a.xa=function(t){var e;if(void 0!==L){if(L.parseHTML)e=L.parseHTML(t)||[];else if((e=L.clean([t]))&&e[0]){for(t=e[0];t.parentNode&&11!==t.parentNode.nodeType;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}}else{var i=x.a.F(t).toLowerCase();for(e=N.createElement("div"),t="ignored<div>"+(i=(i.match(/^<(thead|tbody|tfoot)/)?[1,"<table>","</table>"]:!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"])||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""])[1]+t+i[2]+"</div>","function"==typeof z.innerShiv?e.appendChild(z.innerShiv(t)):e.innerHTML=t;i[0]--;)e=e.lastChild;e=x.a.N(e.lastChild.childNodes)}return e},x.a.fa=function(t,e){if(x.a.oa(t),null!==(e=x.a.c(e))&&e!==O)if("string"!=typeof e&&(e=e.toString()),void 0!==L)L(t).html(e);else for(var i=x.a.xa(e),n=0;n<i.length;n++)t.appendChild(i[n])},x.b("utils.parseHtmlFragment",x.a.xa),x.b("utils.setHtml",x.a.fa),x.s=(n={},{va:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[e]=t,"\x3c!--[ko_memo:"+e+"]--\x3e"},mb:function(t,e){var i=n[t];if(i===O)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return i.apply(null,e||[]),!0}finally{delete n[t]}},nb:function(t,e){var i=[];!function t(e,i){if(e)if(8==e.nodeType)null!=(n=x.s.$a(e.nodeValue))&&i.push({xb:e,Kb:n});else if(1==e.nodeType)for(var n=0,o=e.childNodes,s=o.length;n<s;n++)t(o[n],i)}(t,i);for(var n=0,o=i.length;n<o;n++){var s=i[n].xb,r=[s];e&&x.a.R(r,e),x.s.mb(i[n].Kb,r),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},$a:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}),x.b("memoization",x.s),x.b("memoization.memoize",x.s.va),x.b("memoization.unmemoize",x.s.mb),x.b("memoization.parseMemoText",x.s.$a),x.b("memoization.unmemoizeDomNodeAndDescendants",x.s.nb),x.Sa={throttle:function(e,i){e.throttleEvaluation=i;var n=null;return x.j({read:e,write:function(t){clearTimeout(n),n=setTimeout(function(){e(t)},i)}})},notify:function(t,e){return t.equalityComparer="always"==e?W(!1):x.m.fn.equalityComparer,t}},x.b("extenders",x.Sa),x.kb=function(t,e,i){this.target=t,this.la=e,this.wb=i,x.r(this,"dispose",this.B)},x.kb.prototype.B=function(){this.Hb=!0,this.wb()},x.V=function(){this.G={},x.a.extend(this,x.V.fn),x.r(this,"subscribe",this.Da),x.r(this,"extend",this.extend),x.r(this,"getSubscriptionsCount",this.Db)},x.V.fn={Da:function(t,e,i){i=i||"change";var n=new x.kb(this,e?t.bind(e):t,function(){x.a.ka(this.G[i],n)}.bind(this));return this.G[i]||(this.G[i]=[]),this.G[i].push(n),n},notifySubscribers:function(e,t){t=t||"change",this.G[t]&&x.q.I(function(){x.a.p(this.G[t].slice(0),function(t){t&&!0!==t.Hb&&t.la(e)})},this)},Db:function(){var i=0;return x.a.w(this.G,function(t,e){i+=e.length}),i},extend:function(t){var n=this;return t&&x.a.w(t,function(t,e){var i=x.Sa[t];"function"==typeof i&&(n=i(n,e))}),n}},x.Wa=function(t){return null!=t&&"function"==typeof t.Da&&"function"==typeof t.notifySubscribers},x.b("subscribable",x.V),x.b("isSubscribable",x.Wa),x.q=(o=[],{rb:function(t){o.push({la:t,Ra:[]})},end:function(){o.pop()},bb:function(t){if(!x.Wa(t))throw Error("Only subscribable things can act as dependencies");if(0<o.length){var e=o[o.length-1];!e||0<=x.a.k(e.Ra,t)||(e.Ra.push(t),e.la(t))}},I:function(t,e,i){try{return o.push(null),t.apply(e,i||[])}finally{o.pop()}}});var i={undefined:!0,boolean:!0,number:!0,string:!0};x.m=function(t){function e(){return 0<arguments.length?(e.equalityComparer&&e.equalityComparer(i,arguments[0])||(e.K(),i=arguments[0],e.J()),this):(x.q.bb(e),i)}var i=t;return x.V.call(e),e.t=function(){return i},e.J=function(){e.notifySubscribers(i)},e.K=function(){e.notifySubscribers(i,"beforeChange")},x.a.extend(e,x.m.fn),x.r(e,"peek",e.t),x.r(e,"valueHasMutated",e.J),x.r(e,"valueWillMutate",e.K),e},x.m.fn={equalityComparer:function(t,e){return(null===t||typeof t in i)&&t===e}};var s,a,l,r,c,u,d,h=x.m.Pb="__ko_proto__";function f(n,o,s){if(s=s||new g,"object"!=typeof(n=o(n))||null===n||n===O||n instanceof Date||n instanceof String||n instanceof Number||n instanceof Boolean)return n;var r=n instanceof Array?[]:{};return s.save(n,r),function(t,e){if(t instanceof Array){for(var i=0;i<t.length;i++)e(i);"function"==typeof t.toJSON&&e("toJSON")}else for(i in t)e(i)}(n,function(t){var e=o(n[t]);switch(typeof e){case"boolean":case"number":case"string":case"function":r[t]=e;break;case"object":case"undefined":var i=s.get(e);r[t]=i!==O?i:f(e,o,s)}}),r}function g(){this.keys=[],this.Ha=[]}function m(t,i){for(var e=null;t!=e;)t=(e=t).replace(s,function(t,e){return i[e]});return t}function v(t){return 8==t.nodeType&&(r?t.text:t.nodeValue).match(c)}function b(t){return 8==t.nodeType&&(r?t.text:t.nodeValue).match(u)}function _(t,e){for(var i=t,n=1,o=[];i=i.nextSibling;){if(b(i)&&0===--n)return o;o.push(i),v(i)&&n++}if(!e)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function y(t,e){var i=_(t,e);return i?0<i.length?i[i.length-1].nextSibling:t.nextSibling:null}x.m.fn[h]=x.m,x.qa=function(t,e){return null!==t&&t!==O&&t[h]!==O&&(t[h]===e||x.qa(t[h],e))},x.T=function(t){return x.qa(t,x.m)},x.Xa=function(t){return!!("function"==typeof t&&t[h]===x.m||"function"==typeof t&&t[h]===x.j&&t.Eb)},x.b("observable",x.m),x.b("isObservable",x.T),x.b("isWriteableObservable",x.Xa),x.U=function(t){if("object"!=typeof(t=t||[])||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=x.m(t),x.a.extend(t,x.U.fn),t},x.U.fn={remove:function(e){for(var t=this.t(),i=[],n="function"==typeof e?e:function(t){return t===e},o=0;o<t.length;o++){var s=t[o];n(s)&&(0===i.length&&this.K(),i.push(s),t.splice(o,1),o--)}return i.length&&this.J(),i},removeAll:function(e){if(e!==O)return e?this.remove(function(t){return 0<=x.a.k(e,t)}):[];var t=this.t(),i=t.slice(0);return this.K(),t.splice(0,t.length),this.J(),i},destroy:function(e){var t=this.t(),i="function"==typeof e?e:function(t){return t===e};this.K();for(var n=t.length-1;0<=n;n--)i(t[n])&&(t[n]._destroy=!0);this.J()},destroyAll:function(e){return e===O?this.destroy(W(!0)):e?this.destroy(function(t){return 0<=x.a.k(e,t)}):[]},indexOf:function(t){var e=this();return x.a.k(e,t)},replace:function(t,e){var i=this.indexOf(t);0<=i&&(this.K(),this.t()[i]=e,this.J())}},x.a.p("pop push reverse shift sort splice unshift".split(" "),function(e){x.U.fn[e]=function(){var t=this.t();return this.K(),t=t[e].apply(t,arguments),this.J(),t}}),x.a.p(["slice"],function(e){x.U.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),x.b("observableArray",x.U),x.j=function(t,n,e){function i(){x.a.p(m,function(t){t.B()}),m=[]}function o(){var t=r.throttleEvaluation;t&&0<=t?(clearTimeout(v),v=setTimeout(s,t)):s()}function s(){if(!u)if(c&&f())g();else{u=!0;try{var i=x.a.Z(m,function(t){return t.target});x.q.rb(function(t){var e;0<=(e=x.a.k(i,t))?i[e]=O:m.push(t.Da(o))});for(var t=d.call(n),e=i.length-1;0<=e;e--)i[e]&&m.splice(e,1)[0].B();c=!0,r.notifySubscribers(l,"beforeChange"),r.notifySubscribers(l=t)}finally{x.q.end(),u=!1}m.length||g()}}function r(){if(0<arguments.length){if("function"!=typeof h)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return h.apply(n,arguments),this}return c||s(),x.q.bb(r),l}function a(){return!c||0<m.length}var l,c=!1,u=!1,d=t;if("function"!=typeof(d=d&&"object"==typeof d?(e=d).read:(e=e||{},d||e.read)))throw Error("Pass a function that returns the value of the ko.computed");var h=e.write,p=e.disposeWhenNodeIsRemoved||e.$||null,f=e.disposeWhen||e.Qa||W(!1),g=i,m=[],v=null;if(n=n||e.owner,r.t=function(){return c||s(),l},r.Cb=function(){return m.length},r.Eb="function"==typeof e.write,r.B=function(){g()},r.ta=a,x.V.call(r),x.a.extend(r,x.j.fn),x.r(r,"peek",r.t),x.r(r,"dispose",r.B),x.r(r,"isActive",r.ta),x.r(r,"getDependenciesCount",r.Cb),!0!==e.deferEvaluation&&s(),p&&a()){g=function(){x.a.C.cb(p,g),i()},x.a.C.ia(p,g);var b=f;f=function(){return!x.a.aa(p)||b()}}return r},x.Gb=function(t){return x.qa(t,x.j)},t=x.m.Pb,x.j[t]=x.m,x.j.fn={},x.j.fn[t]=x.j,x.b("dependentObservable",x.j),x.b("computed",x.j),x.b("isComputed",x.Gb),x.lb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return f(t,function(t){for(var e=0;x.T(t)&&e<10;e++)t=t();return t})},x.toJSON=function(t,e,i){return t=x.lb(t),x.a.Ca(t,e,i)},g.prototype={save:function(t,e){var i=x.a.k(this.keys,t);0<=i?this.Ha[i]=e:(this.keys.push(t),this.Ha.push(e))},get:function(t){return 0<=(t=x.a.k(this.keys,t))?this.Ha[t]:O}},x.b("toJS",x.lb),x.b("toJSON",x.toJSON),x.h={n:function(t){switch(x.a.u(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?x.a.f.get(t,x.d.options.wa):!(x.a.ca<=7)||t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text;case"select":return 0<=t.selectedIndex?x.h.n(t.options[t.selectedIndex]):O;default:return t.value}},W:function(t,e){switch(x.a.u(t)){case"option":switch(typeof e){case"string":x.a.f.set(t,x.d.options.wa,O),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=e;break;default:x.a.f.set(t,x.d.options.wa,e),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof e?e:""}break;case"select":""===e&&(e=O),null!==e&&e!==O||(t.selectedIndex=-1);for(var i=t.options.length-1;0<=i;i--)if(x.h.n(t.options[i])==e){t.selectedIndex=i;break}1<t.size||-1!==t.selectedIndex||(t.selectedIndex=0);break;default:null!==e&&e!==O||(e=""),t.value=e}}},x.b("selectExtensions",x.h),x.b("selectExtensions.readValue",x.h.n),x.b("selectExtensions.writeValue",x.h.W),x.g=(s=/\@ko_token_(\d+)\@/g,a=["true","false","null","undefined"],l=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,{S:[],da:function(t){if((r=x.a.F(t)).length<3)return[];"{"===r.charAt(0)&&(r=r.substring(1,r.length-1)),t=[];for(var e,i=null,n=0;n<r.length;n++){var o=r.charAt(n);if(null===i)switch(o){case'"':case"'":case"/":i=n,e=o}else if(o==e&&"\\"!==r.charAt(n-1)){o=r.substring(i,n+1),t.push(o);var s="@ko_token_"+(t.length-1)+"@",r=r.substring(0,i)+s+r.substring(n+1);n-=o.length-s.length,i=null}}e=i=null;var a=0,l=null;for(n=0;n<r.length;n++){if(o=r.charAt(n),null===i)switch(o){case"{":i=n,l=o,e="}";break;case"(":i=n,l=o,e=")";break;case"[":i=n,l=o,e="]"}o===l?a++:o===e&&0==--a&&(o=r.substring(i,n+1),t.push(o),s="@ko_token_"+(t.length-1)+"@",r=r.substring(0,i)+s+r.substring(n+1),n-=o.length-s.length,i=null)}for(e=[],i=0,n=(r=r.split(",")).length;i<n;i++)0<(l=(a=r[i]).indexOf(":"))&&l<a.length-1?(o=a.substring(l+1),e.push({key:m(a.substring(0,l),t),value:m(o,t)})):e.push({unknown:m(a,t)});return e},ea:function(t){var e="string"==typeof t?x.g.da(t):t,i=[];t=[];for(var n,o=0;n=e[o];o++)if(0<i.length&&i.push(","),n.key){var s;t:{s=n.key;var r=x.a.F(s);switch(r.length&&r.charAt(0)){case"'":case'"':break t;default:s="'"+r+"'"}}n=n.value,i.push(s),i.push(":"),i.push(n),n=x.a.F(n),(n=!(0<=x.a.k(a,x.a.F(n).toLowerCase()))&&null!==(r=n.match(l))&&(r[1]?"Object("+r[1]+")"+r[2]:n))&&(0<t.length&&t.push(", "),t.push(s+" : function(__ko_value) { "+n+" = __ko_value; }"))}else n.unknown&&i.push(n.unknown);return e=i.join(""),0<t.length&&(e=e+", '_ko_property_writers' : { "+t.join("")+" } "),e},Jb:function(t,e){for(var i=0;i<t.length;i++)if(x.a.F(t[i].key)==e)return!0;return!1},ha:function(t,e,i,n,o){t&&x.T(t)?!x.Xa(t)||o&&t.t()===n||t(n):(t=e()._ko_property_writers)&&t[i]&&t[i](n)}}),x.b("expressionRewriting",x.g),x.b("expressionRewriting.bindingRewriteValidators",x.g.S),x.b("expressionRewriting.parseObjectLiteral",x.g.da),x.b("expressionRewriting.preProcessBindings",x.g.ea),x.b("jsonExpressionRewriting",x.g),x.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",x.g.ea),r=N&&"\x3c!--test--\x3e"===N.createComment("test").text,c=r?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,u=r?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,d={ul:!0,ol:!0},x.e={L:{},childNodes:function(t){return v(t)?_(t):t.childNodes},ba:function(t){if(v(t))for(var e=0,i=(t=x.e.childNodes(t)).length;e<i;e++)x.removeNode(t[e]);else x.a.oa(t)},P:function(t,e){if(v(t)){x.e.ba(t);for(var i=t.nextSibling,n=0,o=e.length;n<o;n++)i.parentNode.insertBefore(e[n],i)}else x.a.P(t,e)},ab:function(t,e){v(t)?t.parentNode.insertBefore(e,t.nextSibling):t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},Va:function(t,e,i){i?v(t)?t.parentNode.insertBefore(e,i.nextSibling):i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):x.e.ab(t,e)},firstChild:function(t){return v(t)?!t.nextSibling||b(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return v(t)&&(t=y(t)),t.nextSibling&&b(t.nextSibling)?null:t.nextSibling},ob:function(t){return(t=v(t))?t[1]:null},Za:function(t){if(d[x.a.u(t)]){var e=t.firstChild;if(e)do{if(1===e.nodeType){var i,n=null;if(i=e.firstChild)do{if(n)n.push(i);else if(v(i)){var o=y(i,!0);o?i=o:n=[i]}else b(i)&&(n=[i])}while(i=i.nextSibling);if(i=n)for(n=e.nextSibling,o=0;o<i.length;o++)n?t.insertBefore(i[o],n):t.appendChild(i[o])}}while(e=e.nextSibling)}}},x.b("virtualElements",x.e),x.b("virtualElements.allowedBindings",x.e.L),x.b("virtualElements.emptyNode",x.e.ba),x.b("virtualElements.insertAfter",x.e.Va),x.b("virtualElements.prepend",x.e.ab),x.b("virtualElements.setDomNodeChildren",x.e.P),x.M=function(){this.Na={}},x.a.extend(x.M.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind");case 8:return null!=x.e.ob(t);default:return!1}},getBindings:function(t,e){var i=this.getBindingsString(t,e);return i?this.parseBindingsString(i,e,t):null},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return x.e.ob(t);default:return null}},parseBindingsString:function(e,t,i){try{var n;if(!(n=this.Na[e])){var o,s=this.Na,r="with($context){with($data||{}){return{"+x.g.ea(e)+"}}}";o=new Function("$context","$element",r),n=s[e]=o}return n(t,i)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),x.M.instance=new x.M,x.b("bindingProvider",x.M),function(){function s(t,e,i){for(var n=x.e.firstChild(e);e=n;)n=x.e.nextSibling(e),o(t,e,i)}function o(t,e,i){var n=!0,o=1===e.nodeType;o&&x.e.Za(e),(o&&i||x.M.instance.nodeHasBindings(e))&&(n=r(e,null,t,i).Sb),n&&s(t,e,!o)}function r(o,t,e,s){function r(t){return function(){return l[t]}}function a(){return l}var l,c,u=0,d=x.a.f.get(o,i);if(!t){if(d)throw Error("You cannot apply bindings multiple times to the same element.");x.a.f.set(o,i,!0)}return x.j(function(){var i=e&&e instanceof x.A?e:new x.A(x.a.c(e)),n=i.$data;!d&&s&&x.jb(o,i),(l=("function"==typeof t?t(i,o):t)||x.M.instance.getBindings(o,i))&&(0===u&&(u=1,x.a.w(l,function(t){var e=x.d[t];if(e&&8===o.nodeType&&!x.e.L[t])throw Error("The binding '"+t+"' cannot be used with virtual elements");if(e&&"function"==typeof e.init&&(e=(0,e.init)(o,r(t),a,n,i))&&e.controlsDescendantBindings){if(c!==O)throw Error("Multiple bindings ("+c+" and "+t+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");c=t}}),u=2),2===u&&x.a.w(l,function(t){var e=x.d[t];e&&"function"==typeof e.update&&(0,e.update)(o,r(t),a,n,i)}))},null,{$:o}),{Sb:c===O}}x.d={},x.A=function(t,e,i){e?(x.a.extend(this,e),this.$parentContext=e,this.$parent=e.$data,this.$parents=(e.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=t,this.ko=x),this.$data=t,i&&(this[i]=t)},x.A.prototype.createChildContext=function(t,e){return new x.A(t,this,e)},x.A.prototype.extend=function(t){var e=x.a.extend(new x.A,this);return x.a.extend(e,t)};var i="__ko_boundElement";x.jb=function(t,e){if(2!=arguments.length)return x.a.f.get(t,"__ko_bindingContext__");x.a.f.set(t,"__ko_bindingContext__",e)},x.Ka=function(t,e,i){return 1===t.nodeType&&x.e.Za(t),r(t,e,i,!0)},x.Ja=function(t,e){1!==e.nodeType&&8!==e.nodeType||s(t,e,!0)},x.Ia=function(t,e){if(e&&1!==e.nodeType&&8!==e.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");o(t,e=e||z.document.body,!0)},x.na=function(t){switch(t.nodeType){case 1:case 8:var e=x.jb(t);if(e)return e;if(t.parentNode)return x.na(t.parentNode)}return O},x.ub=function(t){return(t=x.na(t))?t.$data:O},x.b("bindingHandlers",x.d),x.b("applyBindings",x.Ia),x.b("applyBindingsToDescendants",x.Ja),x.b("applyBindingsToNode",x.Ka),x.b("contextFor",x.na),x.b("dataFor",x.ub)}();var w={class:"className",for:"htmlFor"};x.d.attr={update:function(n,t){var e=x.a.c(t())||{};x.a.w(e,function(t,e){var i=!1===(e=x.a.c(e))||null===e||e===O;i&&n.removeAttribute(t),x.a.ca<=8&&t in w?(t=w[t],i?n.removeAttribute(t):n[t]=e):i||n.setAttribute(t,e.toString()),"name"===t&&x.a.gb(n,i?"":e.toString())})}},x.d.checked={init:function(n,o,s){x.a.o(n,"click",function(){var t;if("checkbox"==n.type)t=n.checked;else{if("radio"!=n.type||!n.checked)return;t=n.value}var e=o(),i=x.a.c(e);"checkbox"==n.type&&i instanceof Array?x.a.ja(e,n.value,n.checked):x.g.ha(e,s,"checked",t,!0)}),"radio"!=n.type||n.name||x.d.uniqueName.init(n,W(!0))},update:function(t,e){var i=x.a.c(e());"checkbox"==t.type?t.checked=i instanceof Array?0<=x.a.k(i,t.value):i:"radio"==t.type&&(t.checked=t.value==i)}},x.d.css={update:function(i,t){var e=x.a.c(t());"object"==typeof e?x.a.w(e,function(t,e){e=x.a.c(e),x.a.ga(i,t,e)}):(e=String(e||""),x.a.ga(i,i.__ko__cssValue,!1),i.__ko__cssValue=e,x.a.ga(i,e,!0))}},x.d.enable={update:function(t,e){var i=x.a.c(e());i&&t.disabled?t.removeAttribute("disabled"):i||t.disabled||(t.disabled=!0)}},x.d.disable={update:function(t,e){x.d.enable.update(t,function(){return!x.a.c(e())})}},x.d.event={init:function(t,r,a,l){var e=r()||{};x.a.w(e,function(s){"string"==typeof s&&x.a.o(t,s,function(t){var e,i=r()[s];if(i){var n=a();try{var o=x.a.N(arguments);o.unshift(l),e=i.apply(l,o)}finally{!0!==e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===n[s+"Bubble"]&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},x.d.foreach={Ya:function(i){return function(){var t=i(),e=x.a.ya(t);return e&&"number"!=typeof e.length?(x.a.c(t),{foreach:e.data,as:e.as,includeDestroyed:e.includeDestroyed,afterAdd:e.afterAdd,beforeRemove:e.beforeRemove,afterRender:e.afterRender,beforeMove:e.beforeMove,afterMove:e.afterMove,templateEngine:x.D.sa}):{foreach:t,templateEngine:x.D.sa}}},init:function(t,e){return x.d.template.init(t,x.d.foreach.Ya(e))},update:function(t,e,i,n,o){return x.d.template.update(t,x.d.foreach.Ya(e),i,n,o)}},x.g.S.foreach=!1,x.e.L.foreach=!0,x.d.hasfocus={init:function(n,o,s){function t(t){n.__ko_hasfocusUpdating=!0;var e=n.ownerDocument;if("activeElement"in e){var i;try{i=e.activeElement}catch(t){i=e.body}t=i===n}e=o(),x.g.ha(e,s,"hasfocus",t,!0),n.__ko_hasfocusLastValue=t,n.__ko_hasfocusUpdating=!1}var e=t.bind(null,!0),i=t.bind(null,!1);x.a.o(n,"focus",e),x.a.o(n,"focusin",e),x.a.o(n,"blur",i),x.a.o(n,"focusout",i)},update:function(t,e){var i=!!x.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===i||(i?t.focus():t.blur(),x.q.I(x.a.Ga,null,[t,i?"focusin":"focusout"]))}},x.d.hasFocus=x.d.hasfocus,x.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){x.a.fa(t,e())}};var C,S,D,I="__ko_withIfBindingData";function T(t,e,i,n){t=x.g.da(t);for(var o=x.g.S,s=0;s<t.length;s++){var r=t[s].key;if(o.hasOwnProperty(r)){var a=o[r];if("function"==typeof a){if(r=a(t[s].value))throw Error(r)}else if(!a)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+x.g.ea(t)+" } })()},'"+i.toLowerCase()+"')",n.createJavaScriptEvaluatorBlock(i)+e}function k(t,e,i){var n;for(e=x.e.nextSibling(e);t&&(n=t)!==e;)t=x.e.nextSibling(n),1!==n.nodeType&&8!==n.nodeType||i(n)}function R(t,e){if(t.length){var i=t[0],n=t[t.length-1];k(i,n,function(t){x.Ia(e,t)}),k(i,n,function(t){x.s.nb(t,[e])})}}function A(t){return t.nodeType?t:0<t.length?t[0]:null}function F(t,e,i,n,o){o=o||{};var s=(s=t&&A(t))&&s.ownerDocument,r=o.templateEngine||D;if(x.Ea.Ab(i,r,s),"number"!=typeof(i=r.renderTemplate(i,n,o,s)).length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(s=!1,e){case"replaceChildren":x.e.P(t,i),s=!0;break;case"replaceNode":x.a.eb(t,i),s=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return s&&(R(i,n),o.afterRender&&x.q.I(o.afterRender,null,[i,n.$data])),i}function M(t,e,i,n,o){var s,r,a,l,c,u,d=Math.min,h=Math.max,p=[],f=t.length,g=e.length,m=g-f||1,v=f+g+1;for(s=0;s<=f;s++)for(l=a,p.push(a=[]),c=d(g,s+m),r=h(0,s-1);r<=c;r++)a[r]=r?s?t[s-1]===e[r-1]?l[r-1]:d(l[r]||v,a[r-1]||v)+1:r+1:s+1;for(d=[],h=[],m=[],s=f,r=g;s||r;)g=p[s][r]-1,r&&g===p[s][r-1]?h.push(d[d.length]={status:i,value:e[--r],index:r}):s&&g===p[s-1][r]?m.push(d[d.length]={status:n,value:t[--s],index:s}):(d.push({status:"retained",value:e[--r]}),--s);if(h.length&&m.length)for(t=10*f,e=i=0;(o||e<t)&&(u=h[i]);i++){for(n=0;p=m[n];n++)if(u.value===p.value){u.moved=p.index,p.moved=u.index,m.splice(n,1),e=n=0;break}e+=n}return d.reverse()}function E(t){for(;t.length&&!x.a.aa(t[0]);)t.splice(0,1);if(1<t.length){for(var e=t[0],i=t[t.length-1],n=[e];e!==i;){if(!(e=e.nextSibling))return;n.push(e)}Array.prototype.splice.apply(t,[0,t.length].concat(n))}return t}function P(t,e,i,n,o){var s=[];return t=x.j(function(){var t=e(i,o,E(s))||[];0<s.length&&(x.a.eb(s,t),n&&x.q.I(n,null,[i,t,o])),s.splice(0,s.length),x.a.R(s,t)},null,{$:t,Qa:function(){return!x.a.pb(s)}}),{O:s,j:t.ta()?t:O}}e("if"),e("ifnot",!1,!0),e("with",!0,!1,function(t,e){return t.createChildContext(e)}),x.d.options={init:function(t){if("select"!==x.a.u(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(t,e,i){function n(t,e,i){var n=typeof e;return"function"==n?e(t):"string"==n?t[e]:i}function o(t,e){if(l){var i=0<=x.a.k(l,x.h.n(e[0]));x.a.hb(e[0],i)}}var s=0==t.length,r=!s&&t.multiple?t.scrollTop:null;e=x.a.c(e());var a,l,c=i(),u=c.optionsIncludeDestroyed,d={};if(t.multiple?l=x.a.Z(t.selectedOptions||x.a.Y(t.childNodes,function(t){return t.tagName&&"option"===x.a.u(t)&&t.selected}),function(t){return x.h.n(t)}):0<=t.selectedIndex&&(l=[x.h.n(t.options[t.selectedIndex])]),e){void 0===e.length&&(e=[e]);var h=x.a.Y(e,function(t){return u||t===O||null===t||!x.a.c(t._destroy)});"optionsCaption"in c&&(null!==(a=x.a.c(c.optionsCaption))&&a!==O&&h.unshift(d))}else e=[];i=o,c.optionsAfterRender&&(i=function(t,e){o(0,e),x.q.I(c.optionsAfterRender,null,[e[0],t!==d?t:O])}),x.a.Aa(t,h,function(t,e,i){return i.length&&(l=i[0].selected&&[x.h.n(i[0])]),e=N.createElement("option"),t===d?(x.a.fa(e,a),x.h.W(e,O)):(i=n(t,c.optionsValue,t),x.h.W(e,x.a.c(i)),t=n(t,c.optionsText,i),x.a.ib(e,t)),[e]},null,i),l=null,s&&"value"in c&&p(t,x.a.ya(c.value),!0),x.a.zb(t),r&&20<Math.abs(r-t.scrollTop)&&(t.scrollTop=r)}},x.d.options.wa="__ko.optionValueDomData__",x.d.selectedOptions={init:function(i,n,o){x.a.o(i,"change",function(){var t=n(),e=[];x.a.p(i.getElementsByTagName("option"),function(t){t.selected&&e.push(x.h.n(t))}),x.g.ha(t,o,"selectedOptions",e)})},update:function(t,e){if("select"!=x.a.u(t))throw Error("values binding applies only to SELECT elements");var i=x.a.c(e());i&&"number"==typeof i.length&&x.a.p(t.getElementsByTagName("option"),function(t){var e=0<=x.a.k(i,x.h.n(t));x.a.hb(t,e)})}},x.d.style={update:function(i,t){var e=x.a.c(t()||{});x.a.w(e,function(t,e){e=x.a.c(e),i.style[t]=e||""})}},x.d.submit={init:function(n,o,t,s){if("function"!=typeof o())throw Error("The value for a submit binding must be a function");x.a.o(n,"submit",function(t){var e,i=o();try{e=i.call(s,n)}finally{!0!==e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},x.d.text={update:function(t,e){x.a.ib(t,e())}},x.e.L.text=!0,x.d.uniqueName={init:function(t,e){if(e()){var i="ko_unique_"+ ++x.d.uniqueName.tb;x.a.gb(t,i)}}},x.d.uniqueName.tb=0,x.d.value={init:function(i,n,o){function s(){r=!1;var t=n(),e=x.h.n(i);x.g.ha(t,o,"value",e)}var t=["change"],e=o().valueUpdate,r=!1;e&&("string"==typeof e&&(e=[e]),x.a.R(t,e),t=x.a.Ma(t)),!x.a.ca||"input"!=i.tagName.toLowerCase()||"text"!=i.type||"off"==i.autocomplete||i.form&&"off"==i.form.autocomplete||-1!=x.a.k(t,"propertychange")||(x.a.o(i,"propertychange",function(){r=!0}),x.a.o(i,"blur",function(){r&&s()})),x.a.p(t,function(t){var e=s;x.a.Tb(t,"after")&&(e=function(){setTimeout(s,0)},t=t.substring(5)),x.a.o(i,t,e)})},update:function(t,e){var i="select"===x.a.u(t),n=x.a.c(e()),o=x.h.n(t);n!==o&&((o=function(){x.h.W(t,n)})(),i&&setTimeout(o,0)),i&&0<t.length&&p(t,n,!1)}},x.d.visible={update:function(t,e){var i=x.a.c(e()),n="none"!=t.style.display;i&&!n?t.style.display="":!i&&n&&(t.style.display="none")}},x.d.click={init:function(t,e,i,n){return x.d.event.init.call(this,t,function(){var t={};return t.click=e(),t},i,n)}},x.v=function(){},x.v.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},x.v.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},x.v.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){var i=(e=e||N).getElementById(t);if(!i)throw Error("Cannot find template with ID "+t);return new x.l.i(i)}if(1==t.nodeType||8==t.nodeType)return new x.l.Q(t);throw Error("Unknown template type: "+t)},x.v.prototype.renderTemplate=function(t,e,i,n){return t=this.makeTemplateSource(t,n),this.renderTemplateSource(t,e,i)},x.v.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting||this.makeTemplateSource(t,e).data("isRewritten")},x.v.prototype.rewriteTemplate=function(t,e,i){e=e((t=this.makeTemplateSource(t,i)).text()),t.text(e),t.data("isRewritten",!0)},x.b("templateEngine",x.v),x.Ea=(C=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,S=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g,{Ab:function(t,e,i){e.isTemplateRewritten(t,i)||e.rewriteTemplate(t,function(t){return x.Ea.Lb(t,e)},i)},Lb:function(t,s){return t.replace(C,function(t,e,i,n,o){return T(o,e,i,s)}).replace(S,function(t,e){return T(e,"\x3c!-- ko --\x3e","#comment",s)})},qb:function(n,o){return x.s.va(function(t,e){var i=t.nextSibling;i&&i.nodeName.toLowerCase()===o&&x.Ka(i,n,e)})}}),x.b("__tr_ambtns",x.Ea.qb),x.l={},x.l.i=function(t){this.i=t},x.l.i.prototype.text=function(){var t="script"===(t=x.a.u(this.i))?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.i[t];var e=arguments[0];"innerHTML"===t?x.a.fa(this.i,e):this.i[t]=e},x.l.i.prototype.data=function(t){if(1===arguments.length)return x.a.f.get(this.i,"templateSourceData_"+t);x.a.f.set(this.i,"templateSourceData_"+t,arguments[1])},x.l.Q=function(t){this.i=t},x.l.Q.prototype=new x.l.i,x.l.Q.prototype.text=function(){if(0==arguments.length){var t=x.a.f.get(this.i,"__ko_anon_template__")||{};return t.Fa===O&&t.ma&&(t.Fa=t.ma.innerHTML),t.Fa}x.a.f.set(this.i,"__ko_anon_template__",{Fa:arguments[0]})},x.l.i.prototype.nodes=function(){if(0==arguments.length)return(x.a.f.get(this.i,"__ko_anon_template__")||{}).ma;x.a.f.set(this.i,"__ko_anon_template__",{ma:arguments[0]})},x.b("templateSources",x.l),x.b("templateSources.domElement",x.l.i),x.b("templateSources.anonymousTemplate",x.l.Q),x.Ba=function(t){if(t!=O&&!(t instanceof x.v))throw Error("templateEngine must inherit from ko.templateEngine");D=t},x.za=function(i,n,o,s,r){if(((o=o||{}).templateEngine||D)==O)throw Error("Set a template engine before calling renderTemplate");if(r=r||"replaceChildren",s){var a=A(s);return x.j(function(){var t=n&&n instanceof x.A?n:new x.A(x.a.c(n)),e="function"==typeof i?i(t.$data,t):i;t=F(s,r,e,t,o);"replaceNode"==r&&(a=A(s=t))},null,{Qa:function(){return!a||!x.a.aa(a)},$:a&&"replaceNode"==r?a.parentNode:a})}return x.s.va(function(t){x.za(i,n,o,t,"replaceNode")})},x.Rb=function(i,e,n,o,s){function r(t,e){R(e,l),n.afterRender&&n.afterRender(e,t)}function a(t,e){return(l=s.createChildContext(x.a.c(t),n.as)).$index=e,F(null,"ignoreTargetNode","function"==typeof i?i(t,l):i,l,n)}var l;return x.j(function(){var t=x.a.c(e)||[];void 0===t.length&&(t=[t]),t=x.a.Y(t,function(t){return n.includeDestroyed||t===O||null===t||!x.a.c(t._destroy)}),x.q.I(x.a.Aa,null,[o,t,a,n,r])},null,{$:o})},x.d.template={init:function(t,e){var i=x.a.c(e());return"string"==typeof i||i.name||1!=t.nodeType&&8!=t.nodeType||(i=1==t.nodeType?t.childNodes:x.e.childNodes(t),i=x.a.Mb(i),new x.l.Q(t).nodes(i)),{controlsDescendantBindings:!0}},update:function(t,e,i,n,o){i={},n=!0;var s,r=null;"string"!=typeof(e=x.a.c(e()))&&(i=e,e=x.a.c(i.name),"if"in i&&(n=x.a.c(i.if)),n&&"ifnot"in i&&(n=!x.a.c(i.ifnot)),s=x.a.c(i.data)),"foreach"in i?r=x.Rb(e||t,n&&i.foreach||[],i,t,o):n?(o="data"in i?o.createChildContext(s,i.as):o,r=x.za(e||t,o,i,t)):x.e.ba(t),o=r,(s=x.a.f.get(t,"__ko__templateComputedDomDataKey__"))&&"function"==typeof s.B&&s.B(),x.a.f.set(t,"__ko__templateComputedDomDataKey__",o&&o.ta()?o:O)}},x.g.S.template=function(t){return 1==(t=x.g.da(t)).length&&t[0].unknown||x.g.Jb(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},x.e.L.template=!0,x.b("setTemplateEngine",x.Ba),x.b("renderTemplate",x.za),x.a.Pa=function(t,e,i){return(t=t||[]).length<=(e=e||[]).length?M(t,e,"added","deleted",i):M(e,t,"deleted","added",i)},x.b("utils.compareArrays",x.a.Pa),x.a.Aa=function(t,e,i,n,o){function s(t,e){m=l[e],p!==e&&(_[t]=m),m.ra(p++),E(m.O),d.push(m),g.push(m)}function r(e,i){if(e)for(var n=0,t=i.length;n<t;n++)i[n]&&x.a.p(i[n].O,function(t){e(t,n,i[n].X)})}e=e||[],n=n||{};var a=x.a.f.get(t,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===O,l=x.a.f.get(t,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],c=x.a.Z(l,function(t){return t.X}),u=x.a.Pa(c,e,n.dontLimitMoves),d=[],h=0,p=0,f=[],g=[];e=[];for(var m,v,b,_=[],y=(c=[],0);v=u[y];y++)switch(b=v.moved,v.status){case"deleted":b===O&&((m=l[h]).j&&m.j.B(),f.push.apply(f,E(m.O)),n.beforeRemove&&(e[y]=m,g.push(m))),h++;break;case"retained":s(y,h++);break;case"added":b!==O?s(y,b):(m={X:v.value,ra:x.m(p++)},d.push(m),g.push(m),a||(c[y]=m))}r(n.beforeMove,_),x.a.p(f,n.beforeRemove?x.H:x.removeNode);var w;for(y=0,a=x.e.firstChild(t);m=g[y];y++){for(m.O||x.a.extend(m,P(t,i,m.X,o,m.ra)),h=0;u=m.O[h];a=u.nextSibling,w=u,h++)u!==a&&x.e.Va(t,u,w);!m.Fb&&o&&(o(m.X,m.O,m.ra),m.Fb=!0)}r(n.beforeRemove,e),r(n.afterMove,_),r(n.afterAdd,c),x.a.f.set(t,"setDomNodeChildrenFromArrayMapping_lastMappingResult",d)},x.b("utils.setDomNodeChildrenFromArrayMapping",x.a.Aa),x.D=function(){this.allowTemplateRewriting=!1},x.D.prototype=new x.v,x.D.prototype.renderTemplateSource=function(t){var e=x.a.ca<9||!t.nodes?null:t.nodes();return e?x.a.N(e.cloneNode(!0).childNodes):(t=t.text(),x.a.xa(t))},x.D.sa=new x.D,x.Ba(x.D.sa),x.b("nativeTemplateEngine",x.D),function(){x.ua=function(){var o=this.Ib=function(){if(void 0===L||!L.tmpl)return 0;try{if(0<=L.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(t,e,i){if(i=i||{},o<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var n=t.data("precompiled");return n||(n=t.text()||"",n=L.template(null,"{{ko_with $item.koBindingContext}}"+n+"{{/ko_with}}"),t.data("precompiled",n)),t=[e.$data],e=L.extend({koBindingContext:e},i.templateOptions),(e=L.tmpl(n,t,e)).appendTo(N.createElement("div")),L.fragments={},e},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){N.write("<script type='text/html' id='"+t+"'>"+e+"<\/script>")},0<o&&(L.tmpl.tag.ko_code={open:"__.push($1 || '');"},L.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},x.ua.prototype=new x.v;var t=new x.ua;0<t.Ib&&x.Ba(t),x.b("jqueryTmplTemplateEngine",x.ua)}()},"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?t(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],t):t(z.ko={})}()}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(k){var t,e,i,n;function o(t,e){var i,n,o,s=t.nodeName.toLowerCase();return"area"===s?(n=(i=t.parentNode).name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(o=k("img[usemap=#"+n+"]")[0])&&r(o))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||e)&&r(t)}function r(t){return k.expr.filters.visible(t)&&!k(t).parents().addBack().filter(function(){return"hidden"===k.css(this,"visibility")}).length}k.ui=k.ui||{},k.extend(k.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),k.fn.extend({scrollParent:function(){var t=this.css("position"),e="absolute"===t,i=this.parents().filter(function(){var t=k(this);return(!e||"static"!==t.css("position"))&&/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==t&&i.length?i:k(this[0].ownerDocument||document)},uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&k(this).removeAttr("id")})}}),k.extend(k.expr[":"],{data:k.expr.createPseudo?k.expr.createPseudo(function(e){return function(t){return!!k.data(t,e)}}):function(t,e,i){return!!k.data(t,i[3])},focusable:function(t){return o(t,!isNaN(k.attr(t,"tabindex")))},tabbable:function(t){var e=k.attr(t,"tabindex"),i=isNaN(e);return(i||0<=e)&&o(t,!i)}}),k("<a>").outerWidth(1).jquery||k.each(["Width","Height"],function(t,i){var o="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),s={innerWidth:k.fn.innerWidth,innerHeight:k.fn.innerHeight,outerWidth:k.fn.outerWidth,outerHeight:k.fn.outerHeight};function r(t,e,i,n){return k.each(o,function(){e-=parseFloat(k.css(t,"padding"+this))||0,i&&(e-=parseFloat(k.css(t,"border"+this+"Width"))||0),n&&(e-=parseFloat(k.css(t,"margin"+this))||0)}),e}k.fn["inner"+i]=function(t){return void 0===t?s["inner"+i].call(this):this.each(function(){k(this).css(n,r(this,t)+"px")})},k.fn["outer"+i]=function(t,e){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){k(this).css(n,r(this,t,!0,e)+"px")})}}),k.fn.addBack||(k.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),k("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(k.fn.removeData=(e=k.fn.removeData,function(t){return arguments.length?e.call(this,k.camelCase(t)):e.call(this)})),k.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),k.fn.extend({focus:(n=k.fn.focus,function(e,i){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){k(t).focus(),i&&i.call(t)},e)}):n.apply(this,arguments)}),disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(i+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,i,n=k(this[0]);n.length&&n[0]!==document;){if(("absolute"===(e=n.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}}),k.ui.plugin={add:function(t,e,i){var n,o=k.ui[t].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([e,i[n]])},call:function(t,e,i,n){var o,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)t.options[s[o][0]]&&s[o][1].apply(t.element,i)}};var s,a=0,l=Array.prototype.slice;k.cleanData=(s=k.cleanData,function(t){for(var e,i=0;null!=(e=t[i]);i++)try{k(e).triggerHandler("remove")}catch(t){}s(t)}),k.widget=function(t,i,e){var n,o,s,r,a={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,e||(e=i,i=k.Widget),k.expr[":"][n.toLowerCase()]=function(t){return!!k.data(t,n)},k[l]=k[l]||{},o=k[l][t],s=k[l][t]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},k.extend(s,o,{version:e.version,_proto:k.extend({},e),_childConstructors:[]}),(r=new i).options=k.widget.extend({},r.options),k.each(e,function(e,n){function o(){return i.prototype[e].apply(this,arguments)}function s(t){return i.prototype[e].apply(this,t)}k.isFunction(n)?a[e]=function(){var t,e=this._super,i=this._superApply;return this._super=o,this._superApply=s,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}:a[e]=n}),s.prototype=k.widget.extend(r,{widgetEventPrefix:o&&r.widgetEventPrefix||t},a,{constructor:s,namespace:l,widgetName:t,widgetFullName:n}),o?(k.each(o._childConstructors,function(t,e){var i=e.prototype;k.widget(i.namespace+"."+i.widgetName,s,e._proto)}),delete o._childConstructors):i._childConstructors.push(s),k.widget.bridge(t,s),s},k.widget.extend=function(t){for(var e,i,n=l.call(arguments,1),o=0,s=n.length;o<s;o++)for(e in n[o])i=n[o][e],n[o].hasOwnProperty(e)&&void 0!==i&&(k.isPlainObject(i)?t[e]=k.isPlainObject(t[e])?k.widget.extend({},t[e],i):k.widget.extend({},i):t[e]=i);return t},k.widget.bridge=function(s,e){var r=e.prototype.widgetFullName||s;k.fn[s]=function(i){var t="string"==typeof i,n=l.call(arguments,1),o=this;return i=!t&&n.length?k.widget.extend.apply(null,[i].concat(n)):i,t?this.each(function(){var t,e=k.data(this,r);return"instance"===i?(o=e,!1):e?k.isFunction(e[i])&&"_"!==i.charAt(0)?(t=e[i].apply(e,n))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:k.error("no such method '"+i+"' for "+s+" widget instance"):k.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var t=k.data(this,r);t?(t.option(i||{}),t._init&&t._init()):k.data(this,r,new e(i,this))}),o}},k.Widget=function(){},k.Widget._childConstructors=[],k.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=k(e||this.defaultElement||this)[0],this.element=k(e),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=k.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=k(),this.hoverable=k(),this.focusable=k(),e!==this&&(k.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=k(e.style?e.ownerDocument:e.document||e),this.window=k(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:k.noop,_getCreateEventData:k.noop,_create:k.noop,_init:k.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(k.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:k.noop,widget:function(){return this.element},option:function(t,e){var i,n,o,s=t;if(0===arguments.length)return k.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(i=t.split(".")).shift(),i.length){for(n=s[t]=k.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)n[i[o]]=n[i[o]]||{},n=n[i[o]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=e}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(r,a,t){var l,c=this;"boolean"!=typeof r&&(t=a,a=r,r=!1),t?(a=l=k(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),k.each(t,function(t,e){function i(){if(r||!0!==c.options.disabled&&!k(this).hasClass("ui-state-disabled"))return("string"==typeof e?c[e]:e).apply(c,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||k.guid++);var n=t.match(/^([\w:-]*)\s*(.*)$/),o=n[1]+c.eventNamespace,s=n[2];s?l.delegate(s,o,i):a.bind(o,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){k(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){k(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){k(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){k(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,i){var n,o,s=this.options[t];if(i=i||{},(e=k.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(n in o)n in e||(e[n]=o[n]);return this.element.trigger(e,i),!(k.isFunction(s)&&!1===s.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},k.each({show:"fadeIn",hide:"fadeOut"},function(s,r){k.Widget.prototype["_"+s]=function(e,t,i){"string"==typeof t&&(t={effect:t});var n,o=t?!0!==t&&"number"!=typeof t&&t.effect||r:s;"number"==typeof(t=t||{})&&(t={duration:t}),n=!k.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),n&&k.effects&&k.effects.effect[o]?e[s](t):o!==s&&e[o]?e[o](t.duration,t.easing,i):e.queue(function(t){k(this)[s](),i&&i.call(e[0]),t()})}});k.widget;var c=!1;k(document).mouseup(function(){c=!1});k.widget("ui.mouse",{version:"1.11.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){if(!0===k.data(t.target,e.widgetName+".preventClickEvent"))return k.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!c){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&k(t.target).closest(this.options.cancel).length;return i&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===k.data(t.target,this.widgetName+".preventClickEvent")&&k.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),c=!0)):!0}},_mouseMove:function(t){return(!k.ui.ie||document.documentMode&&!(document.documentMode<9)||t.button)&&t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&k.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),c=!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){k.ui=k.ui||{};var o,x,C=Math.max,S=Math.abs,D=Math.round,n=/left|center|right/,s=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,c=k.fn.position;function I(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function T(t,e){return parseInt(k.css(t,e),10)||0}k.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,e,i=k("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return k("body").append(i),t=n.offsetWidth,i.css("overflow","scroll"),t===(e=n.offsetWidth)&&(e=i[0].clientWidth),i.remove(),o=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?k.position.scrollbarWidth():0,height:n?k.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=k(t||window),i=k.isWindow(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:n,offset:i||n?{left:0,top:0}:e.offset(),scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:i?e.width():e.outerWidth(),height:i?e.height():e.outerHeight()}}},k.fn.position=function(d){if(!d||!d.of)return c.apply(this,arguments);d=k.extend({},d);var h,p,f,g,m,t,e,i,v=k(d.of),b=k.position.getWithinInfo(d.within),_=k.position.getScrollInfo(b),y=(d.collision||"flip").split(" "),w={};return t=9===(i=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:k.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()},v[0].preventDefault&&(d.at="left top"),p=t.width,f=t.height,g=t.offset,m=k.extend({},g),k.each(["my","at"],function(){var t,e,i=(d[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",t=r.exec(i[0]),e=r.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],d[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===d.at[0]?m.left+=p:"center"===d.at[0]&&(m.left+=p/2),"bottom"===d.at[1]?m.top+=f:"center"===d.at[1]&&(m.top+=f/2),h=I(w.at,p,f),m.left+=h[0],m.top+=h[1],this.each(function(){var i,t,r=k(this),a=r.outerWidth(),l=r.outerHeight(),e=T(this,"marginLeft"),n=T(this,"marginTop"),o=a+e+T(this,"marginRight")+_.width,s=l+n+T(this,"marginBottom")+_.height,c=k.extend({},m),u=I(w.my,r.outerWidth(),r.outerHeight());"right"===d.my[0]?c.left-=a:"center"===d.my[0]&&(c.left-=a/2),"bottom"===d.my[1]?c.top-=l:"center"===d.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],x||(c.left=D(c.left),c.top=D(c.top)),i={marginLeft:e,marginTop:n},k.each(["left","top"],function(t,e){k.ui.position[y[t]]&&k.ui.position[y[t]][e](c,{targetWidth:p,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:o,collisionHeight:s,offset:[h[0]+u[0],h[1]+u[1]],my:d.my,at:d.at,within:b,elem:r})}),d.using&&(t=function(t){var e=g.left-c.left,i=e+p-a,n=g.top-c.top,o=n+f-l,s={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:r,left:c.left,top:c.top,width:a,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:o<0?"top":0<n?"bottom":"middle"};p<a&&S(e+i)<p&&(s.horizontal="center"),f<l&&S(n+o)<f&&(s.vertical="middle"),C(S(e),S(i))>C(S(n),S(o))?s.important="horizontal":s.important="vertical",d.using.call(this,t,s)}),r.offset(k.extend(c,{using:t}))})},k.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=t.left-e.collisionPosition.marginLeft,a=o-r,l=r+e.collisionWidth-s-o;e.collisionWidth>s?0<a&&l<=0?(i=t.left+a+e.collisionWidth-s-o,t.left+=a-i):t.left=!(0<l&&a<=0)&&l<a?o+s-e.collisionWidth:o:0<a?t.left+=a:0<l?t.left-=l:t.left=C(t.left-r,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,r=t.top-e.collisionPosition.marginTop,a=o-r,l=r+e.collisionHeight-s-o;e.collisionHeight>s?0<a&&l<=0?(i=t.top+a+e.collisionHeight-s-o,t.top+=a-i):t.top=!(0<l&&a<=0)&&l<a?o+s-e.collisionHeight:o:0<a?t.top+=a:0<l?t.top-=l:t.top=C(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,s=o.offset.left+o.scrollLeft,r=o.width,a=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-a,u=l+e.collisionWidth-r-a,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,h="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((i=t.left+d+h+p+e.collisionWidth-r-s)<0||i<S(c))&&(t.left+=d+h+p):0<u&&(0<(n=t.left-e.collisionPosition.marginLeft+d+h+p-a)||S(n)<u)&&(t.left+=d+h+p)},top:function(t,e){var i,n,o=e.within,s=o.offset.top+o.scrollTop,r=o.height,a=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,u=l+e.collisionHeight-r-a,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,h="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];c<0?(n=t.top+d+h+p+e.collisionHeight-r-s,t.top+d+h+p>c&&(n<0||n<S(c))&&(t.top+=d+h+p)):0<u&&(i=t.top-e.collisionPosition.marginTop+d+h+p-a,t.top+d+h+p>u&&(0<i||S(i)<u)&&(t.top+=d+h+p))}},flipfit:{left:function(){k.ui.position.flip.left.apply(this,arguments),k.ui.position.fit.left.apply(this,arguments)},top:function(){k.ui.position.flip.top.apply(this,arguments),k.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,i,n,o,s=document.getElementsByTagName("body")[0],r=document.createElement("div");for(o in t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&k.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[o]=i[o];t.appendChild(r),(e=s||document.documentElement).insertBefore(t,e.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=k(r).offset().left,x=10<n&&n<11,t.innerHTML="",e.removeChild(t)}()}();k.ui.position,k.widget("ui.accordion",{version:"1.11.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=k(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():k()}},_createIcons:function(){var t=this.options.icons;t&&(k("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))):this._activate(e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=k.ui.keyCode,i=this.headers.length,n=this.headers.index(t.target),o=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:o=this.headers[(n+1)%i];break;case e.LEFT:case e.UP:o=this.headers[(n-1+i)%i];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:o=this.headers[0];break;case e.END:o=this.headers[i-1]}o&&(k(t.target).attr("tabIndex",-1),k(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===k.ui.keyCode.UP&&t.ctrlKey&&k(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=k()):!1===t.active?this._activate(0):this.active.length&&!k.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=k()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,t=this.options,e=t.heightStyle,n=this.element.parent();this.active=this._findActive(t.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=k(this),e=t.uniqueId().attr("id"),i=t.next(),n=i.uniqueId().attr("id");t.attr("aria-controls",n),i.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(i=n.height(),this.element.siblings(":visible").each(function(){var t=k(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=k(this).outerHeight(!0)}),this.headers.next().each(function(){k(this).height(Math.max(0,i-k(this).innerHeight()+k(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.headers.next().each(function(){i=Math.max(i,k(this).css("height","").height())}).height(i))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:k.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):k()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&k.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e=this.options,i=this.active,n=k(t.currentTarget),o=n[0]===i[0],s=o&&e.collapsible,r=s?k():n.next(),a=i.next(),l={oldHeader:i,oldPanel:a,newHeader:s?k():n,newPanel:r};t.preventDefault(),o&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!s&&this.headers.index(n),this.active=o?k():n,this._toggle(l),i.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&i.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),o||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),e.icons&&n.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=i,this.options.animate?this._animate(e,i,t):(i.hide(),e.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr("aria-selected","false"),e.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===k(this).attr("tabIndex")}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,i,e){function n(){a._toggleComplete(e)}var o,s,r,a=this,l=0,c=t.length&&(!i.length||t.index()<i.index()),u=this.options.animate||{},d=c&&u.down||u;return"number"==typeof d&&(r=d),"string"==typeof d&&(s=d),s=s||d.easing||u.easing,r=r||d.duration||u.duration,i.length?t.length?(o=t.show().outerHeight(),i.animate(this.hideProps,{duration:r,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:s,complete:n,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?l+=e.now:"content"!==a.options.heightStyle&&(e.now=Math.round(o-i.outerHeight()-l),l=0)}})):i.animate(this.hideProps,r,s,n):t.animate(this.showProps,r,s,n)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),k.widget("ui.menu",{version:"1.11.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=k(t.target);!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&k(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var e=k(t.currentTarget);e.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(t){this._delay(function(){k.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=k(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var e,i,n,o,s,r=!0;function a(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case k.ui.keyCode.PAGE_UP:this.previousPage(t);break;case k.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case k.ui.keyCode.HOME:this._move("first","first",t);break;case k.ui.keyCode.END:this._move("last","last",t);break;case k.ui.keyCode.UP:this.previous(t);break;case k.ui.keyCode.DOWN:this.next(t);break;case k.ui.keyCode.LEFT:this.collapse(t);break;case k.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case k.ui.keyCode.ENTER:case k.ui.keyCode.SPACE:this._activate(t);break;case k.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,i=this.previousFilter||"",n=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),n===i?o=!0:n=i+n,s=new RegExp("^"+a(n),"i"),e=this.activeMenu.find(this.options.items).filter(function(){return s.test(k(this).text())}),(e=o&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(n=String.fromCharCode(t.keyCode),s=new RegExp("^"+a(n),"i"),e=this.activeMenu.find(this.options.items).filter(function(){return s.test(k(this).text())})),e.length?(this.focus(t,e),1<e.length?(this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}r&&t.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var t,e=this,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=k(this),e=t.parent(),i=k("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",e.attr("id"))}),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=k(this);e._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!k.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,i,n,o,s,r;this._hasScroll()&&(e=parseFloat(k.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(k.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-e-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),r=t.outerHeight(),n<0?this.activeMenu.scrollTop(o+n):s<n+r&&this.activeMenu.scrollTop(o+n-s+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=k.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var t=i?this.element:k(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this.activeMenu=t},this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!k(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(t){var e,i,n;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=k(this)).offset().top-i-n<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,i,n;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=k(this)).offset().top-i+n}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||k(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)}});k.widget("ui.autocomplete",{version:"1.11.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var i,n,o,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,s="input"===t;this.isMultiLine=e||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[e||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))n=o=i=!0;else{n=o=i=!1;var e=k.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:i=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:i=!0,this._move("nextPage",t);break;case e.UP:i=!0,this._keyEvent("previous",t);break;case e.DOWN:i=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(i=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(t),t.preventDefault());break;default:n=!0,this._searchTimeout(t)}}},keypress:function(t){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!n){var e=k.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(o)return o=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=k("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];k(t.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(t){t.target===e.element[0]||t.target===i||k.contains(i,t.target)||e.close()})})},menufocus:function(t,e){var i,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){k(t.target).trigger(t.originalEvent)});n=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(i=e.item.attr("aria-label")||n.value)&&jQuery.trim(i).length&&(this.liveRegion.children().hide(),k("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=k("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return(t=t&&(t.jquery||t.nodeType?k(t):this.document.find(t).eq(0)))&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,n,o=this;k.isArray(this.options.source)?(i=this.options.source,this.source=function(t,e){e(k.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,e){o.xhr&&o.xhr.abort(),o.xhr=k.ajax({url:n,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),i=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||e||i)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return k.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:k.map(t,function(t){return"string"==typeof t?{label:t,value:t}:k.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(k.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,t){var n=this;k.each(t,function(t,e){n._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return k("<li>").text(e.label).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),k.extend(k.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var i=new RegExp(k.ui.autocomplete.escapeRegex(e),"i");return k.grep(t,function(t){return i.test(t.label||t.value||t)})}}),k.widget("ui.autocomplete",k.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),k("<div>").text(e).appendTo(this.liveRegion))}});k.ui.autocomplete;function u(){var t=k(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)}function d(t){var e=t.name,i=t.form,n=k([]);return e&&(e=e.replace(/'/g,"\\'"),n=i?k(i).find("[name='"+e+"'][type=radio]"):k("[name='"+e+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n}var h,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only";k.widget("ui.button",{version:"1.11.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,u),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,t="checkbox"===this.type||"radio"===this.type,n=t?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===h&&k(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||k(this).removeClass(n)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),t&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;k(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var t=e.element[0];d(t).not(t).map(function(){return k(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(i.disabled)return!1;k(this).addClass("ui-state-active"),h=this,e.document.one("mouseup",function(){h=null})}).bind("mouseup"+this.eventNamespace,function(){if(i.disabled)return!1;k(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(i.disabled)return!1;t.keyCode!==k.ui.keyCode.SPACE&&t.keyCode!==k.ui.keyCode.ENTER||k(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){k(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===k.ui.keyCode.SPACE&&k(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?d(this.element[0]).each(function(){k(this).is(":checked")?k(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):k(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(f),e=k("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,n=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",k.trim(e)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),k.widget("ui.buttonset",{version:"1.11.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var t="rtl"===this.element.css("direction"),e=this.element.find(this.options.items),i=e.filter(":ui-button");e.not(":ui-button").button(),i.button("refresh"),this.buttons=e.map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var g;k.ui.button;function m(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},k.extend(this._defaults,this.regional[""]),this.regional.en=k.extend(!0,{},this.regional[""]),this.regional["en-US"]=k.extend(!0,{},this.regional.en),this.dpDiv=v(k("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function v(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){k(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&k(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&k(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",function(){k.datepicker._isDisabledDatepicker(g.inline?t.parent()[0]:g.input[0])||(k(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),k(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&k(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&k(this).addClass("ui-datepicker-next-hover"))})}function b(t,e){for(var i in k.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}k.extend(k.ui,{datepicker:{version:"1.11.0"}}),k.extend(m.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return b(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var i,n,o;n="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(k(t),n)).settings=k.extend({},e||{}),"input"===i?this._connectDatepicker(t,o):n&&this._inlineDatepicker(t,o)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?v(k("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=k(t);e.append=k([]),e.trigger=k([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),k.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,n,o,s=this._get(e,"appendText"),r=this._get(e,"isRTL");e.append&&e.append.remove(),s&&(e.append=k("<span class='"+this._appendClass+"'>"+s+"</span>"),t[r?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||t.focus(this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(e,"buttonText"),o=this._get(e,"buttonImage"),e.trigger=k(this._get(e,"buttonImageOnly")?k("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):k("<button type='button'></button>").addClass(this._triggerClass).html(o?k("<img/>").attr({src:o,alt:n,title:n}):n)),t[r?"before":"after"](e.trigger),e.trigger.click(function(){return k.datepicker._datepickerShowing&&k.datepicker._lastInput===t[0]?k.datepicker._hideDatepicker():(k.datepicker._datepickerShowing&&k.datepicker._lastInput!==t[0]&&k.datepicker._hideDatepicker(),k.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,s=new Date(2009,11,20),r=this._get(t,"dateFormat");r.match(/[DM]/)&&(e=function(t){for(o=n=i=0;o<t.length;o++)t[o].length>i&&(i=t[o].length,n=o);return n},s.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(t,e){var i=k(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),k.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,o){var s,r,a,l,c,u=this._dialogInst;return u||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=k("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),k("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},k.data(this._dialogInput[0],"datepicker",u)),b(u.settings,n||{}),e=e&&e.constructor===Date?this._formatDate(u,e):e,this._dialogInput.val(e),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(r=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+l,a/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),k.blockUI&&k.blockUI(this.dpDiv),k.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(t){var e,i=k(t),n=k.data(t,"datepicker");i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),k.removeData(t,"datepicker"),"input"===e?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var t,i,n=k(e),o=k.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=k.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i,n=k(e),o=k.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=k.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return k.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n,o,s,r,a=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?k.extend({},k.datepicker._defaults):a?"all"===e?k.extend({},a.settings):this._get(a,e):null;n=e||{},"string"==typeof e&&((n={})[e]=i),a&&(this._curInst===a&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(a,"min"),r=this._getMinMaxDate(a,"max"),b(a.settings,n),null!==s&&void 0!==n.dateFormat&&void 0===n.minDate&&(a.settings.minDate=this._formatDate(a,s)),null!==r&&void 0!==n.dateFormat&&void 0===n.maxDate&&(a.settings.maxDate=this._formatDate(a,r)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(k(t),a),this._autoSize(a),this._setDate(a,o),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e,i,n,o=k.datepicker._getInst(t.target),s=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,k.datepicker._datepickerShowing)switch(t.keyCode){case 9:k.datepicker._hideDatepicker(),s=!1;break;case 13:return(n=k("td."+k.datepicker._dayOverClass+":not(."+k.datepicker._currentClass+")",o.dpDiv))[0]&&k.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,n[0]),(e=k.datepicker._get(o,"onSelect"))?(i=k.datepicker._formatDate(o),e.apply(o.input?o.input[0]:null,[i,o])):k.datepicker._hideDatepicker(),!1;case 27:k.datepicker._hideDatepicker();break;case 33:k.datepicker._adjustDate(t.target,t.ctrlKey?-k.datepicker._get(o,"stepBigMonths"):-k.datepicker._get(o,"stepMonths"),"M");break;case 34:k.datepicker._adjustDate(t.target,t.ctrlKey?+k.datepicker._get(o,"stepBigMonths"):+k.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&k.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&k.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&k.datepicker._adjustDate(t.target,r?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&k.datepicker._adjustDate(t.target,t.ctrlKey?-k.datepicker._get(o,"stepBigMonths"):-k.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&k.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&k.datepicker._adjustDate(t.target,r?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&k.datepicker._adjustDate(t.target,t.ctrlKey?+k.datepicker._get(o,"stepBigMonths"):+k.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&k.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?k.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i,n=k.datepicker._getInst(t.target);if(k.datepicker._get(n,"constrainInput"))return e=k.datepicker._possibleChars(k.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)},_doKeyUp:function(t){var e=k.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{k.datepicker.parseDate(k.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,k.datepicker._getFormatConfig(e))&&(k.datepicker._setDateFromField(e),k.datepicker._updateAlternate(e),k.datepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,i,n,o,s,r,a;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=k("input",t.parentNode)[0]),k.datepicker._isDisabledDatepicker(t)||k.datepicker._lastInput===t||(e=k.datepicker._getInst(t),k.datepicker._curInst&&k.datepicker._curInst!==e&&(k.datepicker._curInst.dpDiv.stop(!0,!0),e&&k.datepicker._datepickerShowing&&k.datepicker._hideDatepicker(k.datepicker._curInst.input[0])),!1!==(n=(i=k.datepicker._get(e,"beforeShow"))?i.apply(t,[t,e]):{})&&(b(e.settings,n),e.lastVal=null,k.datepicker._lastInput=t,k.datepicker._setDateFromField(e),k.datepicker._inDialog&&(t.value=""),k.datepicker._pos||(k.datepicker._pos=k.datepicker._findPos(t),k.datepicker._pos[1]+=t.offsetHeight),o=!1,k(t).parents().each(function(){return!(o|="fixed"===k(this).css("position"))}),s={left:k.datepicker._pos[0],top:k.datepicker._pos[1]},k.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),k.datepicker._updateDatepicker(e),s=k.datepicker._checkOffset(e,s,o),e.dpDiv.css({position:k.datepicker._inDialog&&k.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),e.inline||(r=k.datepicker._get(e,"showAnim"),a=k.datepicker._get(e,"duration"),e.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(k(t))+1),k.datepicker._datepickerShowing=!0,k.effects&&k.effects.effect[r]?e.dpDiv.show(r,k.datepicker._get(e,"showOptions"),a):e.dpDiv[r||"show"](r?a:null),k.datepicker._shouldFocusInput(e)&&e.input.focus(),k.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(g=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a");var e,i=this._getNumberOfMonths(t),n=i[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<n&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===k.datepicker._curInst&&k.datepicker._datepickerShowing&&k.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:k(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:k(document).scrollTop());return e.left-=this._get(t,"isRTL")?n-s:0,e.left-=i&&e.left===t.input.offset().left?k(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+r?k(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>a&&n<a?Math.abs(e.left+n-a):0),e.top-=Math.min(e.top,e.top+o>l&&o<l?Math.abs(o+r):0),e},_findPos:function(t){for(var e,i=this._getInst(t),n=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||k.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return[(e=k(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,n,o,s=this._curInst;!s||t&&s!==k.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(s,"showAnim"),i=this._get(s,"duration"),n=function(){k.datepicker._tidyDialog(s)},k.effects&&(k.effects.effect[e]||k.effects[e])?s.dpDiv.hide(e,k.datepicker._get(s,"showOptions"),i,n):s.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,n),e||n(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),k.blockUI&&(k.unblockUI(),k("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(k.datepicker._curInst){var e=k(t.target),i=k.datepicker._getInst(e[0]);(e[0].id===k.datepicker._mainDivId||0!==e.parents("#"+k.datepicker._mainDivId).length||e.hasClass(k.datepicker.markerClassName)||e.closest("."+k.datepicker._triggerClass).length||!k.datepicker._datepickerShowing||k.datepicker._inDialog&&k.blockUI)&&(!e.hasClass(k.datepicker.markerClassName)||k.datepicker._curInst===i)||k.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var n=k(t),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,e+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var e,i=k(t),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(e=new Date,n.selectedDay=e.getDate(),n.drawMonth=n.selectedMonth=e.getMonth(),n.drawYear=n.selectedYear=e.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(t,e,i){var n=k(t),o=this._getInst(n[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(t,e,i,n){var o,s=k(t);k(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=k("a",n).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var e=k(t);this._selectDate(e,"")},_selectDate:function(t,e){var i,n=k(t),o=this._getInst(n[0]);e=null!=e?e:this._formatDate(o),o.input&&o.input.val(e),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[e,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e,i,n,o=this._get(t,"altField");o&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),n=this.formatDate(e,i,this._getFormatConfig(t)),k(o).each(function(){k(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,s,t){if(null==i||null==s)throw"Invalid arguments";if(""===(s="object"==typeof s?s.toString():s+""))return null;function r(t){var e=a+1<i.length&&i.charAt(a+1)===t;return e&&a++,e}function e(t){var e=r(t),i=new RegExp("^\\d{1,"+("@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2)+"}"),n=s.substring(d).match(i);if(!n)throw"Missing number at position "+d;return d+=n[0].length,parseInt(n[0],10)}function n(t,e,i){var n=-1,o=k.map(r(t)?i:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(k.each(o,function(t,e){var i=e[1];if(s.substr(d,i.length).toLowerCase()===i.toLowerCase())return n=e[0],d+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+d}function o(){if(s.charAt(d)!==i.charAt(a))throw"Unexpected literal at position "+d;d++}var a,l,c,u,d=0,h=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,p="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),f=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,g=(t?t.dayNames:null)||this._defaults.dayNames,m=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,v=(t?t.monthNames:null)||this._defaults.monthNames,b=-1,_=-1,y=-1,w=-1,x=!1;for(a=0;a<i.length;a++)if(x)"'"!==i.charAt(a)||r("'")?o():x=!1;else switch(i.charAt(a)){case"d":y=e("d");break;case"D":n("D",f,g);break;case"o":w=e("o");break;case"m":_=e("m");break;case"M":_=n("M",m,v);break;case"y":b=e("y");break;case"@":b=(u=new Date(e("@"))).getFullYear(),_=u.getMonth()+1,y=u.getDate();break;case"!":b=(u=new Date((e("!")-this._ticksTo1970)/1e4)).getFullYear(),_=u.getMonth()+1,y=u.getDate();break;case"'":r("'")?o():x=!0;break;default:o()}if(d<s.length&&(c=s.substr(d),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(-1===b?b=(new Date).getFullYear():b<100&&(b+=(new Date).getFullYear()-(new Date).getFullYear()%100+(b<=p?0:-100)),-1<w)for(_=1,y=w;;){if(y<=(l=this._getDaysInMonth(b,_-1)))break;_++,y-=l}if((u=this._daylightSavingAdjust(new Date(b,_-1,y))).getFullYear()!==b||u.getMonth()+1!==_||u.getDate()!==y)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(i,t,e){if(!t)return"";function o(t){var e=r+1<i.length&&i.charAt(r+1)===t;return e&&r++,e}function n(t,e,i){var n=""+e;if(o(t))for(;n.length<i;)n="0"+n;return n}function s(t,e,i,n){return o(t)?n[e]:i[e]}var r,a=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,l=(e?e.dayNames:null)||this._defaults.dayNames,c=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,u=(e?e.monthNames:null)||this._defaults.monthNames,d="",h=!1;if(t)for(r=0;r<i.length;r++)if(h)"'"!==i.charAt(r)||o("'")?d+=i.charAt(r):h=!1;else switch(i.charAt(r)){case"d":d+=n("d",t.getDate(),2);break;case"D":d+=s("D",t.getDay(),a,l);break;case"o":d+=n("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=n("m",t.getMonth()+1,2);break;case"M":d+=s("M",t.getMonth(),c,u);break;case"y":d+=o("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":o("'")?d+="'":h=!0;break;default:d+=i.charAt(r)}return d},_possibleChars:function(i){function t(t){var e=n+1<i.length&&i.charAt(n+1)===t;return e&&n++,e}var n,e="",o=!1;for(n=0;n<i.length;n++)if(o)"'"!==i.charAt(n)||t("'")?e+=i.charAt(n):o=!1;else switch(i.charAt(n)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":t("'")?e+="'":o=!0;break;default:e+=i.charAt(n)}return e},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),s=o,r=this._getFormatConfig(t);try{s=this.parseDate(i,n,r)||o}catch(t){n=e?"":n}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=n?s.getDate():0,t.currentMonth=n?s.getMonth():0,t.currentYear=n?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(a,t,e){var i,n,o=null==t||""===t?e:"string"==typeof t?function(t){try{return k.datepicker.parseDate(k.datepicker._get(a,"dateFormat"),t,k.datepicker._getFormatConfig(a))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?k.datepicker._getDate(a):null)||new Date,i=e.getFullYear(),n=e.getMonth(),o=e.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=s.exec(t);r;){switch(r[2]||"d"){case"d":case"D":o+=parseInt(r[1],10);break;case"w":case"W":o+=7*parseInt(r[1],10);break;case"m":case"M":n+=parseInt(r[1],10),o=Math.min(o,k.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(r[1],10),o=Math.min(o,k.datepicker._getDaysInMonth(i,n))}r=s.exec(t)}return new Date(i,n,o)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(n=new Date).setDate(n.getDate()+i),n):new Date(t.getTime());return(o=o&&"Invalid Date"===o.toString()?e:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,s=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),o===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){k.datepicker._adjustDate(i,-e,"M")},next:function(){k.datepicker._adjustDate(i,+e,"M")},hide:function(){k.datepicker._hideDatepicker()},today:function(){k.datepicker._gotoToday(i)},selectDay:function(){return k.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return k.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return k.datepicker._selectMonthYear(i,this,"Y"),!1}};k(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,o,s,r,a,l,c,u,d,h,p,f,g,m,v,b,_,y,w,x,C,S,D,I,T,k,R,A,F,M,E,P,O,z,N,H,L,V=new Date,W=this._daylightSavingAdjust(new Date(V.getFullYear(),V.getMonth(),V.getDate())),B=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),$=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),Y=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-G,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-K,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=q?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Z+K,1)),this._getFormatConfig(t)):o,s=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+o+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+o+"</span></a>",r=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?X:W,r=q?this.formatDate(r,a,this._getFormatConfig(t)):r,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(B?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),y="",x=0;x<U[0];x++){for(C="",this.maxRows=4,S=0;S<U[1];S++){if(D=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",T="",Y){if(T+="<div class='ui-datepicker-group",1<U[1])switch(S){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(B?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(B?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===x?B?s:n:"")+(/all|right/.test(I)&&0===x?B?n:s:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,0<x||0<S,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",k=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)k+="<th scope='col'"+(5<=(w+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+h[R=(w+u)%7]+"'>"+p[R]+"</span></th>";for(T+=k+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),F=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,M=Math.ceil((F+A)/7),E=Y&&this.maxRows>M?this.maxRows:M,this.maxRows=E,P=this._daylightSavingAdjust(new Date(tt,Z,1-F)),O=0;O<E;O++){for(T+="<tr>",z=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"",w=0;w<7;w++)N=m?m.apply(t.input?t.input[0]:null,[P]):[!0,""],L=(H=P.getMonth()!==Z)&&!b||!N[0]||Q&&P<Q||J&&J<P,z+="<td class='"+(5<=(w+u+6)%7?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(P.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||_.getTime()===P.getTime()&&_.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+N[1]+(P.getTime()===X.getTime()?" "+this._currentClass:"")+(P.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===W.getTime()?" ui-state-highlight":"")+(P.getTime()===X.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);T+=z+"</tr>"}11<++Z&&(Z=0,tt++),C+=T+="</tbody></table>"+(Y?"</div>"+(0<U[0]&&S===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}y+=C}return y+=c,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,n,o,s,r,a){var l,c,u,d,h,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",y="";if(s||!m)y+="<span class='ui-datepicker-month'>"+r[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!c||u<=o.getMonth())&&(y+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");y+="</select>"}if(b||(_+=y+(!s&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e})(d[0]),g=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=o?Math.min(g,o.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),b&&(_+=(!s&&m&&v?"":"&#xa0;")+y),_+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),o=t.drawMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,s)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&e<i?i:e;return n&&n<o?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(e<0?e:o[0]*o[1]),1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),r=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),r=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||e.getTime()>=o.getTime())&&(!s||e.getTime()<=s.getTime())&&(!r||e.getFullYear()>=r)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),k.fn.datepicker=function(t){if(!this.length)return this;k.datepicker.initialized||(k(document).mousedown(k.datepicker._checkExternalClick),k.datepicker.initialized=!0),0===k("#"+k.datepicker._mainDivId).length&&k("body").append(k.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?k.datepicker["_"+t+"Datepicker"].apply(k.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?k.datepicker["_"+t+"Datepicker"].apply(k.datepicker,[this].concat(e)):k.datepicker._attachDatepicker(this,t)})},k.datepicker=new m,k.datepicker.initialized=!1,k.datepicker.uuid=(new Date).getTime(),k.datepicker.version="1.11.0";k.datepicker;k.widget("ui.draggable",k.ui.mouse,{version:"1.11.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.document[0],i=this.options;try{e.activeElement&&"body"!==e.activeElement.nodeName.toLowerCase()&&k(e.activeElement).blur()}catch(t){}return!(this.helper||i.disabled||0<k(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(k(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){k("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(k(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),k.ui.ddmanager&&(k.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,k.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),k.ui.ddmanager&&!e.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),k.ui.ddmanager&&k.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,e){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",k.ui.ddmanager&&k.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return k.ui.ddmanager&&!this.options.dropBehaviour&&(i=k.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||k.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?k(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return k("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),k.ui.ddmanager&&k.ui.ddmanager.dragStop(this,t),this.element.focus(),k.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!k(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this._removeHandleClassName(),k(this.options.handle||this.element).addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")},_createHelper:function(t){var e=this.options,i=k.isFunction(e.helper)?k(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),k.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&k.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options,o=this.document[0];this.relative_container=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(i=(e=k(n.containment))[0])&&(t="hidden"!==e.css("overflow"),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=e)):this.containment=n.containment:this.containment=[0,0,k(o).width()-this.helperProportions.width-this.margins.left,(k(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[k(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,k(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,k(window).scrollLeft()+k(window).width()-this.helperProportions.width-this.margins.left,k(window).scrollTop()+(k(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,o,s,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relative_container?(n=this.relative_container.offset(),[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=!i||o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1],s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=!i||s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),k.ui.plugin.call(this,t,[e,i,this],!0),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),k.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),k.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var n=i.options,o=k.extend({},t,{item:i.element});i.sortables=[],k(n.connectToSortable).each(function(){var t=k(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push({instance:t,shouldRevert:t.options.revert}),t.refreshPositions(),t._trigger("activate",e,o))})},stop:function(t,e,i){var n=k.extend({},e,{item:i.element});k.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n))})},drag:function(i,n,o){var s=this;k.each(o.sortables,function(){var t=!1,e=this;this.instance.positionAbs=o.positionAbs,this.instance.helperProportions=o.helperProportions,this.instance.offset.click=o.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(t=!0,k.each(o.sortables,function(){return this.instance.positionAbs=o.positionAbs,this.instance.helperProportions=o.helperProportions,this.instance.offset.click=o.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&k.contains(e.instance.element[0],this.instance.element[0])&&(t=!1),t})),t?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=k(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},i.target=this.instance.currentItem[0],this.instance._mouseCapture(i,!0),this.instance._mouseStart(i,!0,!0),this.instance.offset.click.top=o.offset.click.top,this.instance.offset.click.left=o.offset.click.left,this.instance.offset.parent.left-=o.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=o.offset.parent.top-this.instance.offset.parent.top,o._trigger("toSortable",i),o.dropped=this.instance.element,o.currentItem=o.element,this.instance.fromOutside=o),this.instance.currentItem&&this.instance._mouseDrag(i)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",i,this.instance._uiHash(this.instance)),this.instance._mouseStop(i,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),o._trigger("fromSortable",i),o.dropped=!1)})}}),k.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var n=k("body"),o=i.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(t,e,i){var n=i.options;n._cursor&&k("body").css("cursor",n._cursor)}}),k.ui.plugin.add("draggable","opacity",{start:function(t,e,i){var n=k(e.helper),o=i.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,e,i){var n=i.options;n._opacity&&k(e.helper).css("opacity",n._opacity)}}),k.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParent[0]!==i.document[0]&&"HTML"!==i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(t,e,i){var n=i.options,o=!1,s=i.document[0];i.scrollParent[0]!==s&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-k(s).scrollTop()<n.scrollSensitivity?o=k(s).scrollTop(k(s).scrollTop()-n.scrollSpeed):k(window).height()-(t.pageY-k(s).scrollTop())<n.scrollSensitivity&&(o=k(s).scrollTop(k(s).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-k(s).scrollLeft()<n.scrollSensitivity?o=k(s).scrollLeft(k(s).scrollLeft()-n.scrollSpeed):k(window).width()-(t.pageX-k(s).scrollLeft())<n.scrollSensitivity&&(o=k(s).scrollLeft(k(s).scrollLeft()+n.scrollSpeed)))),!1!==o&&k.ui.ddmanager&&!n.dropBehaviour&&k.ui.ddmanager.prepareOffsets(i,t)}}),k.ui.plugin.add("draggable","snap",{start:function(t,e,i){var n=i.options;i.snapElements=[],k(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=k(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){var n,o,s,r,a,l,c,u,d,h,p=i.options,f=p.snapTolerance,g=e.offset.left,m=g+i.helperProportions.width,v=e.offset.top,b=v+i.helperProportions.height;for(d=i.snapElements.length-1;0<=d;d--)l=(a=i.snapElements[d].left)+i.snapElements[d].width,u=(c=i.snapElements[d].top)+i.snapElements[d].height,m<a-f||l+f<g||b<c-f||u+f<v||!k.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,k.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(n=Math.abs(c-b)<=f,o=Math.abs(u-v)<=f,s=Math.abs(a-m)<=f,r=Math.abs(l-g)<=f,n&&(e.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top-i.margins.top),o&&(e.position.top=i._convertPositionTo("relative",{top:u,left:0}).top-i.margins.top),s&&(e.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left-i.margins.left),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left-i.margins.left)),h=n||o||s||r,"outer"!==p.snapMode&&(n=Math.abs(c-v)<=f,o=Math.abs(u-b)<=f,s=Math.abs(a-g)<=f,r=Math.abs(l-m)<=f,n&&(e.position.top=i._convertPositionTo("relative",{top:c,left:0}).top-i.margins.top),o&&(e.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top-i.margins.top),s&&(e.position.left=i._convertPositionTo("relative",{top:0,left:a}).left-i.margins.left),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[d].snapping&&(n||o||s||r||h)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,k.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=n||o||s||r||h)}}),k.ui.plugin.add("draggable","stack",{start:function(t,e,i){var n,o=i.options,s=k.makeArray(k(o.stack)).sort(function(t,e){return(parseInt(k(t).css("zIndex"),10)||0)-(parseInt(k(e).css("zIndex"),10)||0)});s.length&&(n=parseInt(k(s[0]).css("zIndex"),10)||0,k(s).each(function(t){k(this).css("zIndex",n+t)}),this.css("zIndex",n+s.length))}}),k.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){var n=k(e.helper),o=i.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,e,i){var n=i.options;n._zIndex&&k(e.helper).css("zIndex",n._zIndex)}});k.ui.draggable;k.widget("ui.resizable",k.ui.mouse,{version:"1.11.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(t,e){if("hidden"===k(t).css("overflow"))return!1;var i,n=e&&"left"===e?"scrollLeft":"scrollTop";return 0<t[n]||(t[n]=1,i=0<t[n],t[n]=0,i)},_create:function(){var t,e,i,n,o=this,s=this.options;if(this.element.addClass("ui-resizable"),k.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(k("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(k(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},e=0;e<t.length;e++)i=k.trim(t[e]),(n=k("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:s.zIndex}),"se"===i&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(t){var e,i,n,o;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String&&(this.handles[e]=this.element.children(this.handles[e]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=k(this.handles[e],this.element),o=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(n,o),this._proportionallyResize()),k(this.handles[e]).length},this._renderAxis(this.element),this._handles=k(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),s.autoHide&&(this._handles.hide(),k(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(k(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(k(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();function t(t){k(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e,i,n=!1;for(e in this.handles)(i=k(this.handles[e])[0])!==t.target&&!k.contains(i,t.target)||(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var e,i,n,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(e+=k(o.containment).scrollLeft()||0,i+=k(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:e,top:i},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=k(".ui-resizable-"+this.axis).css("cursor"),k("body").css("cursor","auto"===n?this.axis+"-resize":n),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,i=this.helper,n={},o=this.originalMousePosition,s=this.axis,r=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[s];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},l&&(e=l.apply(this,[t,r,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),i.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),k.isEmptyObject(n)||this._trigger("resize",t,this.ui())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,n,o,s,r,a,l=this.options,c=this;return this._helper&&(n=(i=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,a=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(k.extend(s,{top:a,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),k("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,n,o,s,r=this.options;s={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),s&&c&&(t.left=a-e.minWidth),n&&c&&(t.left=a-e.maxWidth),r&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,o,s=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(o=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);o.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||k("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return k.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return k.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return k.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return k.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){k.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),k.ui.plugin.add("resizable","animate",{stop:function(e){var i=k(this).resizable("instance"),t=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),s=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,a={width:i.size.width-r,height:i.size.height-s},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(k.extend(a,c&&l?{top:c,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&k(n[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),k.ui.plugin.add("resizable","containment",{start:function(){var i,n,t,e,o,s,r,a=k(this).resizable("instance"),l=a.options,c=a.element,u=l.containment,d=u instanceof k?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(a.containerElement=k(d),/document/.test(u)||u===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:k(document),left:0,top:0,width:k(document).width(),height:k(document).height()||document.body.parentNode.scrollHeight}):(i=k(d),n=[],k(["Top","Right","Left","Bottom"]).each(function(t,e){n[t]=a._num(i.css("padding"+e))}),a.containerOffset=i.offset(),a.containerPosition=i.position(),a.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},t=a.containerOffset,e=a.containerSize.height,o=a.containerSize.width,s=a._hasScroll(d,"left")?d.scrollWidth:o,r=a._hasScroll(d)?d.scrollHeight:e,a.parentData={element:d,left:t.left,top:t.top,width:s,height:r}))},resize:function(t,e){var i,n,o,s,r=k(this).resizable("instance"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},h=r.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?l.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,i=Math.abs((r._helper?r.offset.left-d.left:r.offset.left-l.left)+r.sizeDiff.width),n=Math.abs((r._helper?r.offset.top-d.top:r.offset.top-l.top)+r.sizeDiff.height),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s&&(i-=Math.abs(r.parentData.left)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,u&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,u&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=e.prevPosition.left,r.position.top=e.prevPosition.top,r.size.width=e.prevSize.width,r.size.height=e.prevSize.height)},stop:function(){var t=k(this).resizable("instance"),e=t.options,i=t.containerOffset,n=t.containerPosition,o=t.containerElement,s=k(t.helper),r=s.offset(),a=s.outerWidth()-t.sizeDiff.width,l=s.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(o.css("position"))&&k(this).css({left:r.left-n.left-i.left,width:a,height:l}),t._helper&&!e.animate&&/static/.test(o.css("position"))&&k(this).css({left:r.left-n.left-i.left,width:a,height:l})}}),k.ui.plugin.add("resizable","alsoResize",{start:function(){function e(t){k(t).each(function(){var t=k(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})}var t=k(this).resizable("instance").options;"object"!=typeof t.alsoResize||t.alsoResize.parentNode?e(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],e(t.alsoResize)):k.each(t.alsoResize,function(t){e(t)})},resize:function(t,s){function i(t,i){k(t).each(function(){var t=k(this),n=k(this).data("ui-resizable-alsoresize"),o={},e=i&&i.length?i:t.parents(s.originalElement[0]).length?["width","height"]:["width","height","top","left"];k.each(e,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&0<=i&&(o[e]=i||null)}),t.css(o)})}var e=k(this).resizable("instance"),n=e.options,o=e.originalSize,r=e.originalPosition,a={height:e.size.height-o.height||0,width:e.size.width-o.width||0,top:e.position.top-r.top||0,left:e.position.left-r.left||0};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?i(n.alsoResize):k.each(n.alsoResize,function(t,e){i(t,e)})},stop:function(){k(this).removeData("resizable-alsoresize")}}),k.ui.plugin.add("resizable","ghost",{start:function(){var t=k(this).resizable("instance"),e=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=k(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=k(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),k.ui.plugin.add("resizable","grid",{resize:function(){var t=k(this).resizable("instance"),e=t.options,i=t.size,n=t.originalSize,o=t.originalPosition,s=t.axis,r="number"==typeof e.grid?[e.grid,e.grid]:e.grid,a=r[0]||1,l=r[1]||1,c=Math.round((i.width-n.width)/a)*a,u=Math.round((i.height-n.height)/l)*l,d=n.width+c,h=n.height+u,p=e.maxWidth&&e.maxWidth<d,f=e.maxHeight&&e.maxHeight<h,g=e.minWidth&&e.minWidth>d,m=e.minHeight&&e.minHeight>h;e.grid=r,g&&(d+=a),m&&(h+=l),p&&(d-=a),f&&(h-=l),/^(se|s|e)$/.test(s)?(t.size.width=d,t.size.height=h):/^(ne)$/.test(s)?(t.size.width=d,t.size.height=h,t.position.top=o.top-u):/^(sw)$/.test(s)?(t.size.width=d,t.size.height=h,t.position.left=o.left-c):(0<h-l?(t.size.height=h,t.position.top=o.top-u):(t.size.height=l,t.position.top=o.top+n.height-l),0<d-a?(t.size.width=d,t.position.left=o.left-c):(t.size.width=a,t.position.left=o.left+n.width-a))}});k.ui.resizable,k.widget("ui.dialog",{version:"1.11.0",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=k(this).css(t).offset().top;e<0&&k(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&k.fn.draggable&&this._makeDraggable(),this.options.resizable&&k.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?k(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:k.noop,enable:k.noop,close:function(t){var e,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(e=this.document[0].activeElement)&&"body"!==e.nodeName.toLowerCase()&&k(e).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+k(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!e&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=k(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;(t=t||this.element.find("[autofocus]")).length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(t){function e(){var t=this.document[0].activeElement;this.uiDialog[0]===t||k.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=k("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===k.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===k.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),i=e.filter(":first"),n=e.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){i.focus()}),t.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=k("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){k(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=k("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=k("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=k("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=k("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var o=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),k.isEmptyObject(t)||k.isArray(t)&&!t.length?this.uiDialog.removeClass("ui-dialog-buttons"):(k.each(t,function(t,e){var i,n;e=k.isFunction(e)?{click:e,text:t}:e,e=k.extend({type:"button"},e),i=e.click,e.click=function(){i.apply(o.element[0],arguments)},n={icons:e.icons,text:e.showText},delete e.icons,delete e.showText,k("<button></button>",e).button(n).appendTo(o.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var o=this,s=this.options;function r(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){k(this).addClass("ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",t,r(e))},drag:function(t,e){o._trigger("drag",t,r(e))},stop:function(t,e){var i=e.offset.left-o.document.scrollLeft(),n=e.offset.top-o.document.scrollTop();s.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=n?"+":"")+n,of:o.window},k(this).removeClass("ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",t,r(e))}})},_makeResizable:function(){var s=this,r=this.options,t=r.resizable,e=this.uiDialog.css("position"),i="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:i,start:function(t,e){k(this).addClass("ui-dialog-resizing"),s._blockFrames(),s._trigger("resizeStart",t,a(e))},resize:function(t,e){s._trigger("resize",t,a(e))},stop:function(t,e){var i=s.uiDialog.offset(),n=i.left-s.document.scrollLeft(),o=i.top-s.document.scrollTop();r.height=s.uiDialog.height(),r.width=s.uiDialog.width(),r.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=o?"+":"")+o,of:s.window},k(this).removeClass("ui-dialog-resizing"),s._unblockFrames(),s._trigger("resizeStop",t,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._untrackInstance(),this._trackingInstances().unshift(this),this._focusedElement=k(t.target)}})},_untrackInstance:function(){var t=this._trackingInstances(),e=k.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,o={};k.each(t,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(o[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var i,n,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&((i=o.is(":data(ui-draggable)"))&&!e&&o.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((n=o.is(":data(ui-resizable)"))&&!e&&o.resizable("destroy"),n&&"string"==typeof e&&o.resizable("option","handles",e),n||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=k(this);return k("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!k(t.target).closest(".ui-dialog").length||!!k(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=k("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});function _(t,e,i){return e<=t&&t<e+i}k.widget("ui.droppable",{version:"1.11.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=k.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){k.ui.ddmanager.droppables[t]=k.ui.ddmanager.droppables[t]||[],k.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=k.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){if("accept"===t)this.accept=k.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var i=k.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=k.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=k.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=k.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=k.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(t,e){var i=e||k.ui.ddmanager.current,n=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=k(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&k.ui.intersect(i,k.extend(t,{offset:t.element.offset()}),t.options.tolerance))return!(n=!0)}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),k.ui.intersect=function(t,e,i){if(!e.offset)return!1;var n,o=(t.positionAbs||t.position.absolute).left,s=(t.positionAbs||t.position.absolute).top,r=o+t.helperProportions.width,a=s+t.helperProportions.height,l=e.offset.left,c=e.offset.top,u=l+e.proportions().width,d=c+e.proportions().height;switch(i){case"fit":return l<=o&&r<=u&&c<=s&&a<=d;case"intersect":return l<o+t.helperProportions.width/2&&r-t.helperProportions.width/2<u&&c<s+t.helperProportions.height/2&&a-t.helperProportions.height/2<d;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,_((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,c,e.proportions().height)&&_(n,l,e.proportions().width);case"touch":return(c<=s&&s<=d||c<=a&&a<=d||s<c&&d<a)&&(l<=o&&o<=u||l<=r&&r<=u||o<l&&u<r);default:return!1}},k.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,n,o=k.ui.ddmanager.droppables[t.options.scope]||[],s=e?e.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(n=0;n<r.length;n++)if(r[n]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],e),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return k.each((k.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&k.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||k.ui.ddmanager.prepareOffsets(t,e)})},drag:function(s,r){s.options.refreshPositions&&k.ui.ddmanager.prepareOffsets(s,r),k.each(k.ui.ddmanager.droppables[s.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,i,n=k.ui.intersect(s,this,this.options.tolerance),o=!n&&this.isover?"isout":n&&!this.isover?"isover":null;o&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return k(this).droppable("instance").options.scope===e})).length&&((t=k(i[0]).droppable("instance")).greedyChild="isover"===o)),t&&"isover"===o&&(t.isover=!1,t.isout=!0,t._out.call(t,r)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,r),t&&"isout"===o&&(t.isout=!1,t.isover=!0,t._over.call(t,r)))}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||k.ui.ddmanager.prepareOffsets(t,e)}};k.ui.droppable;var y,w,x,C,S,D,I,T,R,A,F,M,E,P,O,z,N,H,L,V,W="ui-effects-";function B(t,e,i){var n=T[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:t<0?0:n.max<t?n.max:t)}function j(r){var a=D(),l=a._rgba=[];return r=r.toLowerCase(),F(S,function(t,e){var i,n=e.re.exec(r),o=n&&e.parse(n),s=e.space||"rgba";if(o)return i=a[s](o),a[I[s].cache]=i[I[s].cache],l=a._rgba=i._rgba,!1}),l.length?("0,0,0,0"===l.join()&&y.extend(l,x.transparent),a):x[r]}function $(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function q(t){var e,i,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[e=n[i]]&&(o[k.camelCase(e)]=n[e]);else for(e in n)"string"==typeof n[e]&&(o[e]=n[e]);return o}function U(t,e,i,n){return k.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),k.isFunction(e)&&(n=e,i=null,e={}),"number"!=typeof e&&!k.fx.speeds[e]||(n=i,i=e,e={}),k.isFunction(i)&&(n=i,i=null),e&&k.extend(t,e),i=i||e.duration,t.duration=k.fx.off?0:"number"==typeof i?i:i in k.fx.speeds?k.fx.speeds[i]:k.fx.speeds._default,t.complete=n||e.complete,t}function G(t){return!t||"number"==typeof t||k.fx.speeds[t]||("string"==typeof t&&!k.effects.effect[t]||(k.isFunction(t)||"object"==typeof t&&!t.effect))}k.effects={effect:{}},y=jQuery,C=/^([\-+])=\s*(\d+\.?\d*)/,S=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],D=y.Color=function(t,e,i,n){return new y.Color.fn.parse(t,e,i,n)},I={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},T={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},R=D.support={},A=y("<p>")[0],F=y.each,A.style.cssText="background-color:rgba(1,1,1,.5)",R.rgba=-1<A.style.backgroundColor.indexOf("rgba"),F(I,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),D.fn=y.extend(D.prototype,{parse:function(o,t,e,i){if(o===w)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=y(o).css(t),t=w);var s=this,n=y.type(o),r=this._rgba=[];return t!==w&&(o=[o,t,e,i],n="array"),"string"===n?this.parse(j(o)||x._default):"array"===n?(F(I.rgba.props,function(t,e){r[e.idx]=B(o[e.idx],e)}),this):"object"===n?(F(I,o instanceof D?function(t,e){o[e.cache]&&(s[e.cache]=o[e.cache].slice())}:function(t,i){var n=i.cache;F(i.props,function(t,e){if(!s[n]&&i.to){if("alpha"===t||null==o[t])return;s[n]=i.to(s._rgba)}s[n][e.idx]=B(o[t],e,!0)}),s[n]&&y.inArray(null,s[n].slice(0,3))<0&&(s[n][3]=1,i.from&&(s._rgba=i.from(s[n])))}),this):void 0},is:function(t){var o=D(t),s=!0,r=this;return F(I,function(t,e){var i,n=o[e.cache];return n&&(i=r[e.cache]||e.to&&e.to(r._rgba)||[],F(e.props,function(t,e){if(null!=n[e.idx])return s=n[e.idx]===i[e.idx]})),s}),s},_space:function(){var i=[],n=this;return F(I,function(t,e){n[e.cache]&&i.push(t)}),i.pop()},transition:function(t,r){var a=D(t),e=a._space(),i=I[e],n=0===this.alpha()?D("transparent"):this,l=n[i.cache]||i.to(n._rgba),c=l.slice();return a=a[i.cache],F(i.props,function(t,e){var i=e.idx,n=l[i],o=a[i],s=T[e.type]||{};null!==o&&(null===n?c[i]=o:(s.mod&&(s.mod/2<o-n?n+=s.mod:s.mod/2<n-o&&(n-=s.mod)),c[i]=B((o-n)*r+n,e)))}),this[e](c)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),n=D(t)._rgba;return D(y.map(e,function(t,e){return(1-i)*n[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=y.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=y.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+y.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),D.fn.parse.prototype=D.fn,I.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,s=t[2]/255,r=t[3],a=Math.max(n,o,s),l=Math.min(n,o,s),c=a-l,u=a+l,d=.5*u;return e=l===a?0:n===a?60*(o-s)/c+360:o===a?60*(s-n)/c+120:60*(n-o)/c+240,i=0==c?0:d<=.5?c/u:c/(2-u),[Math.round(e)%360,i,d,null==r?1:r]},I.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],s=n<=.5?n*(1+i):n+i-n*i,r=2*n-s;return[Math.round(255*$(r,s,e+1/3)),Math.round(255*$(r,s,e)),Math.round(255*$(r,s,e-1/3)),o]},F(I,function(l,t){var i=t.props,r=t.cache,a=t.to,c=t.from;D.fn[l]=function(t){if(a&&!this[r]&&(this[r]=a(this._rgba)),t===w)return this[r].slice();var e,n=y.type(t),o="array"===n||"object"===n?t:arguments,s=this[r].slice();return F(i,function(t,e){var i=o["object"===n?t:e.idx];null==i&&(i=s[e.idx]),s[e.idx]=B(i,e)}),c?((e=D(c(s)))[r]=s,e):D(s)},F(i,function(r,a){D.fn[r]||(D.fn[r]=function(t){var e,i=y.type(t),n="alpha"===r?this._hsla?"hsla":"rgba":l,o=this[n](),s=o[a.idx];return"undefined"===i?s:("function"===i&&(t=t.call(this,s),i=y.type(t)),null==t&&a.empty?this:("string"===i&&(e=C.exec(t))&&(t=s+parseFloat(e[2])*("+"===e[1]?1:-1)),o[a.idx]=t,this[n](o)))})})}),D.hook=function(t){var e=t.split(" ");F(e,function(t,s){y.cssHooks[s]={set:function(t,e){var i,n,o="";if("transparent"!==e&&("string"!==y.type(e)||(i=j(e)))){if(e=D(i||e),!R.rgba&&1!==e._rgba[3]){for(n="backgroundColor"===s?t.parentNode:t;(""===o||"transparent"===o)&&n&&n.style;)try{o=y.css(n,"backgroundColor"),n=n.parentNode}catch(t){}e=e.blend(o&&"transparent"!==o?o:"_default")}e=e.toRgbaString()}try{t.style[s]=e}catch(t){}}},y.fx.step[s]=function(t){t.colorInit||(t.start=D(t.elem,s),t.end=D(t.end),t.colorInit=!0),y.cssHooks[s].set(t.elem,t.start.transition(t.end,t.pos))}})},D.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),y.cssHooks.borderColor={expand:function(i){var n={};return F(["Top","Right","Bottom","Left"],function(t,e){n["border"+e+"Color"]=i}),n}},x=y.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},O=["add","remove","toggle"],z={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},k.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){k.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,e,t.end),t.setAttr=!0)}}),k.fn.addBack||(k.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),k.effects.animateClass=function(o,t,e,i){var s=k.speed(t,e,i);return this.queue(function(){var t,i=k(this),e=i.attr("class")||"",n=s.children?i.find("*").addBack():i;n=n.map(function(){return{el:k(this),start:q(this)}}),(t=function(){k.each(O,function(t,e){o[e]&&i[e+"Class"](o[e])})})(),n=n.map(function(){return this.end=q(this.el[0]),this.diff=function(t,e){var i,n,o={};for(i in e)n=e[i],t[i]!==n&&(z[i]||!k.fx.step[i]&&isNaN(parseFloat(n))||(o[i]=n));return o}(this.start,this.end),this}),i.attr("class",e),n=n.map(function(){var t=this,e=k.Deferred(),i=k.extend({},s,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),k.when.apply(k,n.get()).done(function(){t(),k.each(arguments,function(){var e=this.el;k.each(this.diff,function(t){e.css(t,"")})}),s.complete.call(i[0])})})},k.fn.extend({addClass:(P=k.fn.addClass,function(t,e,i,n){return e?k.effects.animateClass.call(this,{add:t},e,i,n):P.apply(this,arguments)}),removeClass:(E=k.fn.removeClass,function(t,e,i,n){return 1<arguments.length?k.effects.animateClass.call(this,{remove:t},e,i,n):E.apply(this,arguments)}),toggleClass:(M=k.fn.toggleClass,function(t,e,i,n,o){return"boolean"==typeof e||void 0===e?i?k.effects.animateClass.call(this,e?{add:t}:{remove:t},i,n,o):M.apply(this,arguments):k.effects.animateClass.call(this,{toggle:t},e,i,n)}),switchClass:function(t,e,i,n,o){return k.effects.animateClass.call(this,{add:e,remove:t},i,n,o)}}),k.extend(k.effects,{version:"1.11.0",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(W+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;n<e.length;n++)null!==e[n]&&(void 0===(i=t.data(W+e[n]))&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=k("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return i.wrap(t),i[0]!==o&&!k.contains(i[0],o)||k(o).focus(),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(k.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),k.each(["top","left","bottom","right"],function(t,e){n[e]=i.css(e),isNaN(parseInt(n[e],10))&&(n[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(n).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!k.contains(t[0],e)||k(e).focus()),t},setTransition:function(n,t,o,s){return s=s||{},k.each(t,function(t,e){var i=n.cssUnit(e);0<i[0]&&(s[e]=i[0]*o+i[1])}),s}}),k.fn.extend({effect:function(){var s=U.apply(this,arguments),t=s.mode,e=s.queue,r=k.effects.effect[s.effect];if(k.fx.off||!r)return t?this[t](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)});function i(t){var e=k(this),i=s.complete,n=s.mode;function o(){k.isFunction(i)&&i.call(e[0]),k.isFunction(t)&&t()}(e.is(":hidden")?"hide"===n:"show"===n)?(e[n](),o()):r.call(e[0],s,o)}return!1===e?this.each(i):this.queue(e||"fx",i)},show:(L=k.fn.show,function(t){if(G(t))return L.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(H=k.fn.hide,function(t){if(G(t))return H.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(N=k.fn.toggle,function(t){if(G(t)||"boolean"==typeof t)return N.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var i=this.css(t),n=[];return k.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(n=[parseFloat(i),e])}),n}}),V={},k.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){V[t]=function(t){return Math.pow(t,e+2)}}),k.extend(V,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),k.each(V,function(t,e){k.easing["easeIn"+t]=e,k.easing["easeOut"+t]=function(t){return 1-e(1-t)},k.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});k.effects,k.effects.effect.blind=function(t,e){var i,n,o,s=k(this),r=["position","top","bottom","left","right","height","width"],a=k.effects.setMode(s,t.mode||"hide"),l=t.direction||"up",c=/up|down|vertical/.test(l),u=c?"height":"width",d=c?"top":"left",h=/up|left|vertical|horizontal/.test(l),p={},f="show"===a;s.parent().is(".ui-effects-wrapper")?k.effects.save(s.parent(),r):k.effects.save(s,r),s.show(),n=(i=k.effects.createWrapper(s).css({overflow:"hidden"}))[u](),o=parseFloat(i.css(d))||0,p[u]=f?n:0,h||(s.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),p[d]=f?o:n+o),f&&(i.css(u,0),h||i.css(d,o+n)),i.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===a&&s.hide(),k.effects.restore(s,r),k.effects.removeWrapper(s),e()}})},k.effects.effect.bounce=function(t,e){var i,n,o,s=k(this),r=["position","top","bottom","left","right","height","width"],a=k.effects.setMode(s,t.mode||"effect"),l="hide"===a,c="show"===a,u=t.direction||"up",d=t.distance,h=t.times||5,p=2*h+(c||l?1:0),f=t.duration/p,g=t.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,b=s.queue(),_=b.length;for((c||l)&&r.push("opacity"),k.effects.save(s,r),s.show(),k.effects.createWrapper(s),d=d||s["top"==m?"outerHeight":"outerWidth"]()/3,c&&((o={opacity:1})[m]=0,s.css("opacity",0).css(m,v?2*-d:2*d).animate(o,f,g)),l&&(d/=Math.pow(2,h-1)),i=(o={})[m]=0;i<h;i++)(n={})[m]=(v?"-=":"+=")+d,s.animate(n,f,g).animate(o,f,g),d=l?2*d:d/2;l&&((n={opacity:0})[m]=(v?"-=":"+=")+d,s.animate(n,f,g)),s.queue(function(){l&&s.hide(),k.effects.restore(s,r),k.effects.removeWrapper(s),e()}),1<_&&b.splice.apply(b,[1,0].concat(b.splice(_,1+p))),s.dequeue()},k.effects.effect.clip=function(t,e){var i,n,o,s=k(this),r=["position","top","bottom","left","right","height","width"],a="show"===k.effects.setMode(s,t.mode||"hide"),l="vertical"===(t.direction||"vertical"),c=l?"height":"width",u=l?"top":"left",d={};k.effects.save(s,r),s.show(),i=k.effects.createWrapper(s).css({overflow:"hidden"}),o=(n="IMG"===s[0].tagName?i:s)[c](),a&&(n.css(c,0),n.css(u,o/2)),d[c]=a?o:0,d[u]=a?0:o/2,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){a||s.hide(),k.effects.restore(s,r),k.effects.removeWrapper(s),e()}})},k.effects.effect.drop=function(t,e){var i,n=k(this),o=["position","top","bottom","left","right","opacity","height","width"],s=k.effects.setMode(n,t.mode||"hide"),r="show"===s,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"pos":"neg",u={opacity:r?1:0};k.effects.save(n,o),n.show(),k.effects.createWrapper(n),i=t.distance||n["top"==l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"==c?-i:i),u[l]=(r?"pos"==c?"+=":"-=":"pos"==c?"-=":"+=")+i,n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),k.effects.restore(n,o),k.effects.removeWrapper(n),e()}})},k.effects.effect.explode=function(t,e){var i,n,o,s,r,a,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=l,u=k(this),d="show"===k.effects.setMode(u,t.mode||"hide"),h=u.show().css("visibility","hidden").offset(),p=Math.ceil(u.outerWidth()/c),f=Math.ceil(u.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*c&&function(){u.css({visibility:"visible"}),k(g).remove(),d||u.hide();e()}()}for(i=0;i<l;i++)for(s=h.top+i*f,a=i-(l-1)/2,n=0;n<c;n++)o=h.left+n*p,r=n-(c-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*p,top:-i*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:f,left:o+(d?r*p:0),top:s+(d?a*f:0),opacity:d?0:1}).animate({left:o+(d?0:r*p),top:s+(d?0:a*f),opacity:d?1:0},t.duration||500,t.easing,m)},k.effects.effect.fade=function(t,e){var i=k(this),n=k.effects.setMode(i,t.mode||"toggle");i.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:e})},k.effects.effect.fold=function(t,e){var i,n,o=k(this),s=["position","top","bottom","left","right","height","width"],r=k.effects.setMode(o,t.mode||"hide"),a="show"===r,l="hide"===r,c=t.size||15,u=/([0-9]+)%/.exec(c),d=!!t.horizFirst,h=a!=d,p=h?["width","height"]:["height","width"],f=t.duration/2,g={},m={};k.effects.save(o,s),o.show(),i=k.effects.createWrapper(o).css({overflow:"hidden"}),n=h?[i.width(),i.height()]:[i.height(),i.width()],u&&(c=parseInt(u[1],10)/100*n[l?0:1]),a&&i.css(d?{height:0,width:c}:{height:c,width:0}),g[p[0]]=a?n[0]:c,m[p[1]]=a?n[1]:0,i.animate(g,f,t.easing).animate(m,f,t.easing,function(){l&&o.hide(),k.effects.restore(o,s),k.effects.removeWrapper(o),e()})},k.effects.effect.highlight=function(t,e){var i=k(this),n=["backgroundImage","backgroundColor","opacity"],o=k.effects.setMode(i,t.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===o&&(s.opacity=0),k.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),k.effects.restore(i,n),e()}})},k.effects.effect.size=function(s,t){var e,i,r,a=k(this),n=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],o=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=k.effects.setMode(a,s.mode||"effect"),h=s.restore||"effect"!==d,p=s.scale||"both",f=s.origin||["middle","center"],g=a.css("position"),m=h?n:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&a.show(),e={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===s.mode&&"show"===d?(a.from=s.to||v,a.to=s.from||e):(a.from=s.from||("show"===d?v:e),a.to=s.to||("hide"===d?v:e)),r={from:{y:a.from.height/e.height,x:a.from.width/e.width},to:{y:a.to.height/e.height,x:a.to.width/e.width}},"box"!==p&&"both"!==p||(r.from.y!==r.to.y&&(m=m.concat(c),a.from=k.effects.setTransition(a,c,r.from.y,a.from),a.to=k.effects.setTransition(a,c,r.to.y,a.to)),r.from.x!==r.to.x&&(m=m.concat(u),a.from=k.effects.setTransition(a,u,r.from.x,a.from),a.to=k.effects.setTransition(a,u,r.to.x,a.to))),"content"!==p&&"both"!==p||r.from.y!==r.to.y&&(m=m.concat(o).concat(l),a.from=k.effects.setTransition(a,o,r.from.y,a.from),a.to=k.effects.setTransition(a,o,r.to.y,a.to)),k.effects.save(a,m),a.show(),k.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),f&&(i=k.effects.getBaseline(f,e),a.from.top=(e.outerHeight-a.outerHeight())*i.y,a.from.left=(e.outerWidth-a.outerWidth())*i.x,a.to.top=(e.outerHeight-a.to.outerHeight)*i.y,a.to.left=(e.outerWidth-a.to.outerWidth)*i.x),a.css(a.from),"content"!==p&&"both"!==p||(c=c.concat(["marginTop","marginBottom"]).concat(o),u=u.concat(["marginLeft","marginRight"]),l=n.concat(c).concat(u),a.find("*[width]").each(function(){var t=k(this),e=t.height(),i=t.width(),n=t.outerHeight(),o=t.outerWidth();h&&k.effects.save(t,l),t.from={height:e*r.from.y,width:i*r.from.x,outerHeight:n*r.from.y,outerWidth:o*r.from.x},t.to={height:e*r.to.y,width:i*r.to.x,outerHeight:e*r.to.y,outerWidth:i*r.to.x},r.from.y!==r.to.y&&(t.from=k.effects.setTransition(t,c,r.from.y,t.from),t.to=k.effects.setTransition(t,c,r.to.y,t.to)),r.from.x!==r.to.x&&(t.from=k.effects.setTransition(t,u,r.from.x,t.from),t.to=k.effects.setTransition(t,u,r.to.x,t.to)),t.css(t.from),t.animate(t.to,s.duration,s.easing,function(){h&&k.effects.restore(t,l)})})),a.animate(a.to,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===d&&a.hide(),k.effects.restore(a,m),h||("static"===g?a.css({position:"relative",top:a.to.top,left:a.to.left}):k.each(["top","left"],function(o,t){a.css(t,function(t,e){var i=parseInt(e,10),n=o?a.to.left:a.to.top;return"auto"===e?n+"px":i+n+"px"})})),k.effects.removeWrapper(a),t()}})},k.effects.effect.scale=function(t,e){var i=k(this),n=k.extend(!0,{},t),o=k.effects.setMode(i,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"hide"===o?0:100),r=t.direction||"both",a=t.origin,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c="horizontal"!==r?s/100:1,u="vertical"!==r?s/100:1;n.effect="size",n.queue=!1,n.complete=e,"effect"!==o&&(n.origin=a||["middle","center"],n.restore=!0),n.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*c,width:l.width*u,outerHeight:l.outerHeight*c,outerWidth:l.outerWidth*u},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),i.effect(n)},k.effects.effect.puff=function(t,e){var i=k(this),n=k.effects.setMode(i,t.mode||"hide"),o="hide"===n,s=parseInt(t.percent,10)||150,r=s/100,a={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};k.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:e,percent:o?s:100,from:o?a:{height:a.height*r,width:a.width*r,outerHeight:a.outerHeight*r,outerWidth:a.outerWidth*r}}),i.effect(t)},k.effects.effect.pulsate=function(t,e){var i,n=k(this),o=k.effects.setMode(n,t.mode||"show"),s="show"===o,r="hide"===o,a=s||"hide"===o,l=2*(t.times||5)+(a?1:0),c=t.duration/l,u=0,d=n.queue(),h=d.length;for(!s&&n.is(":visible")||(n.css("opacity",0).show(),u=1),i=1;i<l;i++)n.animate({opacity:u},c,t.easing),u=1-u;n.animate({opacity:u},c,t.easing),n.queue(function(){r&&n.hide(),e()}),1<h&&d.splice.apply(d,[1,0].concat(d.splice(h,1+l))),n.dequeue()},k.effects.effect.shake=function(t,e){var i,n=k(this),o=["position","top","bottom","left","right","height","width"],s=k.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",a=t.distance||20,l=t.times||3,c=2*l+1,u=Math.round(t.duration/c),d="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r,p={},f={},g={},m=n.queue(),v=m.length;for(k.effects.save(n,o),n.show(),k.effects.createWrapper(n),p[d]=(h?"-=":"+=")+a,f[d]=(h?"+=":"-=")+2*a,g[d]=(h?"-=":"+=")+2*a,n.animate(p,u,t.easing),i=1;i<l;i++)n.animate(f,u,t.easing).animate(g,u,t.easing);n.animate(f,u,t.easing).animate(p,u/2,t.easing).queue(function(){"hide"===s&&n.hide(),k.effects.restore(n,o),k.effects.removeWrapper(n),e()}),1<v&&m.splice.apply(m,[1,0].concat(m.splice(v,1+c))),n.dequeue()},k.effects.effect.slide=function(t,e){var i,n=k(this),o=["position","top","bottom","left","right","width","height"],s=k.effects.setMode(n,t.mode||"show"),r="show"===s,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,u={};k.effects.save(n,o),n.show(),i=t.distance||n["top"==l?"outerHeight":"outerWidth"](!0),k.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,c?isNaN(i)?"-"+i:-i:i),u[l]=(r?c?"+=":"-=":c?"-=":"+=")+i,n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),k.effects.restore(n,o),k.effects.removeWrapper(n),e()}})},k.effects.effect.transfer=function(t,e){var i=k(this),n=k(t.to),o="fixed"===n.css("position"),s=k("body"),r=o?s.scrollTop():0,a=o?s.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-a,height:n.innerHeight(),width:n.innerWidth()},u=i.offset(),d=k("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:u.top-r,left:u.left-a,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){d.remove(),e()})},k.widget("ui.progressbar",{version:"1.11.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=k("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=k("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),k.widget("ui.selectable",k.ui.mouse,{version:"1.11.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=k(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var t=k(this),e=t.offset();k.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=k("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(i){var n=this,t=this.options;this.opos=[i.pageX,i.pageY],this.options.disabled||(this.selectees=k(t.filter,this.element[0]),this._trigger("start",i),k(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=k.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",i,{unselecting:t.element}))}),k(i.target).parents().addBack().each(function(){var t,e=k.data(this,"selectable-item");if(e)return t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(t?"ui-unselecting":"ui-selected").addClass(t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?n._trigger("selecting",i,{selecting:e.element}):n._trigger("unselecting",i,{unselecting:e.element}),!1}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var t,n=this,o=this.options,s=this.opos[0],r=this.opos[1],a=i.pageX,l=i.pageY;return a<s&&(t=a,a=s,s=t),l<r&&(t=l,l=r,r=t),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each(function(){var t=k.data(this,"selectable-item"),e=!1;t&&t.element!==n.element[0]&&("touch"===o.tolerance?e=!(t.left>a||t.right<s||t.top>l||t.bottom<r):"fit"===o.tolerance&&(e=t.left>s&&t.right<a&&t.top>r&&t.bottom<l),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,n._trigger("selecting",i,{selecting:t.element}))):(t.selecting&&((i.metaKey||i.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),n._trigger("unselecting",i,{unselecting:t.element}))),t.selected&&(i.metaKey||i.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",i,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,k(".ui-unselecting",this.element[0]).each(function(){var t=k.data(this,"selectable-item");t.$element.removeClass("ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),k(".ui-selecting",this.element[0]).each(function(){var t=k.data(this,"selectable-item");t.$element.removeClass("ui-selecting").addClass("ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),k.widget("ui.selectmenu",{version:"1.11.0",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this,e=this.element.attr("tabindex");this.label=k("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=k("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:e||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),k("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=k("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._setOption("width",this.options.width),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var n=this;this.menu=k("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=k("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,e){t.preventDefault(),n._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){var i=e.item.data("ui-selectmenu-item");null!=n.focusIndex&&i.index!==n.focusIndex&&(n._trigger("focus",t,{item:i}),n.isOpen||n._select(i,t)),n.focusIndex=i.index,n.button.attr("aria-activedescendant",n.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this._setOption("width",this.options.width)},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(k.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(i,t){var n=this,o="";k.each(t,function(t,e){e.optgroup!==o&&(k("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:e.optgroup}).appendTo(i),o=e.optgroup),n._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var i=k("<li>");return e.disabled&&i.addClass("ui-state-disabled"),this._setText(i,e.label),i.appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,o=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),(n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](o).eq(-1):i[t+"All"](o).eq(0)).length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_documentClick:{mousedown:function(t){this.isOpen&&(k(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{click:"_toggle",keydown:function(t){var e=!0;switch(t.keyCode){case k.ui.keyCode.TAB:case k.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case k.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case k.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case k.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case k.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case k.ui.keyCode.LEFT:this._move("prev",t);break;case k.ui.keyCode.RIGHT:this._move("next",t);break;case k.ui.keyCode.HOME:case k.ui.keyCode.PAGE_UP:this._move("first",t);break;case k.ui.keyCode.END:case k.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&(e=e||this.element.outerWidth(),this.button.outerWidth(e))},_appendTo:function(){var t=this.options.appendTo;return(t=t&&(t.jquery||t.nodeType?k(t):this.document.find(t).eq(0)))&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var o=[];t.each(function(t,e){var i=k(e),n=i.parent("optgroup");o.push({element:i,index:t,value:i.attr("value"),label:i.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||i.prop("disabled")})}),this.items=o},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),k.widget("ui.slider",k.ui.mouse,{version:"1.11.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e,i=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(e=i.values&&i.values.length||1,n.length>e&&(n.slice(e).remove(),n=n.slice(0,e)),t=n.length;t<e;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=n.add(k(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){k(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,e="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:k.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=k("<div></div>").appendTo(this.element),e="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(e+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var e,i,n,o,s,r,a,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(i-l.values(t));(e<n||n===e&&(t===l._lastChangedValue||l.values(t)===c.min))&&(n=e,o=k(this),s=t)}),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),r=o.offset(),a=!k(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-r.left-o.width()/2,top:t.pageY-r.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o;return 1<(i=("horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/e)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),n=this._valueMax()-this._valueMin(),o=this._valueMin()+i*n,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,o,s;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&n<i||1===e&&i<n)&&(i=n),i!==this.values(e)&&((o=this.values())[e]=i,s=this._trigger("slide",t,{handle:this.handles[e],value:i,values:o}),n=this.values(e?0:1),!1!==s&&this.values(e,i))):i!==this.value()&&!1!==(s=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var i,n,o;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!k.isArray(t))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,n=t,o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,e){var i,n=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),k.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e),this._super(t,e),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<n;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=0<i?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,t,n,o,s=this.options.range,r=this.options,a=this,l=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(t){i=(a.values(t)-a._valueMin())/(a._valueMax()-a._valueMin())*100,c["horizontal"===a.orientation?"left":"bottom"]=i+"%",k(this).stop(1,1)[l?"animate":"css"](c,r.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===t&&a.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===t&&a.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===t&&a.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===t&&a.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(t=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(t-n)/(o-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===s&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===s&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var e,i,n,o=k(t.target).data("ui-slider-handle-index");switch(t.keyCode){case k.ui.keyCode.HOME:case k.ui.keyCode.END:case k.ui.keyCode.PAGE_UP:case k.ui.keyCode.PAGE_DOWN:case k.ui.keyCode.UP:case k.ui.keyCode.RIGHT:case k.ui.keyCode.DOWN:case k.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,k(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(n=this.options.step,e=i=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case k.ui.keyCode.HOME:i=this._valueMin();break;case k.ui.keyCode.END:i=this._valueMax();break;case k.ui.keyCode.PAGE_UP:i=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case k.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case k.ui.keyCode.UP:case k.ui.keyCode.RIGHT:if(e===this._valueMax())return;i=this._trimAlignValue(e+n);break;case k.ui.keyCode.DOWN:case k.ui.keyCode.LEFT:if(e===this._valueMin())return;i=this._trimAlignValue(e-n)}this._slide(t,o,i)},keyup:function(t){var e=k(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),k(t.target).removeClass("ui-state-active"))}}}),k.widget("ui.sortable",k.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),k.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),k(t.target).parents().each(function(){if(k.data(this,o.widgetName+"-item")===o)return i=k(this),!1}),k.data(t.target,o.widgetName+"-item")===o&&(i=k(t.target)),!!i&&(!(this.options.handle&&!e&&(k(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,i){var n,o,s=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},k.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=k("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return k.ui.ddmanager&&(k.ui.ddmanager.current=this),k.ui.ddmanager&&!s.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,n,o,s=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-k(document).scrollTop()<s.scrollSensitivity?r=k(document).scrollTop(k(document).scrollTop()-s.scrollSpeed):k(window).height()-(t.pageY-k(document).scrollTop())<s.scrollSensitivity&&(r=k(document).scrollTop(k(document).scrollTop()+s.scrollSpeed)),t.pageX-k(document).scrollLeft()<s.scrollSensitivity?r=k(document).scrollLeft(k(document).scrollLeft()-s.scrollSpeed):k(window).width()-(t.pageX-k(document).scrollLeft())<s.scrollSensitivity&&(r=k(document).scrollLeft(k(document).scrollLeft()+s.scrollSpeed))),!1!==r&&k.ui.ddmanager&&!s.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(n=(i=this.items[e]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===n||k.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&k.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),k.ui.ddmanager&&k.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(k.ui.ddmanager&&!this.options.dropBehaviour&&k.ui.ddmanager.drop(this,t),this.options.revert){var i=this,n=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,k(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),k.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?k(this.domPosition.prev).after(this.currentItem):k(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},k(t).each(function(){var t=(k(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(k(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=t.left,r=s+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||a<n+c&&n+c<l,h="y"===this.options.axis||s<e+u&&e+u<r,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!n&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,i,n,o,s=[],r=[],a=this._connectWith();if(a&&t)for(e=a.length-1;0<=e;e--)for(i=(n=k(a[e])).length-1;0<=i;i--)(o=k.data(n[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&r.push([k.isFunction(o.options.items)?o.options.items.call(o.element):k(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){s.push(this)}for(r.push([k.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):k(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=r.length-1;0<=e;e--)r[e][0].each(l);return k(s)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=k.grep(this.items,function(t){for(var e=0;e<i.length;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,n,o,s,r,a,l,c=this.items,u=[[k.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):k(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(e=d.length-1;0<=e;e--)for(i=(n=k(d[e])).length-1;0<=i;i--)(o=k.data(n[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([k.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):k(o.options.items,o.element),o]),this.containers.push(o));for(e=u.length-1;0<=e;e--)for(s=u[e][1],i=0,l=(r=u[e][0]).length;i<l;i++)(a=k(r[i])).data(this.widgetName+"-item",s),c.push({item:a,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,i,n,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(i=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?k(this.options.toleranceElement,i.item):i.item,t||(i.width=n.outerWidth(),i.height=n.outerHeight()),o=n.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)o=this.containers[e].element.offset(),this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var n,o=(i=i||this).options;o.placeholder&&o.placeholder.constructor!==String||(n=o.placeholder,o.placeholder={element:function(){var t=i.currentItem[0].nodeName.toLowerCase(),e=k("<"+t+">",i.document[0]).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===t?i.currentItem.children().each(function(){k("<td>&#160;</td>",i.document[0]).attr("colspan",k(this).attr("colspan")||1).appendTo(e)}):"img"===t&&e.attr("src",i.currentItem.attr("src")),n||e.css("visibility","hidden"),e},update:function(t,e){n&&!o.forcePlaceholderSize||(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=k(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_contactContainers:function(t){var e,i,n,o,s,r,a,l,c,u,d=null,h=null;for(e=this.containers.length-1;0<=e;e--)if(!k.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(d&&k.contains(this.containers[e].element[0],d.element[0]))continue;d=this.containers[e],h=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(n=1e4,o=null,s=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",r=c?"width":"height",u=c?"clientX":"clientY",i=this.items.length-1;0<=i;i--)k.contains(this.containers[h].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(a=this.items[i].item.offset()[s],l=!1,t[u]-a>this.items[i][r]/2&&(l=!0),Math.abs(t[u]-a)<n&&(n=Math.abs(t[u]-a),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return;o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=k.isFunction(e.helper)?k(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||k("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!e.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!e.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),k.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&k.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,k("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(k("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=k(n.containment)[0],e=k(n.containment).offset(),i="hidden"!==k(t).css("overflow"),this.containment=[e.left+(parseInt(k(t).css("borderLeftWidth"),10)||0)+(parseInt(k(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(k(t).css("borderTopWidth"),10)||0)+(parseInt(k(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(k(t).css("borderLeftWidth"),10)||0)-(parseInt(k(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(k(t).css("borderTopWidth"),10)||0)-(parseInt(k(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*i}},_generatePosition:function(t){var e,i,n=this.options,o=t.pageX,s=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),n.grid&&(e=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1],s=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-n.grid[1]:e+n.grid[1],i=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=!this.containment||i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0])),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function o(e,i,n){return function(t){n._trigger(e,t,i._uiHash(i))}}for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===k.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||k([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});function K(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}k.widget("ui.spinner",{version:"1.11.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var n={},o=this.element;return k.each(["min","max","step"],function(t,e){var i=o.attr(e);void 0!==i&&i.length&&(n[e]=i)}),n},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,k(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(k(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,k(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&0<t.height()&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(t){var e=this.options,i=k.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,e.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?k.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return i=t-(e=null!==n.min?n.min:0),t=e+(i=Math.round(i/n.step)*n.step),t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:K(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:K(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:K(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:K(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:K(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());K(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),k.widget("ui.tabs",{version:"1.11.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(t){return!0},_create:function(){var e=this,t=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){k(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){k(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),t.active=this._initialActive(),k.isArray(t.disabled)&&(t.disabled=k.unique(t.disabled.concat(k.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=k(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var i=this.options.active,t=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(t,e){if(k(e).attr("aria-controls")===n)return i=t,!1}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==i&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!t&&0),!t&&!1===i&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):k()}},_tabKeydown:function(t){var e=k(this.document[0].activeElement).closest("li"),i=this.tabs.index(e),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case k.ui.keyCode.RIGHT:case k.ui.keyCode.DOWN:i++;break;case k.ui.keyCode.UP:case k.ui.keyCode.LEFT:n=!1,i--;break;case k.ui.keyCode.END:i=this.anchors.length-1;break;case k.ui.keyCode.HOME:i=0;break;case k.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case k.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,n),t.ctrlKey||(e.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===k.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===k.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===k.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var i=this.tabs.length-1;for(;-1!==k.inArray((i<t&&(t=0),t<0&&(t=i),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=k.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!k.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=k()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=k()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return k("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=k(),this.anchors.each(function(t,e){var i,n,o,s=k(e).uniqueId().attr("id"),r=k(e).closest("li"),a=r.attr("aria-controls");l._isLocal(e)?(o=(i=e.hash).substring(1),n=l.element.find(l._sanitizeSelector(i))):(i="#"+(o=r.attr("aria-controls")||k({}).uniqueId()[0].id),(n=l.element.find(i)).length||(n=l._createPanel(o)).insertAfter(l.panels[t-1]||l.tablist),n.attr("aria-live","polite")),n.length&&(l.panels=l.panels.add(n)),a&&r.data("ui-tabs-aria-controls",a),r.attr({"aria-controls":o,"aria-labelledby":s}),n.attr("aria-labelledby",s)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return k("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){k.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var e,i=0;e=this.tabs[i];i++)!0===t||-1!==k.inArray(i,t)?k(e).addClass("ui-state-disabled").attr("aria-disabled","true"):k(e).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&k.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,e=this.element.parent();"fill"===t?(i=e.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=k(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=k(this).outerHeight(!0)}),this.panels.each(function(){k(this).height(Math.max(0,i-k(this).innerHeight()+k(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,k(this).height("").height())}).height(i))},_eventHandler:function(t){var e=this.options,i=this.active,n=k(t.currentTarget).closest("li"),o=n[0]===i[0],s=o&&e.collapsible,r=s?k():this._getPanelForTab(n),a=i.length?this._getPanelForTab(i):k(),l={oldTab:i,oldPanel:a,newTab:s?k():n,newPanel:r};t.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||o&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!s&&this.tabs.index(n),this.active=o?k():n,this.xhr&&this.xhr.abort(),a.length||r.length||k.error("jQuery UI Tabs: Mismatching fragment identifier."),r.length&&this.load(this.tabs.index(n),t),this._toggle(t,l))},_toggle:function(t,e){var i=this,n=e.newPanel,o=e.oldPanel;function s(){i.running=!1,i._trigger("activate",t,e)}function r(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),n.length&&i.options.show?i._show(n,i.options.show,s):(n.show(),s())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),r()),o.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&o.length?e.oldTab.attr("tabIndex",-1):n.length&&this.tabs.filter(function(){return 0===k(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var e,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),e=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:k.noop}))},_findActive:function(t){return!1===t?k():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){k.data(this,"ui-tabs-destroy")?k(this).remove():k(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=k(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var t=this.options.disabled;!1!==t&&(t=void 0!==i&&(i=this._getIndex(i),k.isArray(t)?k.map(t,function(t){return t!==i?t:null}):k.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==k.inArray(t,e))return;e=k.isArray(e)?k.merge([t],e).sort():[t]}this._setupDisabled(e)}},load:function(t,e){t=this._getIndex(t);var i=this,n=this.tabs.eq(t),o=n.find(".ui-tabs-anchor"),s=this._getPanelForTab(n),r={tab:n,panel:s};this._isLocal(o[0])||(this.xhr=k.ajax(this._ajaxSettings(o,e,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){s.html(t),i._trigger("load",e,r)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&i.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,e){return o._trigger("beforeLoad",i,k.extend({jqXHR:t,ajaxSettings:e},n))}}},_getPanelForTab:function(t){var e=k(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),k.widget("ui.tooltip",{version:"1.11.0",options:{content:function(){var t=k(this).attr("title")||"";return k("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",k.trim(i.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),n=k.inArray(e,i);-1!==n&&i.splice(n,1),t.removeData("ui-tooltip-id"),(i=k.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=k("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,e){var i=this;if("disabled"===t)return this[e?"_disable":"_enable"](),void(this.options[t]=e);this._super(t,e),"content"===t&&k.each(this.tooltips,function(t,e){i._updateContent(e)})},_disable:function(){var n=this;k.each(this.tooltips,function(t,e){var i=k.Event("blur");i.target=i.currentTarget=e[0],n.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=k(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=k(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,e=k(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=k(this);e.data("ui-tooltip-open")&&((t=k.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),e.attr("title")&&(e.uniqueId(),i.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._updateContent(e,t))},_updateContent:function(e,i){var t,n=this.options.content,o=this,s=i?i.type:null;if("string"==typeof n)return this._open(i,e,n);(t=n.call(e[0],function(t){e.data("ui-tooltip-open")&&o._delay(function(){i&&(i.type=s),this._open(i,e,t)})}))&&this._open(i,e,t)},_open:function(t,i,e){var n,o,s,r,a=k.extend({},this.options.position);function l(t){a.of=t,n.is(":hidden")||n.position(a)}e&&((n=this._find(i)).length?n.find(".ui-tooltip-content").html(e):(i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),n=this._tooltip(i),this._addDescribedBy(i,n.attr("id")),n.find(".ui-tooltip-content").html(e),this.liveRegion.children().hide(),e.clone?(r=e.clone()).removeAttr("id").find("[id]").removeAttr("id"):r=e,k("<div>").html(r).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:l}),l(t)):n.position(k.extend({of:i},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){n.is(":visible")&&(l(a.of),clearInterval(s))},k.fx.interval)),this._trigger("open",t,{tooltip:n}),o={keyup:function(t){if(t.keyCode===k.ui.keyCode.ESCAPE){var e=k.Event(t);e.currentTarget=i[0],this.close(e,!0)}}},i[0]!==this.element[0]&&(o.remove=function(){this._removeTooltip(n)}),t&&"mouseover"!==t.type||(o.mouseleave="close"),t&&"focusin"!==t.type||(o.focusout="close"),this._on(!0,i,o)))},close:function(t){var i=this,e=k(t?t.currentTarget:this.element),n=this._find(e);this.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(k(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&k.each(this.parents,function(t,e){k(e.element).attr("title",e.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:n}),this.closing=!1)},_tooltip:function(t){var e=k("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=e.uniqueId().attr("id");return k("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[i]=t,e},_find:function(t){var e=t.data("ui-tooltip-id");return e?k("#"+e):k()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var n=this;k.each(this.tooltips,function(t,e){var i=k.Event("blur");i.target=i.currentTarget=e[0],n.close(i,!0),k("#"+t).remove(),e.data("ui-tooltip-title")&&(e.attr("title")||e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(t){var n,y,w,x,e,l,r,u,p,d,h,P,O,f,g,T,k,R,o,A,F,M,c,C,m,z,N,H,L,V,v,b;n=function(t){return new n.prototype.init(t)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=n:t.Globalize=n,n.cultures={},n.prototype={constructor:n,init:function(t){return this.cultures=n.cultures,this.cultureSelector=t,this}},n.prototype.init.prototype=n.prototype,n.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures.default.calendar=n.cultures.default.calendars.standard,n.cultures.en=n.cultures.default,n.cultureSelector="en",y=/^0x[a-f0-9]+$/i,w=/^[+-]?infinity$/i,x=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,e=/^\s+|\s+$/g,l=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},r=function(t,e){return t.substr(t.length-e.length)===e},u=function(t){var e,i,n,o,s,r,a=t||{},l=1,c=arguments.length;t=!1;for("boolean"==typeof a&&(t=a,a=arguments[1]||{},l=2),"object"==typeof a||d(a)||(a={});l<c;l++)if(null!=(e=arguments[l]))for(i in e)n=a[i],a!==(o=e[i])&&(t&&o&&(h(o)||(s=p(o)))?(r=s?(s=!1,n&&p(n)?n:[]):n&&h(n)?n:{},a[i]=u(t,r,o)):void 0!==o&&(a[i]=o));return a},p=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},d=function(t){return"[object Function]"===Object.prototype.toString.call(t)},h=function(t){return"[object Object]"===Object.prototype.toString.call(t)},P=function(t,e){return 0===t.indexOf(e)},O=function(t){return(t+"").replace(e,"")},f=function(t){return isNaN(t)?NaN:0|t},g=function(t,e,i){for(var n=t.length;n<e;n+=1)t=i?"0"+t:t+"0";return t},T=function(t,e){for(var i=0,n=!1,o=0,s=t.length;o<s;o++){var r=t.charAt(o);switch(r){case"'":n?e.push("'"):i++,n=!1;break;case"\\":n&&e.push("\\"),n=!n;break;default:e.push(r),n=!1}}return i},k=function(t,e){e=e||"F";var i,n=t.patterns,o=e.length;if(1===o){if(!(i=n[e]))throw"Invalid date format string '"+e+"'.";e=i}else 2===o&&"%"===e.charAt(0)&&(e=e.charAt(1));return e},R=function(t,e,i){var n=i.calendar,o=n.convert;if(!e||!e.length||"i"===e){var s;if(i&&i.name.length)if(o)s=R(t,n.patterns.F,i);else{var r=new Date(t.getTime()),a=F(t,n.eras);r.setFullYear(M(t,n,a)),s=r.toLocaleString()}else s=t.toString();return s}var l=n.eras,c="s"===e;e=k(n,e),s=[];var u,d,h,p,f=["0","00","000"],g=/([^d]|^)(d|dd)([^d]|$)/g,m=0,v=A();function b(t,e){var i,n=t+"";return 1<e&&n.length<e?(i=f[e-2]+n).substr(i.length-e,e):i=n}function _(t,e){if(p)return p[e];switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate()}}for(!c&&o&&(p=o.fromGregorian(t));;){var y=v.lastIndex,w=v.exec(e),x=e.slice(y,w?w.index:e.length);if(m+=T(x,s),!w)break;if(m%2)s.push(w[0]);else{var C=w[0],S=C.length;switch(C){case"ddd":case"dddd":var D=3===S?n.days.namesAbbr:n.days.names;s.push(D[t.getDay()]);break;case"d":case"dd":d=!0,s.push(b(_(t,2),S));break;case"MMM":case"MMMM":var I=_(t,1);s.push(n.monthsGenitive&&(d||h||(d=g.test(e),h=!0),d)?n.monthsGenitive[3===S?"namesAbbr":"names"][I]:n.months[3===S?"namesAbbr":"names"][I]);break;case"M":case"MM":s.push(b(_(t,1)+1,S));break;case"y":case"yy":case"yyyy":I=p?p[0]:M(t,n,F(t,l),c),S<4&&(I%=100),s.push(b(I,S));break;case"h":case"hh":0===(u=t.getHours()%12)&&(u=12),s.push(b(u,S));break;case"H":case"HH":s.push(b(t.getHours(),S));break;case"m":case"mm":s.push(b(t.getMinutes(),S));break;case"s":case"ss":s.push(b(t.getSeconds(),S));break;case"t":case"tt":I=t.getHours()<12?n.AM?n.AM[0]:" ":n.PM?n.PM[0]:" ",s.push(1===S?I.charAt(0):I);break;case"f":case"ff":case"fff":s.push(b(t.getMilliseconds(),3).substr(0,S));break;case"z":case"zz":u=t.getTimezoneOffset()/60,s.push((u<=0?"+":"-")+b(Math.floor(Math.abs(u)),S));break;case"zzz":u=t.getTimezoneOffset()/60,s.push((u<=0?"+":"-")+b(Math.floor(Math.abs(u)),2)+":"+b(Math.abs(t.getTimezoneOffset()%60),2));break;case"g":case"gg":n.eras&&s.push(n.eras[F(t,l)].name);break;case"/":s.push(n["/"]);break;default:throw"Invalid date format pattern '"+C+"'."}}}return s.join("")},m=function(t,e,i){var n=i.groupSizes,o=n[0],s=1,r=Math.pow(10,e),a=Math.round(t*r)/r;isFinite(a)||(a=t);var l=(t=a)+"",c="",u=l.split(/e/i),d=1<u.length?parseInt(u[1],10):0;l=(u=(l=u[0]).split("."))[0],c=1<u.length?u[1]:"",0<d?(l+=(c=g(c,d,!1)).slice(0,d),c=c.substr(d)):d<0&&(c=(l=g(l,(d=-d)+1)).slice(-d,l.length)+c,l=l.slice(0,-d)),c=0<e?i["."]+(c.length>e?c.slice(0,e):g(c,e)):"";for(var h=l.length-1,p=i[","],f="";0<=h;){if(0===o||h<o)return l.slice(0,h+1)+(f.length?p+f+c:c);f=l.slice(h-o+1,h+1)+(f.length?p+f:""),h-=o,s<n.length&&(o=n[s],s++)}return l.slice(0,h+1)+p+f+c},o=function(t,e,i){if(!isFinite(t))return t===1/0?i.numberFormat.positiveInfinity:t===-1/0?i.numberFormat.negativeInfinity:i.numberFormat.NaN;if(!e||"i"===e)return i.name.length?t.toLocaleString():t.toString();e=e||"D";var n,o=i.numberFormat,s=Math.abs(t),r=-1;1<e.length&&(r=parseInt(e.slice(1),10));var a,l=e.charAt(0).toUpperCase();switch(l){case"D":n="n",s=f(s),-1!==r&&(s=g(""+s,r,!0)),t<0&&(s="-"+s);break;case"N":a=o;case"C":a=a||o.currency;case"P":a=a||o.percent,n=t<0?a.pattern[0]:a.pattern[1]||"n",-1===r&&(r=a.decimals),s=m(s*("P"===l?100:1),r,a);break;default:throw"Bad number format specifier: "+l}for(var c=/n|\$|-|%/g,u="";;){var d=c.lastIndex,h=c.exec(n);if(u+=n.slice(d,h?h.index:n.length),!h)break;switch(h[0]){case"n":u+=s;break;case"$":u+=o.currency.symbol;break;case"-":/[1-9]/.test(s)&&(u+=o["-"]);break;case"%":u+=o.percent.symbol}}return u},A=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},F=function(t,e){if(!e)return 0;for(var i,n=t.getTime(),o=0,s=e.length;o<s;o++)if(null===(i=e[o].start)||i<=n)return o;return 0},M=function(t,e,i,n){var o=t.getFullYear();return!n&&e.eras&&(o-=e.eras[i].offset),o},z=function(t,e){if(e<100){var i=new Date,n=F(i),o=M(i,t,n),s=t.twoDigitYearMax;(s="string"==typeof s?(new Date).getFullYear()%100+parseInt(s,10):s)<(e+=o-o%100)&&(e-=100)}return e},N=function(t,e,i){var n,o=t.days,s=t._upperDays;return s||(t._upperDays=s=[b(o.names),b(o.namesAbbr),b(o.namesShort)]),e=v(e),i?-1===(n=l(s[1],e))&&(n=l(s[2],e)):n=l(s[0],e),n},H=function(t,e,i){var n=t.months,o=t.monthsGenitive||t.months,s=t._upperMonths,r=t._upperMonthsGen;s||(t._upperMonths=s=[b(n.names),b(n.namesAbbr)],t._upperMonthsGen=r=[b(o.names),b(o.namesAbbr)]),e=v(e);var a=l(i?s[1]:s[0],e);return a<0&&(a=l(i?r[1]:r[0],e)),a},L=function(t,e){var i=t._parseRegExp;if(i){var n=i[e];if(n)return n}else t._parseRegExp=i={};for(var o,s=k(t,e).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],a=[],l=0,c=0,u=A();null!==(o=u.exec(s));){var d=s.slice(l,o.index);if(l=u.lastIndex,(c+=T(d,r))%2)r.push(o[0]);else{var h,p=o[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\"+t["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}h&&r.push(h),a.push(o[0])}}T(s.slice(l),r),r.push("$");var g={regExp:r.join("").replace(/\s+/g,"\\s+"),groups:a};return i[e]=g},V=function(t,e,i){return t<e||i<t},v=function(t){return t.split("Â ").join(" ").toUpperCase()},b=function(t){for(var e=[],i=0,n=t.length;i<n;i++)e[i]=v(t[i]);return e},c=function(t,e,i){t=O(t);var n=i.calendar,o=L(n,e),s=new RegExp(o.regExp).exec(t);if(null===s)return null;for(var r,a=o.groups,l=null,c=null,u=null,d=null,h=null,p=0,f=0,g=0,m=0,v=null,b=!1,_=0,y=a.length;_<y;_++){var w=s[_+1];if(w){var x=a[_],C=x.length,S=parseInt(w,10);switch(x){case"dd":case"d":if(V(d=S,1,31))return null;break;case"MMM":case"MMMM":if(u=H(n,w,3===C),V(u,0,11))return null;break;case"M":case"MM":if(V(u=S-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(c=C<4?z(n,S):S,V(c,0,9999))return null;break;case"h":case"hh":if(12===(p=S)&&(p=0),V(p,0,11))return null;break;case"H":case"HH":if(V(p=S,0,23))return null;break;case"m":case"mm":if(V(f=S,0,59))return null;break;case"s":case"ss":if(V(g=S,0,59))return null;break;case"tt":case"t":if(!(b=n.PM&&(w===n.PM[0]||w===n.PM[1]||w===n.PM[2]))&&(!n.AM||w!==n.AM[0]&&w!==n.AM[1]&&w!==n.AM[2]))return null;break;case"f":case"ff":case"fff":if(m=S*Math.pow(10,3-C),V(m,0,999))return null;break;case"ddd":case"dddd":if(h=N(n,w,3===C),V(h,0,6))return null;break;case"zzz":var D=w.split(/:/);if(2!==D.length)return null;if(r=parseInt(D[0],10),V(r,-12,13))return null;var I=parseInt(D[1],10);if(V(I,0,59))return null;v=60*r+(P(w,"-")?-I:I);break;case"z":case"zz":if(V(r=S,-12,13))return null;v=60*r;break;case"g":case"gg":var T=w;if(!T||!n.eras)return null;T=O(T.toLowerCase());for(var k=0,R=n.eras.length;k<R;k++)if(T===n.eras[k].name.toLowerCase()){l=k;break}if(null===l)return null}}}var A,F=new Date,M=n.convert;if(A=M?M.fromGregorian(F)[0]:F.getFullYear(),null===c?c=A:n.eras&&(c+=n.eras[l||0].offset),null===u&&(u=0),null===d&&(d=1),M){if(null===(F=M.toGregorian(c,u,d)))return null}else{if(F.setFullYear(c,u,d),F.getDate()!==d)return null;if(null!==h&&F.getDay()!==h)return null}if(b&&p<12&&(p+=12),F.setHours(p,f,g,m),null!==v){var E=F.getMinutes()-(v+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(E/60,10),E%60)}return F},C=function(t,e,i){var n,o=e["-"],s=e["+"];switch(i){case"n -":o=" "+o,s=" "+s;case"n-":r(t,o)?n=["-",t.substr(0,t.length-o.length)]:r(t,s)&&(n=["+",t.substr(0,t.length-s.length)]);break;case"- n":o+=" ",s+=" ";case"-n":P(t,o)?n=["-",t.substr(o.length)]:P(t,s)&&(n=["+",t.substr(s.length)]);break;case"(n)":P(t,"(")&&r(t,")")&&(n=["-",t.substr(1,t.length-2)])}return n||["",t]},n.prototype.findClosestCulture=function(t){return n.findClosestCulture.call(this,t)},n.prototype.format=function(t,e,i){return n.format.call(this,t,e,i)},n.prototype.localize=function(t,e){return n.localize.call(this,t,e)},n.prototype.parseInt=function(t,e,i){return n.parseInt.call(this,t,e,i)},n.prototype.parseFloat=function(t,e,i){return n.parseFloat.call(this,t,e,i)},n.prototype.culture=function(t){return n.culture.call(this,t)},n.addCultureInfo=function(t,e,i){var n={},o=!1;n="string"!=typeof t?(i=t,t=this.culture().name,this.cultures[t]):"string"!=typeof e?(i=e,o=null==this.cultures[t],this.cultures[t]||this.cultures.default):(o=!0,this.cultures[e]),this.cultures[t]=u(!0,{},n,i),o&&(this.cultures[t].calendar=this.cultures[t].calendars.standard)},n.findClosestCulture=function(t){var e;if(!t)return this.cultures[this.cultureSelector]||this.cultures.default;if("string"==typeof t&&(t=t.split(",")),p(t)){for(var i,n=this.cultures,o=t,s=o.length,r=[],a=0;a<s;a++){var l,c=(t=O(o[a])).split(";");i=O(c[0]),l=1!==c.length&&0===(t=O(c[1])).indexOf("q=")?(t=t.substr(2),l=parseFloat(t),isNaN(l)?0:l):1,r.push({lang:i,pri:l})}for(r.sort(function(t,e){return t.pri<e.pri?1:-1}),a=0;a<s;a++)if(e=n[i=r[a].lang])return e;for(a=0;a<s;a++)for(i=r[a].lang;;){var u=i.lastIndexOf("-");if(-1===u)break;if(e=n[i=i.substr(0,u)])return e}for(a=0;a<s;a++)for(var d in i=r[a].lang,n){var h=n[d];if(h.language==i)return h}}else if("object"==typeof t)return t;return e||null},n.format=function(t,e,i){return culture=this.findClosestCulture(i),t instanceof Date?t=R(t,e,culture):"number"==typeof t&&(t=o(t,e,culture)),t},n.localize=function(t,e){return this.findClosestCulture(e).messages[t]||this.cultures.default.messages[t]},n.parseDate=function(t,e,i){var n,o,s;if(i=this.findClosestCulture(i),e){if("string"==typeof e&&(e=[e]),e.length)for(var r=0,a=e.length;r<a;r++){var l=e[r];if(l&&(n=c(t,l,i)))break}}else for(o in s=i.calendar.patterns)if(n=c(t,s[o],i))break;return n||null},n.parseInt=function(t,e,i){return f(n.parseFloat(t,e,i))},n.parseFloat=function(t,e,i){"number"!=typeof e&&(i=e,e=10);var n=this.findClosestCulture(i),o=NaN,s=n.numberFormat;if(-1<t.indexOf(n.numberFormat.currency.symbol)&&(t=(t=t.replace(n.numberFormat.currency.symbol,"")).replace(n.numberFormat.currency["."],n.numberFormat["."])),t=O(t),w.test(t))o=parseFloat(t);else if(!e&&y.test(t))o=parseInt(t,16);else{var r=C(t,s,s.pattern[0]),a=r[0],l=r[1];""===a&&"(n)"!==s.pattern[0]&&(a=(r=C(t,s,"(n)"))[0],l=r[1]),""===a&&"-n"!==s.pattern[0]&&(a=(r=C(t,s,"-n"))[0],l=r[1]),a=a||"+";var c,u,d=l.indexOf("e");d<0&&(d=l.indexOf("E")),c=d<0?(u=l,null):(u=l.substr(0,d),l.substr(d+1));var h,p,f=s["."],g=u.indexOf(f);p=g<0?(h=u,null):(h=u.substr(0,g),u.substr(g+f.length));var m=s[","];h=h.split(m).join("");var v=m.replace(/\u00A0/g," ");m!==v&&(h=h.split(v).join(""));var b=a+h;if(null!==p&&(b+="."+p),null!==c){var _=C(c,s,"-n");b+="e"+(_[0]||"+")+_[1]}x.test(b)&&(o=parseFloat(b))}return o},n.culture=function(t){return void 0!==t&&(this.cultureSelector=t),this.findClosestCulture(t)||this.culture.default}}(this);var __extends=function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i},gcui;function __gcuiReadOptionEvents(t,e){for(var i=0;i<t.length;i++)null!==e.options[t[i]]&&e.element.bind(t[i],e.options[t[i]]);for(var i in e.options)if(-1!==i.indexOf(" "))for(var n=i.split(" "),o=0;o<n.length;o++)0<n[o].length&&e.element.bind(n[o],e.options[i])}function gcuiASPNetParseOptionsReviewer(o,k){var a,v=o[k],d;if(v)switch(typeof v){case"string":a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?):(\d{3})Z$/.exec(v),a&&(d=new Date(+a[1],a[2]-1,+a[3],+a[4],+a[5],+a[6],+a[7]),d.setFullYear(+a[1]),o[k]=d);break;case"object":if(void 0!==v.needQuotes&&void 0!==v.valueString)v.needQuotes?o[k]=v.valueString:o[k]=eval(v.valueString);else for(k in v)gcuiASPNetParseOptionsReviewer(v,k)}}function gcuiASPNetParseOptions(t){var e;if(!t)return t;for(e in t)gcuiASPNetParseOptionsReviewer(t,e);return t}function applyTouchUtilEvents(t){return t}!function(t){var r=jQuery,e={autoMobilize:!0,uiCSS:{widget:"ui-widget",overlay:"ui-widget-overlay",content:"ui-widget-content",header:"ui-widget-header",stateDisabled:"ui-state-disabled",stateFocus:"ui-state-focus",stateActive:"ui-state-active",stateDefault:"ui-state-default",stateHightlight:"ui-state-highlight",stateHover:"ui-state-hover",stateChecked:"ui-state-checked",stateError:"ui-state-error",getState:function(t){return t=t.charAt(0).toUpperCase()+t.substr(1),r.gcui.uiCSS["state"+t]},icon:"ui-icon",iconCheck:"ui-icon-check",iconRadioOn:"ui-icon-radio-on",iconRadioOff:"ui-icon-radio-off",iconClose:"ui-icon-close",iconArrow4Diag:"ui-icon-arrow-4-diag",iconNewWin:"ui-icon-newwin",iconVGripSolid:"ui-icon-grip-solid-vertical",iconHGripSolid:"ui-icon-grip-solid-horizontal",iconPlay:"ui-icon-play",iconPause:"ui-icon-pause",iconStop:"ui-icon-stop",iconArrowUp:"ui-icon-triangle-1-n",iconArrowRight:"ui-icon-triangle-1-e",iconArrowDown:"ui-icon-triangle-1-s",iconArrowLeft:"ui-icon-triangle-1-w",iconArrowRightDown:"ui-icon-triangle-1-se",iconCaratUp:"ui-icon-carat-1-n",iconCaratRight:"ui-icon-carat-1-e",iconCaratDown:"ui-icon-carat-1-s",iconCaratLeft:"ui-icon-carat-1-w",iconSeekFirst:"ui-icon-seek-first",iconSeekEnd:"ui-icon-seek-end",iconSeekNext:"ui-icon-seek-next",iconSeekPrev:"ui-icon-seek-prev",inputSpinnerLeft:"ui-input-spinner-left",inputSpinnerRight:"ui-input-spinner-right",inputTriggerLeft:"ui-input-trigger-left",inputTriggerRight:"ui-input-trigger-right",inputSpinnerTriggerLeft:"ui-input-spinner-trigger-left",inputSpinnerTriggerRight:"ui-input-spinner-trigger-right",cornerAll:"ui-corner-all",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",cornerBottom:"ui-corner-bottom",cornerBL:"ui-corner-bl",cornerBR:"ui-corner-br",cornerTop:"ui-corner-top",cornerTL:"ui-corner-tl",cornerTR:"ui-corner-tr",helperClearFix:"ui-helper-clearfix",helperReset:"ui-helper-reset",helperHidden:"ui-helper-hidden",priorityPrimary:"ui-priority-primary",prioritySecondary:"ui-priority-secondary",button:"ui-button",buttonText:"ui-button-text",buttonTextOnly:"ui-button-text-only",tabs:"ui-tabs",tabsTop:"ui-tabs-top",tabsBottom:"ui-tabs-bottom",tabsLeft:"ui-tabs-left",tabsRight:"ui-tabs-right",tabsLoading:"ui-tabs-loading",tabsActive:"ui-tabs-active",tabsPanel:"ui-tabs-panel",tabsNav:"ui-tabs-nav",tabsHide:"ui-tabs-hide",tabsCollapsible:"ui-tabs-collapsible",activeMenuitem:"ui-active-menuitem"},mobileCSS:{content:"ui-content",header:"ui-header",overlay:"ui-overlay",stateDisabled:"ui-disabled",stateFocus:"ui-focus",stateActive:"ui-btn-active",stateDefault:"ui-btn-up-a",iconArrowUp:"ui-icon-arrow-u",iconArrowRight:"ui-icon-arrow-r",iconArrowDown:"ui-icon-arrow-d",iconArrowLeft:"ui-icon-arrow-l",iconArrowRightDown:"ui-icon-arrow-d",iconSeekFirst:"ui-icon-arrow-l",iconSeekEnd:"ui-icon-arrow-r",iconSeekNext:"ui-icon-arrow-r",iconSeekPrev:"ui-icon-arrow-l",iconClose:"ui-icon-delete",iconStop:"ui-icon-grid",iconCheck:"ui-icon-checkbox-on"},mobileThemePrefix:["ui-bar","ui-body","ui-overlay","ui-btn-up","ui-btn-hover","ui-btn-down"],autoInit:function(e,t){if(r.mobile&&r.mobile.page&&t){var i=r.mobile.page.prototype.options.keepNative;i=i&&i.length&&-1===i.indexOf(t)?[i,t].join(", "):t,r.mobile.page.prototype.options.keepNative=i}r.mobile&&r.gcui[e]&&r.gcui[e].prototype&&r.gcui[e].prototype.enhanceWithin&&r(document).bind("pagecreate create",function(t){r.gcui[e].prototype.enhanceWithin(t.target)})},registerWidget:function(t,e,i,n){var o,s="gcui."+t;"function"==typeof i&&(o=i,i=null),null==i&&(i=r.extend(!0,{},e),e=r.gcui.widget),i.options=i.options||{},i.options.initSelector=i.options.initSelector||":jqmData(role='"+t+"')",r.mobile&&i.options&&i.options.mobileCSS&&(i.options.uiCSS=i.options.uiCSS||{},r.extend(i.options.uiCSS,i.options.mobileCSS)),r.widget(s,e,i),o?o.call():this.autoInit&&this.autoInit(t,i.options.initSelector)},addThemeToMobileCSS:function(o,s){r.each(s,function(i,n){"string"==typeof n?r.each(jQueryGCUI.mobileThemePrefix,function(t,e){new RegExp("\\b"+e).test(n)&&(s[i]=n+" "+e+"-"+o)}):jQueryGCUI.addThemeToMobileCSS(o,n)})},replaceClassName:function(t){return t.replace(/\s/g,"")},getTextAutoWidth:function(t){if(t.children()){for(var e=t.children().length,i=0,n=r("#measureWidth"),o=0;o<e;o++)n.css("font",t.find(".ui-button-text").css("font")).text(r(t.children()[o]).find(".ui-button-text").text()),i=n.innerWidth()>i?n.innerWidth():i;return n.addClass("update-width"),i}}};r.gcui=e;var i=(n.prototype.options={uiCSS:r.gcui.uiCSS},n.prototype.widget=function(){return this.element},["destory","_setOption","_create","_init"].forEach(function(t){n.prototype[t]=function(){r.Widget.prototype[t].apply(this,arguments)}}),n);function n(){}t.GCUIWidget=i;var o,s=(__extends(a,o=i),a);function a(){o.apply(this,arguments)}t.GCUIMobileWidget=s,r(window.document).trigger("gcuiinit");var l,c=(__extends(u,l=s),u.prototype._baseWidget=function(){return this._isMobile?r.mobile.widget:r.Widget},u.prototype._createWidget=function(t,e){this._widgetCreated=!0,this._syncEventPrefix&&(this.widgetEventPrefix=this.widgetName),window.applyTouchUtilEvents&&(r=window.applyTouchUtilEvents(r)),this._baseWidget().prototype._createWidget.apply(this,arguments)},u.prototype._create=function(){this._baseWidget().prototype._create.apply(this,arguments)},u.prototype._init=function(){this._baseWidget().prototype._init.apply(this,arguments)},u.prototype.destroy=function(){this._baseWidget().prototype.destroy.apply(this,arguments)},u.prototype._setOption=function(t,e){this._baseWidget().prototype._setOption.apply(this,arguments),"disabled"===t&&e&&this._isMobile&&this.element.removeClass("ui-state-disabled").addClass(this.options.uiCSS.stateDisabled)},u);function u(){l.apply(this,arguments),this._widgetCreated=!1}(t.gcuiWidget=c).prototype._syncEventPrefix=!0,c.prototype._isMobile=!1,null!=r.mobile&&!0===r.gcui.autoMobilize?(r.extend(!0,c.prototype.options.uiCSS,r.gcui.mobileCSS),c.prototype._isMobile=!0,c.prototype.options=r.extend(!0,{},c.prototype.options,c.prototype._baseWidget().prototype.options),c.prototype.enhanceWithin=function(t,e){this._widgetCreated||r.mobile.widget.prototype.enhanceWithin.apply(this,arguments)},c.prototype._getCreateOptions=function(){var t,e,i=function(t){if(void 0===t)return{};if(null===t)return{};var e=t.replace(/(?:(?:\{[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*)|(?:,[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*))('(.*?[^\\])')?/gi,function(t,e,i,n){var o;return o=t.replace(/[\n\r\t\s]*['"]?([^\{,\s]+?)['"]?\s*:[\n\r\t\s]*/i,'"$1":'),n?o.replace(/\:[\n\r\t\s]*(?:'(.*)')?/i,':"$1"'):o}).replace(/\[.*?(?=[\]\[])|[\]\[].*?(?=[\]])/gi,function(t){return t.replace(/'(.*?[^\\])'/g,'"$1"')});return r.parseJSON(e)}(this.element.attr("data-"+r.mobile.nsNormalize("options")));return t=r.mobile.widget.prototype._getCreateOptions.apply(this,arguments),e=r.extend(!0,{},this.options.uiCSS),this.theme=void 0!==this.options.theme?this.options.theme:this.element.jqmData("theme"),this.theme&&r.gcui.addThemeToMobileCSS(this.theme,e),r.extend(t,{uiCSS:e},i)},r.widget("gcui.widget",r.mobile.widget,c.prototype),r(document).on("pageshow",function(t,e){if(null!=t.target){var i=r(t.target);i.gcuiTriggerVisibility&&i.gcuiTriggerVisibility()}})):(c.prototype.options=r.extend(!0,{},c.prototype.options,c.prototype._baseWidget().prototype.options),r.widget("gcui.widget",c.prototype))}(gcui=gcui||{}),function(t){function n(t){return isNaN(t)?0:t}$.fn.extend({getTextSelection:function(){var t,e,i=this[0],n=this.val();if(0===arguments.length){var o,s,r,a,l=GC.Spread.Sheets.util.browser;if(l.msie&&parseInt(l.version)<9)try{var c=document.selection;a="textarea"!=i.tagName.toLowerCase()?((o=c.createRange().duplicate()).moveEnd("character",n.length),r=""===o.text?n.length:n.lastIndexOf(o.text),(o=c.createRange().duplicate()).moveStart("character",-n.length),o.text.length):((s=(o=c.createRange()).duplicate()).moveToElementText(i),s.setEndPoint("EndToEnd",o),(r=s.text.length-o.text.length)+o.text.length)}catch(a){}else r=i.selectionStart,a=i.selectionEnd;var u=n.substring(r,a);return{start:r,end:a,text:u,replace:function(t){return n.substring(0,r)+t+n.substring(a,n.length)}}}if(1===arguments.length){if("object"==typeof arguments[0]&&"number"==typeof arguments[0].start&&"number"==typeof arguments[0].end)t=arguments[0].start,e=arguments[0].end;else if("string"==typeof arguments[0])-1<(t=n.indexOf(arguments[0]))&&(e=t+arguments[0].length);else if("[object RegExp]"===Object.prototype.toString.call(arguments[0])){var d=arguments[0].exec(n);null!=d&&(e=(t=d.index)+d[0].length)}}else 2===arguments.length&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t=arguments[0],e=arguments[1]);if(void 0===t&&(t=0,e=n.length),l.msie){var h=i.createTextRange();h.collapse(!0),h.moveStart("character",t),h.moveEnd("character",e-t),h.select()}else i.selectionStart=t,i.selectionEnd=e},getContent:function(t){return this.each(function(){this.innerHTML='<iframe frameborder="0" style="width: 100%; height: 100%;" src="'+t+'">"'})},addVisibilityObserver:function(i,t){return this.each(function(){var e=this;$(this).addClass("gcui-observer-visibility"),$(this).bind("gcuimovisibilitychanged"+(t?"."+t:""),function(t){i.apply(e,arguments),t.stopPropagation()})})},removeVisibilityObserver:function(t){return this.each(function(){$(this).removeClass("gcui-observer-visibility"),t?jQuery.isFunction(t)?$(this).unbind("gcuimovisibilitychanged",t):$(this).unbind("gcuimovisibilitychanged."+t):$(this).unbind("gcuimovisibilitychanged")})},triggerVisibility:function(){return this.each(function(){var t=$(this);t.hasClass("gcui-observer-visibility")&&t.trigger("gcuimovisibilitychanged"),t.find(".gcui-observer-visibility").trigger("gcuimovisibilitychanged")})},leftBorderWidth:function(){var t=parseFloat($(this).css("borderLeftWidth")),e=parseFloat($(this).css("padding-left")),i=0;return"auto"!==$(this).css("margin-left")&&(i=parseFloat($(this).css("margin-left"))),n(t)+n(e)+n(i)},rightBorderWidth:function(){var t=parseFloat($(this).css("borderRightWidth")),e=parseFloat($(this).css("padding-right")),i=0;return"auto"!==$(this).css("margin-right")&&(i=parseFloat($(this).css("margin-right"))),n(t)+n(e)+n(i)},topBorderWidth:function(){var t=parseFloat($(this).css("borderTopWidth")),e=parseFloat($(this).css("padding-top")),i=0;return"auto"!==$(this).css("margin-top")&&(i=parseFloat($(this).css("margin-top"))),n(t)+n(e)+n(i)},bottomBorderWidth:function(){var t=parseFloat($(this).css("borderBottomWidth")),e=parseFloat($(this).css("padding-bottom")),i=0;return"auto"!==$(this).css("margin-bottom")&&(i=parseFloat($(this).css("margin-bottom"))),n(t)+n(e)+n(i)},borderSize:function(){return{width:$(this).leftBorderWidth()+$(this).rightBorderWidth(),height:$(this).topBorderWidth()+$(this).bottomBorderWidth()}},setOutWidth:function(t){var e=$(this).leftBorderWidth()+$(this).rightBorderWidth();return $(this).width(t-e),this},setOutHeight:function(t){var e=$(this).topBorderWidth()+$(this).bottomBorderWidth();return $(this).height(t-e),this},getWidget:function(){var t=this.data("widgetName");return t&&""!==t?this.data(t):null},gcuishow:function(t,e,i,n,o){var s=t.animated||!1,r=t.duration||400,a=t.easing,l=t.option||{};if(n&&$.isFunction(n)&&n.call(this),s){if(e&&e[s])return void e[s](t,$.extend(i,{complete:o}));if($.effects&&($.effects[s]||$.effects.effect&&$.effects.effect[s]))return void this.show(s,$.extend(l,{easing:a}),r,o)}this.show(),o&&$.isFunction(o)&&o.call(this)},gcuihide:function(t,e,i,n,o){var s=t.animated||!1,r=t.duration||400,a=t.easing,l=t.option||{};if(n&&$.isFunction(n)&&n.call(this),s){if(e&&e[s])return void e[s](t,$.extend(i,{complete:o}));if($.effects&&($.effects[s]||$.effects.effect&&$.effects.effect[s]))return void this.stop().hide(s,$.extend(l,{easing:a}),r,o)}this.hide(),o&&$.isFunction(o)&&o.call(this)}}),$.save=function(t,e){if($.effects)return $.effects.save(t,e);for(var i=0;i<e.length;i++)null!==e[i]&&t.data("ec.storage."+e[i],t[0].style[e[i]])},$.restore=function(t,e){if($.effects)return $.effects.restore(t,e);for(var i=0;i<e.length;i++)null!==e[i]&&t.css(e[i],t.data("ec.storage."+e[i]))},$.createWrapper=function(i){if($.effects)return $.effects.createWrapper(i);if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return i.wrap(t),i[0]!==e&&!$.contains(i[0],e)||$(e).focus(),t=i.parent(),"static"==i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):($.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),$.each(["top","left","bottom","right"],function(t,e){n[e]=i.css(e),isNaN(parseInt(n[e],10))&&(n[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n).show()},$.removeWrapper=function(t){if($.effects)return $.effects.removeWrapper(t);var e,i=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(e=t.parent().replaceWith(t),t[0]!==i&&!$.contains(t[0],i)||$(i).focus(),e):t},$.setMode=function(t,e){return $.effects?$.effects.setMode(t,e):("toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e)};function e(){}$.extend(e.prototype,{_UTFPunctuationsString:" ! \" # % & ' ( ) * , - . / : ; ? @ [ \\ ] { } Â¡ Â« Â­ Â· Â» Â¿ Í¾ Î Õ Õ Õ Õ Õ Õ Ö Ö Ö¾ × × ×³ ×´ Ø Ø Ø Ùª Ù« Ù¬ Ù­ Û Ü Ü Ü Ü Ü Ü Ü Ü Ü Ü Ü Ü Ü Ü à¥¤ à¥¥ à¥° à·´ à¹ à¹ à¹ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼ à¼º à¼» à¼¼ à¼½ à¾ á á á á á á á» á¡ á¢ á£ á¤ á¥ á¦ á§ á¨ á­ á® á á á« á¬ á­ á á á á á á á á á  á  á  á  á  á  á  á  á  á  á  â â â â â â â â â â â â â â â â â  â¡ â¢ â£ â¤ â¥ â¦ â§ â° â± â² â³ â´ âµ â¶ â· â¸ â¹ âº â» â¼ â½ â¾ â â â â â â â â â â â â½ â¾ â â â© âª ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã ã° ï´¾ ï´¿ ï¸° ï¸± ï¸² ï¸µ ï¸¶ ï¸· ï¸¸ ï¸¹ ï¸º ï¸» ï¸¼ ï¸½ ï¸¾ ï¸¿ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹ ï¹  ï¹¡ ï¹£ ï¹¨ ï¹ª ï¹« ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼ ï¼  ï¼» ï¼¼ ï¼½ ï½ ï½ ï½¡ ï½¢ ï½£ ï½¤';this.UTFWhitespacesString_='\t \v \f    Â  á â â â â â â â â â â â â \u2028 â¯ ã",isDigit:function(t){var e=t.charCodeAt(0);return 48<=e&&e<58},isLetter:function(t){return!!(t+"").match(new RegExp("[A-Za-zÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ÈÈ¢-È³É-Ê­Ê°-Ê¸Ê»-ËËËË -Ë¤Ë®ÍºÎÎ-ÎÎÎ-Î¡Î£-ÏÏ-ÏÏ-Ï³Ð-ÒÒ-ÓÓÓÓÓÓ-ÓµÓ¸Ó¹Ô±-ÕÕÕ¡-Ö×-×ª×°-×²Ø¡-ØºÙ-ÙÙ±-ÛÛÛ¥Û¦Ûº-Û¼ÜÜ-Ü¬Þ-Þ¥à¤-à¤¹à¤½à¥à¥-à¥¡à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬¶-à¬¹à¬½à­à­à­-à­¡à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®µà®·-à®¹à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à³à³ à³¡à´-à´à´-à´à´-à´¨à´ª-à´¹àµ àµ¡à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»à»à»à¼à½-à½à½-à½ªà¾-à¾á-á¡á£-á§á©áªá-áá -áá-á¶á-áá-á¢á¨-á¹á-áá-ááá-áá-ááá-áá -ááá-áá-á®á°á²-áµá¸-á¾áá-áá-áá-áá-á®á°-ááá-áá-áá -áá-áá -á´á-á¬á¯-á¶á-áá -áªá-á³á  -á¡·á¢-á¢¨á¸-áºáº -á»¹á¼-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â¿âââ-âââ-ââ¤â¦â¨âª-â­â¯-â±â³-â¹ããã±-ãµã-ãããã¡-ãºã¼-ã¾ã-ã¬ã±-ãã -ã·ã-ä¶µä¸-é¾¥ê-êê°-í£ï¤-ï¨­ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹²ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿]"))},isLetterOrDigit:function(t){return this.isLetter(t)||this.isDigit(t)},isDoubleByteNumber:function(t){var e=t.charCodeAt(0);return 65296<=e&&e<65306},isSymbol:function(t){return new RegExp("[$+<->^`|~Â¢-Â©Â¬Â®-Â±Â´Â¶Â¸ÃÃ·Ê¹ÊºË-ËË-ËË¥-Ë­Í´ÍµÎÎÒÛ©Û½Û¾à§²à§³à§ºà­°à¸¿à¼-à¼à¼-à¼à¼-à¼à¼´à¼¶à¼¸à¾¾-à¿à¿-à¿à¿áá¾½á¾¿-á¿á¿-á¿á¿-á¿á¿­-á¿¯á¿½á¿¾ââº-â¼â-ââ -â¯âââ-âââââ-ââ-â£â¥â§â©â®â²âºâ-â³â-â±â-â¨â«-â»â½-ââ-â¦â-ââ-â©â-ââ -â·â-ââ-â±â-ââ-ââ-â§â©-âââ-âââ-ââ¡-â§ââ-â¯â±-â¾â -â£¿âº-âºâº-â»³â¼-â¿â¿°-â¿»ãããã ã¶ã·ã¾ã¿ããããã-ãã-ããª-ãã -ã»ã¿ã-ã°ã-ãã-ã¾ã-ã¶ã»-ãã -ã¾ê-ê¡ê¤-ê³êµ-êê-êêï¬©ï¹¢ï¹¤-ï¹¦ï¹©ï¼ï¼ï¼-ï¼ï¼¾ï½ï½ï½ï¿ -ï¿¦ï¿¨-ï¿®ï¿¼ï¿½]").test(t+"")},isPunctuation:function(t){return 0<=this._UTFPunctuationsString.indexOf(t)},isPrintableChar:function(t){return!!(this.isLetterOrDigit(t)||this.isPunctuation(t)||this.isSymbol(t)||this.isDoubleByteNumber(t))||" "===t},isAscii:function(t){return"!"<=t&&t<="~"},isAsciiLetter:function(t){return"A"<=t&&t<="Z"||"a"<=t&&t<="z"},isUpper:function(t){return t.toUpperCase()===t},isLower:function(t){return t.toLowerCase()===t},isAlphanumeric:function(t){return!!this.isLetter(t)||this.isDigit(t)},isAciiAlphanumeric:function(t){return!(t<"0"||"9"<t)||!(t<"A"||"Z"<t)||"a"<=t&&t<="z"},setChar:function(t,e,i){return i>=t.length||i<0?t:t.substr(0,i)+e+t.substr(i+1)}}),$.fn.zIndex||($.fn.zIndex=function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,i,n=$(this[0]);n.length&&n[0]!==document;){if(("absolute"===(e=n.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0});var o=["\n","\r",'"',"@","+","'","<",">","%","{","}"],s=["!ESC!NN!","!ESC!RR!","!ESC!01!","!ESC!02!","!ESC!03!","!ESC!04!","!ESC!05!","!ESC!06!","!ESC!07!","!ESC!08!","!ESC!09!"],r=["(\n)","(\r)",'(")',"(@)","(\\+)","(')","(\\<)","(\\>)","(%)","(\\{)","(\\})"];if($.gcuiutil||$.extend({gcuiutil:{charValidator:new e,encodeString:function(t){for(var e=0;e<o.length;e++){var i=new RegExp(r[e],"g");t=t.replace(i,s[e])}return t},decodeString:function(t){if(""!==t){for(var e=0;e<s.length;e++){var i=new RegExp(s[e],"g");t=t.replace(i,o[e])}return t}}}}),jQuery.uaMatch||(jQuery.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}),!jQuery.browser){var i=jQuery.uaMatch(navigator.userAgent),a={version:"0",msie:!1,opera:!1,safari:!1,mozilla:!1,webkit:!1,chrome:!1};i.browser&&(a[i.browser]=!0,a.version=i.version),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0),jQuery.browser=a}$.ui&&$.ui.position&&$.ui.position.flipfit&&($.ui.position.flip.top=function(t,e){var i,n,o=e.within,s=o.offset.top+o.scrollTop,r=o.height,a=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,u=l+e.collisionHeight-r-a,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,h="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];c<0?(n=t.top+d+h+p+e.collisionHeight-r-s,t.top+d+h+p>c&&(n<0||n<Math.abs(c))&&(t.top+=d+h+p)):0<u&&(i=t.top-e.collisionPosition.marginTop+d+h+p-a,t.top+d+h+p+e.collisionHeight-r-a<u&&(0<i||Math.abs(i)<u)&&(t.top+=d+h+p))});var l=$.fn.position;$.fn.position=function(t){if(t&&$.isPlainObject(t)&&t.offset){var i=(t.my||"").split(" "),n=(t.offset||"").split(" ");1===i.length&&(/left|center|right/.test(i[0])?i.concat(["center"]):/top|center|bottom/.test(i[0])&&["center"].concat(i)),1===n.length&&n.concat(n[0]),$.each(i,function(t,e){/\+|-/.test(n[t])?i[t]=i[t]+n[t]:i[t]=i[t]+"+"+n[t]}),t.my=i.join(" ")}return l.apply(this,arguments)},t.getKeyCodeEnum=function(){if($.ui&&$.ui.keyCode)return $.ui.keyCode;if($.mobile&&$.mobile.keyCode)return $.mobile.keyCode;throw"keyCode object is not found"}}(gcui=gcui||{}),function(t){t.expando=".gcui";function e(t){this.message=t,this.stack="gcui"+(new Error).stack,this.name="GCUIError"}var i=t.GCUIError=e;i.prototype=new Error,i.prototype.constructor=i}(gcui=gcui||{}),function(o){function s(t){this.object=t}var t,e;t=o.data||(o.data={}),s.getFrom=function(e,t){void 0===t&&(t=!0);var i,n=o.expando;if(Object(e)!==e)return null;if((i=e[n])&&i.object!==e&&(i=null),t&&!(i instanceof s&&Object.prototype.hasOwnProperty.call(e,n))){i=new s(e);try{Object.defineProperty(e,n,{value:i,configurable:!1,enumerable:!1,writable:!1})}catch(t){e[n]=i}}return i},e=s,t.Expando=e;o.data}(gcui=gcui||{}),function(t){!function(t){(t.util||(t.util={})).funcClass=function(e){return function(){var t=function(){return e.prototype._call.apply(t,arguments)};return $.extend(t,e.prototype),e.apply(t,arguments),t}};t.util}(t.data||(t.data={}));t.data}(gcui=gcui||{}),function(t){!function(o){var i=jQuery,s=(t.prototype.trigger=function(t){return this.handler.apply(this.context,t)},t);function t(t,e){this.handler=t,this.context=e}o.SubscriberEntry=s;var n=(r.prototype.subscribe=function(t,e){void 0===e&&(e=this.defaultContext);var i=this,n=new s(t,e);return this._entries.push(n),{dispose:function(){return o.util.remove(i._entries,n)}}},r.prototype.trigger=function(){for(var i=[],t=0;t<+arguments.length;t++)i[t]=arguments[t+0];o.util.each(this._entries,function(t,e){return e.trigger(i)})},r.makeSubscribable=function(t){var e=new r(t);return t.subscribe=i.proxy(e.subscribe,e),e},r);function r(t){this.defaultContext=t,this._entries=[]}function e(t){return i.isFunction(t.subscribe)}o.Subscribable=n,o.isSubscriptable=e;var a=(l.prototype.subscribe=function(t,e){return this._subscribable=this._subscribable||new n(this),this._subscribable.subscribe(t,e)},l.prototype._trigger=function(){for(var t=[],e=0;e<+arguments.length;e++)t[e]=arguments[e+0];this._subscribable&&this._subscribable.trigger.apply(this._subscribable,arguments)},l);function l(){}o.BaseObservable=a;var c,u=(__extends(d,c=a),d.prototype._call=function(){return this.mutable.value},d);function d(t){c.call(this),this.mutable=t}o._ReadOnlyObservable=u;var h,p=o.util.funcClass(u),f=(__extends(g,h=a),g.prototype._call=function(t){return 0<arguments.length&&(!this.checkNewValue||t!==this.value)&&(this.value=t,this._trigger(t),this._readOnly&&this._readOnly._trigger(t)),this.value},g.prototype.read=function(){return this._readOnly=this._readOnly||new p(this),this._readOnly},g);function g(t,e){void 0===e&&(e=!1),h.call(this),this.value=t,this.checkNewValue=e}o._MutableObservable=f;var m=o.util.funcClass(f);o.observable=function(t){return void 0===t&&(t=null),new m(t)},o.observableWithNewValueCheck=function(t){return void 0===t&&(t=null),new m(t,!0)},o.isObservable=function(t){return i.isFunction(t)&&e(t)}}(t.data||(t.data={}));t.data}(gcui=gcui||{}),function(u){!function(c){!function(t){var r=jQuery;function a(t){return"string"==typeof t||t instanceof String}function o(t){return t===u.expando||t===r.expando}function e(t,i){var n=this;r.each(t,function(t,e){if(!o(t))return i.call(n,t,e)})}function n(t){var e;return null!=(e=t&&r.isFunction(t.toString)&&t.toString!==Object.prototype.toString?t.toString():JSON.stringify(t))&&2<e.length&&'"'===e[0]&&'"'===e[e.length-1]&&(e=e.substr(1,e.length-2)),e}t.clone=function(t,e){return void 0===e&&(e=!1),r.isArray(t)?t=t.slice(0):r.isPlainObject(t)&&(t=r.extend(!!e,{},t)),t},t.isString=a,t.isNumeric=function(t){return"number"==typeof t},t.isInternalProperty=o,t.each=e,t.map=function(t,e){var i=r.map(t,e);return delete i[u.expando],i},t.toStr=n,t.format=function(t){for(var i=[],e=0;e<arguments.length-1;e++)i[e]=arguments[e+1];return t.replace(/{(\d+)}/g,function(t,e){return n(i[parseInt(e,10)])})},t.every=function(t,i){var n=!0;return e(t,function(t,e){if(n=e,i&&(n=i.call(n,n,t)),!n)return!1}),n},t.some=function(t,i){var n=!1;return e(t,function(t,e){if(n=e,i&&(n=i.call(n,n,t)),n)return!1}),n},t.compare=function t(e,i){var n,o,s;if(null==e)return null==i?0:-1;if(null==i)return 1;if(r.isArray(e)&&r.isArray(i)){for(o=Math.min(e.length,i.length),n=0;n<o;n++)if(0!==(s=t(e[n],i[n])))return s;return e.length-i.length}return a(e)&&a(i)?(e=e.toLowerCase())<(i=i.toLowerCase())?-1:i<e?1:0:(s=e-i,isNaN(s)?0:s)},t.contains=function(t,e){return 0<=r.inArray(e,t)},t.remove=function(t,e){var i,n=0;for(i=0;i<t.length;)t[i]!==e?i++:(t.splice(i,1),n++);return n},t.pageCount=function(t,e){return-1==t?-1:0==t?0:e?Math.ceil(t/e):1},t.executeDelayed=function(t,e){for(var i=[],n=0;n<arguments.length-2;n++)i[n]=arguments[n+2];function o(){return t.apply(e,i)}if("undefined"==typeof setTimeout)return o();setTimeout(o,10)},t.logError=function(t){"undefined"!=typeof console&&(console.error?console.error(t):console.log&&console.log(t))},t.getProperty=function(t,e){for(var i,n=0,o=t;;){var s=e.indexOf(".",n);if(0<=s?(i=e.substring(n,s),n=s+1):i=0<n?e.substring(n):e,o=o[i],c.isObservable(o)&&(o=o()),s<0)break}return o},t.setProperty=function(t,e,i){for(var n,o=0;;){var s=e.indexOf(".",o);0<=s?(n=e.substring(o,s),o=s+1):n=0<o?e.substring(o):e;var r=t[n];if(!(0<=s)){c.isObservable(r)?r(i):t[n]=i;break}c.isObservable(r)&&(r=r()),t=r}},t.isClassInstance=function(t){return"object"==typeof t&&!r.isArray(t)&&!r.isPlainObject(t)&&t.constructor!==Object.prototype.constructor},t.convertDateProperties=function(t){c.util.each(t,function(t,n){n&&"object"==typeof n&&c.util.each(n,function(t,e){var i;c.util.isString(e)&&(i=/\/Date\((-?\d+)\)\//.exec(e))&&(n[t]=new Date(parseInt(i[1],10)))})})};var l=function(t){this.key=t};t.HashMapEntry=l;var i=(s.prototype.getEntry=function(t,e){if(void 0===e&&(e=!1),null===t)return!this.nullEntry&&e&&(this.nullEntry=new l(t)),this.nullEntry;var i,n=String(t),o=this.hash[n];if(null==o){if(!e)return null;o=[],this.hash[n]=o}for(var s=0;s<o.length;s++)if(o[s].key===t)return o[s];return e&&(i=new l(t),o.push(i)),null},s.prototype.containsKey=function(t){return!!this.getEntry(t)},s.prototype.get=function(t,e){void 0===e&&(e=null);var i=this.getEntry(t);return i?i.value:e},s.prototype.put=function(t,e){this.getEntry(t,!0).value=e},s);function s(){this.hash={}}t.HashMap=i}(c.util||(c.util={}));c.util}(u.data||(u.data={}));u.data}(gcui=gcui||{}),function(o){var s;(s=o.data||(o.data={})).errors={},s.errors._register=function(t){s.util.each(t,function(t,n){function e(){for(var t,e=[],i=0;i<+arguments.length;i++)e[i]=arguments[i+0];return $.isFunction(n)?n=n.apply(this,arguments):0<arguments.length&&(e.unshift(n),n=s.util.format.apply(this,e)),"."!==(t=(n=$.trim(n))[n.length-1])&&"!"!==t&&"?"!==t&&(n+="."),new o.GCUIError(n)}s.errors[t]=function(){throw e.apply(this,arguments)},s.errors[t].create=e})},s.errors._register({indexOutOfBounds:"Index is outside the bounds of the array.",notImplemented:"The operation is not implemented",unsupprtedOperation:"Unsupported operation",unsupportedFilterOperator:"Unsupported filter operator: {0}",unsupportedDataSource:"Unsupported data source",argument:function(t){var e="Unexpected argument value.";return t&&(e+="\nParameter name: "+t),e},argumentNull:"Argument '{0}' is null/undefined",noParser:"There is no parser for type '{0}'",noUrl:"Url is not specified",cantConvert:"Value can't be converted to type '{0}': '{1}'",noGlobalize:"Globalize is not defined. Make sure you include globalize.js",itemNotInView:"Item {0} is not in the data view",unsupportedFilterFormat:"The filter format is not supported",multiPropertyKeysNotSupported:"Entities with multiple properties in the primary key are not supported. Entity type: {0}",keyPropertyNotFound:"Key property not found in {0} entity type"});o.data}(gcui=gcui||{}),function(t){!function(o){function s(t){if(!h.isPlainObject(t))return{operator:"==",op:l.ops.equals,value:t};var e=t.operator||l.ops.equals;if(o.util.isString(t.operator)){if("nofilter"===t.operator.toLowerCase())return null;e=function(t,e){void 0===e&&(e=!1),t=t.toLowerCase();var i=l.ops[t];if(!i){var n=l.opMap[t];n&&(i=l.ops[n])}return!i&&e&&o.errors.unsupportedOperator(t),i}(t.operator,!0)}else h.isFunction(e.apply)||o.errors.unsupportedOperator(e);return{operator:t.operator,op:e,value:t.value}}function r(t,e,i,n,o){return c[t.toLowerCase()]={name:t,displayName:e,arity:i,applicableTo:n,apply:o}}function a(t){return t instanceof Date&&(t=t.getTime()),o.util.isString(t)&&(t=t.toLowerCase()),t}function n(t,e,i,n){r(t,e,2,i,function(t,e){return n(a(t),a(e))})}function t(t,e,i,n){r(t,e,1,i,n)}function e(t,e,i){n(t,e,d,i)}function i(t,e,i){n(t,e,u,i)}var l,c,u,d,h;l=o.filtering||(o.filtering={}),h=jQuery,l.opMap={"==":"equals",doesnotcontain:"notcontain","!=":"notequal",">":"greater","<":"less",">=":"greaterorequal","<=":"lessorequal",isnotempty:"notisempty",isnotnull:"notisnull"},l.normalizeCondition=s,l.compile=function(t){var i={original:t,func:null,normalized:null};if(h.isFunction(t))i.func=t;else if(h.isArray(t))o.errors.unsupportedFilterFormat(t);else if(t){var n=!(i.normalized={});o.util.each(t,function(t,e){h.isArray(e)&&o.errors.unsupportedFilterFormat(),(e=s(e))&&(i.normalized[t]=e,n=!0)}),n?i.func=function(n){return o.util.every(i.normalized,function(t,e){var i=o.util.getProperty(n,e);return t.op.apply(i,t.value)})}:i.normalized=null}return i.normalized||i.func||(i.func=function(t){return!0}),i},l.ops=(c={},u=["string"],d=["string","number","datetime","currency","boolean"],e("Equals","Equals",function(t,e){return t==e}),e("NotEqual","Not equal",function(t,e){return t!=e}),e("Greater","Greater than",function(t,e){return e<t}),e("Less","Less than",function(t,e){return t<e}),e("GreaterOrEqual","Greater or equal",function(t,e){return e<=t}),e("LessOrEqual","Less or equal",function(t,e){return t<=e}),i("Contains","Contains",function(t,e){return t==e||t&&t.indexOf&&0<=t.indexOf(e)}),i("NotContain","Does not contain",function(t,e){return t!=e&&(!t||!t.indexOf||t.indexOf(e)<0)}),i("BeginsWith","Begins with",function(t,e){return t==e||t&&t.indexOf&&0==t.indexOf(e)}),i("EndsWith","Ends with",function(t,e){var i;return!(!o.util.isString(t)||!o.util.isString(e))&&0<=(i=t.lastIndexOf(e))&&t.length-i===e.length}),t("IsEmpty","Is empty",u,function(t){return!t&&0!==t&&!1!==t}),t("NotIsEmpty","Is not empty",u,function(t){return!!t||0===t||!1===t}),t("IsNull","Is null",d,function(t){return null==t}),t("NotIsNull","Is not null",d,function(t){return null!=t}),c);o.filtering}(t.data||(t.data={}));t.data}(gcui=gcui||{}),function(t){!function(a){(a.sorting||(a.sorting={})).compile=function(t,s){void 0===s&&(s=a.util.compare);var e,o,r=(e=t,o=[],e=a.util.isString(e)?e.split(/,\s*/):$.isArray(e)?e.slice(0):[e],e=$.isArray(e)?e.slice(0):[e],a.util.each(e,function(t,e){var i=!0;if(null!=e)if(a.util.isString(e)){if("-"===e[0])i=!1,e=e.substr(1);else{var n=/\s(asc|desc)\s*$/.exec(e);n&&(e=e.substr(0,n.index),i=!("desc"===n[1]))}o.push({property:e,asc:i})}else null!=e.property&&o.push(e)}),o),i={original:t,propertyCompareTo:s,compare:null,normalized:r};return null!=r&&(i.compare=function(t,e){var i,n,o=0;for(o=0;o<r.length;o++)if(n=r[o],0!==(i=s(a.util.getProperty(t,n.property),a.util.getProperty(e,n.property))))return n.asc||(i=-i),i;return 0}),i};a.sorting}(t.data||(t.data={}));t.data}(gcui=gcui||{}),function(t){function e(t){return o.isFunction(t)||n.errors.argument("factory"),s.push(t),{dispose:function(){n.util.remove(s,t)}}}function i(t){return t&&o.isFunction(t.count)&&o.isFunction(t.item)&&o.isFunction(t.getProperty)}var n,o,s;n=t.data||(t.data={}),o=jQuery,s=[],(n.registerDataViewFactory=e)(function(t){return i(t)&&t}),e(function(t){return o.isArray(t)&&new n.ArrayDataView(t)}),n.asDataView=function(e){return i(e)?e:n.util.some(s,function(t){return t(e)})||n.errors.unsupportedDataSource()},n.isDataView=i;t.data}(gcui=gcui||{}),function(t){function e(t){this.array=t,this.currentItem=n.observableWithNewValueCheck(null),this.currentPosition=n.observableWithNewValueCheck(-1);var e=!1;function i(t){return function(){if(!e){e=!0;try{t.apply(this,arguments)}finally{e=!1}}}}this.currentItem.subscribe(i(function(t){this.currentPosition(null==t?-1:o.inArray(t,this.array))}),this),this.currentPosition.subscribe(i(function(t){n.util.isNumeric(t)||n.errors.argument("value"),(t<-1||t>=this.array.length)&&n.errors.indexOutOfBounds(),this.currentItem(t<0?null:this.array[t])}),this)}var n,o,i;n=t.data||(t.data={}),o=jQuery,e.prototype.update=function(){var t=this.currentItem(),e=this.currentPosition(),i=o.inArray(t,this.array);i<0&&null==t&&null!=this._recentlyRemovedItem&&(i=o.inArray(this._recentlyRemovedItem,this.array)),0<=i?(t&&(this._recentlyRemovedItem=t),this.currentPosition(i)):0<=e&&e<this.array.length?this.currentItem(this.array[e]):e==this.array.length&&0<this.array.length?(e=this.array.length-1,this.currentPosition(e),this.currentItem(this.array[e])):(this.currentPosition(-1),this.currentItem(null))},e.prototype.updateDelayed=function(){n.util.executeDelayed(this.update,this)},i=e,n.CurrencyManager=i;t.data}(gcui=gcui||{}),function(t){!function(s){var o=jQuery,e=(t.prototype.onFilterChanged=function(t){this._compiledFilter=s.filtering.compile(t)},t.prototype.setFilter=function(t){this.filter(t)},t.prototype.update=function(t){"filter"in t&&this.setFilter(t.filter),"sort"in t&&this.sort(t.sort),"pageSize"in t&&this.pageSize(t.pageSize),"pageIndex"in t&&this.pageIndex(t.pageIndex)},t.prototype.apply=function(t,e){void 0===e&&(e=!0);var i=this,n=[];s.util.each(t,function(t,e){i._compiledFilter&&!i._compiledFilter.func(e)||n.push(e)}),this._compiledSort&&n.sort(this._compiledSort.compare);var o=n.length;return e&&0<this._take&&(0<this._skip&&n.splice(0,Math.min(this._skip,n.length)),this._take<n.length&&(n.length=this._take)),{results:n,totalCount:o}},t.prototype.toObj=function(){return{filter:this._compiledFilter&&this._compiledFilter.normalized,sort:this._compiledSort&&this._compiledSort.normalized,pageSize:this.pageSize(),pageIndex:this.pageIndex()}},t);function t(e){function t(){0<this.pageSize()&&0<=this.pageIndex()?(this._skip=this.pageSize()*this.pageIndex(),this._take=this.pageSize()):(this._skip=0,this._take=-1),e(!0)}this.onChanged=e,this.filter=s.observable(),this.sort=s.observable(),this.pageIndex=s.observable(0),this.pageSize=s.observable(0),this._skip=0,this._take=-1,this.filter.subscribe(function(t){this.onFilterChanged(t),e()},this),this.sort.subscribe(function(){this._compiledSort=s.sorting.compile(this.sort()),e()},this),this.pageIndex.subscribe(t,this),this.pageSize.subscribe(t,this)}s.Shape=e;var i=(n.prototype.dispose=function(){},n.prototype.count=function(){return this.local.length},n.prototype.item=function(t){return(t<0||t>=this.local.length)&&s.errors.indexOutOfBounds(),this.local[t]},n.prototype.indexOf=function(t){return o.inArray(t,this.local)},n.prototype.getSource=function(){return this.sourceArray},n.prototype.toObservableArray=function(){return this._koArray||(this._koArray=ko.observableArray(this.local)),this._koArray},n._getProps=function(t){var i=[];return s.util.each(t,function(t,e){(t=String(t)).match(/^_/)||o.isFunction(e)&&!e.subscribe||i.push({name:t})}),i},n.prototype.getProperties=function(){return this.count()?n._getProps(this.item(0)):[]},n.prototype._readProperty=function(t,e){return s.util.getProperty(t,e)},n.prototype.getProperty=function(t,e){var i=this._getItem(t);return this._readProperty(i,e)},n.prototype._writeProperty=function(t,e,i){s.util.setProperty(t,e,i)},n.prototype.setProperty=function(t,e,i){var n=this._getItem(t);return n!==this.currentEditItem()||!this._currentEditItemSnapshot||e in this._currentEditItemSnapshot||(this._currentEditItemSnapshot[e]=this.getProperty(t,e)),this._writeProperty(n,e,i),this},n.prototype.subscribe=function(t,e){return this._changed.subscribe(t,e)},n.prototype.trigger=function(){this._currencyManager.update(),this._changed.trigger(this.local),this._koArray&&this._koArray.notifySubscribers(this.local)},n.prototype.canFilter=function(){return!0},n.prototype.canSort=function(){return!0},n.prototype._updateShape=function(t){this._updatingShape=!0;try{this._shape.update(t)}finally{this._updatingShape=!1}},n.prototype.prevPage=function(){return!(this.pageIndex()<1||(this.pageIndex(this.pageIndex()-1),0))},n.prototype.nextPage=function(){return!(0<this.pageCount()&&this.pageIndex()+1>=this.pageCount()||(this.pageIndex(this.pageIndex()+1),0))},n.prototype._createShape=function(t){return new e(t)},n.prototype._initShape=function(t){var e=this;this._shape=this._createShape(function(t){void 0===t&&(t=!1),e._updatingShape||e.refresh(null,t&&e.localPaging)}),t&&this._updateShape(t),this.filter=this._shape.filter,this.sort=this._shape.sort,this.pageIndex=this._shape.pageIndex,this.pageSize=this._shape.pageSize,this.pageCount=this._pageCount.read(),this.totalItemCount=this._totalItemCount.read()},n.prototype._localRefresh=function(t){void 0===t&&(t=this.localPaging);var i=this,e=this._shape.apply(this.sourceArray,t);return this.local.length=0,o.each(e.results,function(t,e){return i.local.push(e)}),t&&this._totalItemCount(e.totalCount),this._pageCount(s.util.pageCount(this.totalItemCount(),this.pageSize())),this.trigger(),o.Deferred().resolve().promise()},n.prototype._remoteRefresh=function(){return this._localRefresh()},n.prototype.refresh=function(t,e){void 0===e&&(e=!1);var i=this;return this.cancelRefresh(),t&&this._updateShape(t),this._isLoading(!0),(e?this._localRefresh():this._remoteRefresh()).then(function(){i._isLoaded(!0),i._isLoading(!1)})},n.prototype.cancelRefresh=function(){},n.prototype._initCurrency=function(){this._currencyManager=new s.CurrencyManager(this.local),this.currentItem=this._currencyManager.currentItem,this.currentPosition=this._currencyManager.currentPosition},n.prototype.isCurrentEditItemNew=function(){return this._isCurrentEditItemNew},n.prototype._beginEdit=function(t,e){this.commitEdit(),this._currentEditItemSnapshot={},this._isCurrentEditItemNew=e,this._currentEditItem(t)},n.prototype.canAdd=function(){return!0},n.prototype.add=function(t){t||s.errors.argument("item"),this.commitEdit(),this.local.push(t),this._beginEdit(t,!0),this.trigger()},n.prototype.canAddNew=function(){return!1},n.prototype.addNew=function(){return s.errors.unsupportedOperation()},n.prototype.editItem=function(t){void 0===t&&(t=this.currentItem()),this.commitEdit(),(t=this._getItem(t))&&this._beginEdit(t,!1)},n.prototype.canRemove=function(){return!0},n.prototype._remove=function(t){this.local.splice(t.index,1),s.util.remove(this.sourceArray,t.item),this.trigger()},n.prototype.remove=function(t){void 0===t&&(t=this.currentItem()),this.commitEdit();var e=this._resolve(t);return!!e&&(this._remove(e),!0)},n.prototype.canCancelEdit=function(){return!0},n.prototype.cancelEdit=function(){var i=this;if(this.currentEditItem()){var n=this.currentEditItem();this._currentEditItem(null),this._isCurrentEditItemNew?s.util.remove(this.local,this.item):this._currentEditItemSnapshot&&o.each(this._currentEditItemSnapshot,function(t,e){return i._writeProperty(n,t,e)}),this.trigger()}},n.prototype.canCommitEdit=function(){return!0},n.prototype.commitEdit=function(){if(this.currentEditItem()){var t=this.currentEditItem;this._currentEditItem(null),this._isCurrentEditItemNew&&this.sourceArray.push(t);var e=this._shape._compiledFilter&&this._shape._compiledFilter.func;e&&!e(t)&&s.util.remove(this.local,t),this.trigger()}},n.prototype._getItem=function(t){return s.util.isNumeric(t)?this.item(t):t},n.prototype._resolve=function(t,e){var i;return void 0===e&&(e=!1),s.util.isNumeric(t)?{index:t,item:this.item(t)}:(i=this.indexOf(t))<0?(e&&s.errors.itemNotInView(t),null):{index:i,item:t}},n);function n(t){this.isRemote=!1,this.localPaging=!0,this.local=[],this._updatingShape=!1,this._pageCount=s.observable(1),this._totalItemCount=s.observable(0),this._isLoaded=s.observable(!1),this._isLoading=s.observable(!1),this._currentEditItem=s.observable(),this._isCurrentEditItemNew=!1,this._currentEditItemSnapshot=null,this.isLoading=this._isLoading.read(),this.isLoaded=this._isLoaded.read(),this._changed=new s.Subscribable(this),this.currentEditItem=this._currentEditItem.read(),this._initCurrency(),this._initShape(t)}s.ArrayDataViewBase=i;var r,a=(__extends(l,r=i),l);function l(t,e){r.call(this,e),this.sourceArray=t,this.refresh()}s.ArrayDataView=a}(t.data||(t.data={}))}(gcui=gcui||{}),function(t){function e(t){n.call(this),this.isRemote=!0,this.sourceArray=[],t&&this._construct(t)}var i,n,o,s;i=t.data||(t.data={}),o=jQuery,n=i.ArrayDataViewBase,__extends(e,n),e.prototype._construct=function(t){this.options=t=o.extend({localPaging:!1},t),this.localPaging=t.localPaging,this._updateShape(t)},s=e,i.RemoteDataView=s}(gcui=gcui||{}),function(t){function e(t){this._originalReader=t}function i(t){var i=this;r.call(this),this.dataSource=t,this.isRemote=!0,this.localPaging=!0,this._origLoaded=t.loaded,this._origReader=t.reader,t.loaded=function(t,e){i._loaded(),o.isFunction(i._origLoaded)&&i._origLoaded.apply(i,arguments)},t.reader=new s(t.reader);var e=t.items&&0<t.items.length;o.isArray(t.data)&&!e&&t.read(),t.items&&this._loaded()}var n,o,s,r,a;n=t.data||(t.data={}),o=jQuery,e.prototype.read=function(t){if(t.items=null,this._originalReader&&o.isFunction(this._originalReader.read)&&this._originalReader.read(t),o.isArray(t.items)||(o.isArray(t.data)?t.items=t.data:t.data&&o.isArray(t.data.rows)?t.items=t.data.rows:t.items=[]),t.dynamic&&(!t.data||isNaN(t.data.totalRows)))throw"totalRows value is missing"},s=e,r=n.ArrayDataViewBase,__extends(i,r),i.prototype.dispose=function(){this.dataSource.loaded=this._origLoaded,this.dataSource.reader=this._origReader,r.prototype.dispose.call(this)},i.prototype.getProperties=function(){return this.sourceArray&&this.sourceArray.length?n.ArrayDataViewBase._getProps(this.sourceArray[0]):[]},i.prototype._loaded=function(){this.sourceArray=this.dataSource.items,this.dataSource.data&&n.util.isNumeric(this.dataSource.data.totalRows)&&this._totalItemCount(this.dataSource.data.totalRows);var t=r.prototype._localRefresh.call(this,!this.dataSource.dynamic);this._currentDeferred&&t.then(this._currentDeferred.resolve)},i.prototype._remoteRefresh=function(){this._currentDeferred&&"pending"===this._currentDeferred.state()&&this._currentDeferred.fail(),this._currentDeferred=o.Deferred();var t={},e=!1;return this.dataSource.dynamic&&(e=!0,t.data=this._prepareRequest(),this.dataSource.proxy&&(this._origDataOption||(this._origDataOption=o.extend({},this.dataSource.proxy.options.data)),this.dataSource.proxy.options.data=o.extend({},this._origDataOption,t.data))),this.dataSource.load(t,e),this._currentDeferred},i.prototype._prepareRequest=function(){return{filtering:this._prepareFilterRequest(),paging:this._preparePageRequest(),sorting:this._prepareSortRequest()}},i.prototype._prepareFilterRequest=function(){var i=[];return this._shape._compiledFilter&&this._shape._compiledFilter.normalized&&o.each(this._shape._compiledFilter.normalized,function(t,e){i.push({dataKey:t,filterOperator:e.op.Name,filterValue:e.value})}),i},i.prototype._preparePageRequest=function(){return{pageIndex:this._shape.pageIndex(),pageSize:this._shape.pageSize()}},i.prototype._prepareSortRequest=function(){return this._shape._compiledSort&&this._shape._compiledSort.normalized&&0!=this._shape._compiledSort.normalized.length?o.map(this._shape._compiledSort.normalized,function(t){return{dataKey:t.property,sortDirection:t.asc?"ascending":"descending"}}):[]},a=i,n.registerDataViewFactory(function(t){if("function"==typeof gcuidatasource&&t instanceof gcuidatasource)return new a(t)})}(gcui=gcui||{}),function(s){!function(t){"use strict";var e,l=jQuery,i=(e=s.gcuiWidget,__extends(n,e),n.prototype._create=function(){window.applyTouchUtilEvents&&(l=window.applyTouchUtilEvents(l)),this.element.addClass(this.options.uiCSS.widget+" gcui-pager "+this.options.uiCSS.helperClearFix),this.options.disabled&&this.disable(),this._refresh()},n.prototype._destroy=function(){this.element.removeClass(this.options.uiCSS.widget+" gcui-pager "+this.options.uiCSS.helperClearFix),this.$ul.remove()},n.prototype._setOption=function(t,e){this._super(t,e),this._refresh()},n.prototype._refresh=function(){switch(this._validate(),this.$ul&&this.$ul.remove(),this.element.append(this.$ul=l('<ul class="ui-list '+this.options.uiCSS.cornerAll+" "+this.options.uiCSS.content+" "+this.options.uiCSS.helperClearFix+'" role="tablist"></ul>')),(this.options.mode||"").toLowerCase()){case"nextprevious":this._createNextPrev(!1);break;case"nextpreviousfirstlast":this._createNextPrev(!0);break;case"numeric":this._createNumeric(!1);break;case"numericfirstlast":this._createNumeric(!0)}},n.prototype._validate=function(){var t=this.options;(isNaN(t.pageCount)||t.pageCount<1)&&(t.pageCount=1),isNaN(t.pageIndex)||t.pageIndex<0?t.pageIndex=0:t.pageIndex>=t.pageCount&&(t.pageIndex=t.pageCount-1),(isNaN(t.pageButtonCount)||t.pageButtonCount<1)&&(t.pageButtonCount=1)},n.prototype._createNextPrev=function(t){var e=this.options;t&&e.pageIndex&&this.$ul.append(this._createPagerItem(!1,e.firstPageText,1,e.firstPageClass)),e.pageIndex&&this.$ul.append(this._createPagerItem(!1,e.previousPageText,e.pageIndex,e.previousPageClass)),e.pageIndex+1<e.pageCount&&this.$ul.append(this._createPagerItem(!1,e.nextPageText,e.pageIndex+2,e.nextPageClass)),t&&e.pageIndex+1<e.pageCount&&this.$ul.append(this._createPagerItem(!1,e.lastPageText,e.pageCount,e.lastPageClass))},n.prototype._createNumeric=function(t){var e,i=this.options,n=i.pageIndex+1,o=1,s=Math.min(i.pageCount,i.pageButtonCount);for(s<n&&(s=(o=Math.floor(i.pageIndex/i.pageButtonCount)*i.pageButtonCount+1)+i.pageButtonCount-1,(s=Math.min(s,i.pageCount))-o+1<i.pageButtonCount&&(o=Math.max(1,s-i.pageButtonCount+1))),1!==o&&(t&&this.$ul.append(this._createPagerItem(!1,i.firstPageText,1,i.firstPageClass)),this.$ul.append(this._createPagerItem(!1,"...",o-1,""))),e=o;e<=s;e++)this.$ul.append(this._createPagerItem(e===n,e.toString(),e,""));i.pageCount>s&&(this.$ul.append(this._createPagerItem(!1,"...",s+1,"")),t&&this.$ul.append(this._createPagerItem(!1,i.lastPageText,i.pageCount,i.lastPageClass)))},n.prototype._createPagerItem=function(t,e,i,n){var o,s=this.options.uiCSS,r=this,a=l("<li />").addClass("gcui-pager-button "+s.cornerAll).attr({role:"tab","aria-label":e,title:e});return t?a.addClass(s.stateActive).attr("aria-selected","true"):a.addClass(s.stateDefault).hover(function(){r.options.disabled||l(this).addClass(s.stateHover)},function(){r.options.disabled||l(this).removeClass(s.stateHover)}).bind("click."+this.widgetName,{newPageIndex:i-1},l.proxy(this._onClick,this)),(o=t?l("<span />"):n?l("<span />").addClass(s.icon+" "+n):l("<a/>").attr("href","#")).text(e),a.append(o),a},n.prototype._onClick=function(t){if(this.options.disabled)return!1;var e={newPageIndex:t.data.newPageIndex,handled:!1};if(!1!==this._trigger("pageIndexChanging",null,e)&&this.options.pageIndex!==e.newPageIndex){this.options.pageIndex=e.newPageIndex,e.handled||this._refresh();var i={newPageIndex:e.newPageIndex};this._trigger("pageIndexChanged",null,i)}return!1},n);function n(){e.apply(this,arguments)}(t.gcuipager=i).prototype.widgetEventPrefix="gcuipager";var o=function(){this.mobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-b",stateActive:"ui-btn-down-c"},this.firstPageClass=l.gcui.widget.prototype.options.uiCSS.iconSeekFirst,this.firstPageText="First",this.lastPageClass=l.gcui.widget.prototype.options.uiCSS.iconSeekEnd,this.lastPageText="Last",this.mode="numeric",this.nextPageClass=l.gcui.widget.prototype.options.uiCSS.iconSeekNext,this.nextPageText="Next",this.pageButtonCount=10,this.previousPageClass=l.gcui.widget.prototype.options.uiCSS.iconSeekPrev,this.previousPageText="Previous",this.pageCount=1,this.pageIndex=0,this.pageIndexChanging=null,this.pageIndexChanged=null};i.prototype.options=l.extend(!0,{},s.gcuiWidget.prototype.options,new o),l.gcui.registerWidget("gcuipager",i.prototype)}(s.pager||(s.pager={}))}(gcui=gcui||{}),function(h){!function(t){"use strict";var n,p=jQuery,o=0,s=0,e=p.effects?p.effects:p,c=e.save,i=e.restore,u=e.createWrapper,d=e.removeWrapper,r=(n=h.gcuiWidget,__extends(a,n),a.prototype._setOption=function(t,e){switch(n.prototype._setOption.call(this,t,e),t){case"selected":if(this.options.collapsible&&e===this.options.selected)return;this.select(e);break;case"alignment":this._innerDestroy(!0),this._tabify(!0);break;default:this._tabify(!1)}},a.prototype._create=function(){var i=this,t=this.options;this.element.is(":hidden")&&this.element.addVisibilityObserver&&this.element.addVisibilityObserver(function(){i.element.removeVisibilityObserver&&i.element.removeVisibilityObserver();var t=i.element.data("gcuitabs"),e=i.element.data("gcuiUITabs");i._innerDestroy(!0),i.element.data("gcuitabs",t),i.element.data("gcuiUITabs",e),i._tabify(!0)},"gcuitabs"),this._tabify(!0),(t.disabledstate||t.disabled)&&this.disable(),n.prototype._create.call(this)},a.prototype.destroy=function(){this._innerDestroy(),n.prototype.destroy.call(this)},a.prototype._tabify=function(t){this.list=this.element.children("ol,ul").eq(0),this.lis=p("li:has(a)",this.list),this.anchors=this.lis.map(function(){return p("a",this)[0]}),this.panels=p([]);var n,e,i,o,s,r,a,l,c,u=this,d=u.options,h=/^#.+/;if(p.each(u.anchors,function(t,e){var i,n,o,s=p(e).attr("href")||"",r=s.split("#")[0];r&&(r===location.toString().split("#")[0]||(i=p("base")[0])&&r===i.href)&&(s=e.hash,e.href=s),h.test(s)?u.panels=u.panels.add(u._sanitizeSelector(s),u.element):"#"!==s?(p.data(e,"href.tabs",s),p.data(e,"load.tabs",s.replace(/#.*$/,"")),n=u._tabId(e),e.href="#"+n,(o=p("#"+n)).length||(o=p(d.panelTemplate||u._defaults.panelTemplate).attr("id",n).addClass(d.uiCSS.tabsPanel).addClass(d.uiCSS.content).addClass(d.uiCSS.cornerBottom).insertAfter(u.panels[t-1]||u.list)).data("destroy.tabs",!0),u.panels=u.panels.add(o)):d.disabledIndexes.push(t)}),n=this._getAlignment(!0),e=this._getAlignment(!1),t){switch(this.list.attr("role","tablist"),this.lis.attr("role","tab"),this.panels.attr("role","tabpanel"),this.element.addClass(d.uiCSS.tabs).addClass(d.uiCSS.gcuitabs).addClass(d.uiCSS.widget).addClass(d.uiCSS.content).addClass(d.uiCSS.cornerAll).addClass(d.uiCSS.helperClearFix).addClass(d.uiCSS.tabsPanel).addClass(d.uiCSS.tabsPanel).addClass(d.uiCSS["tabs"+n]),this.list.addClass(d.uiCSS.tabsNav).addClass(d.uiCSS.helperReset).addClass(d.uiCSS.helperClearFix).addClass(d.uiCSS.header).addClass(d.uiCSS.cornerAll),this.lis.addClass(d.uiCSS.stateDefault).addClass(d.uiCSS["corner"+n]),this.panels.addClass(d.uiCSS.tabsPanel).addClass(d.uiCSS.content).addClass(d.uiCSS["corner"+e]),n){case"Bottom":this.list.appendTo(this.element);break;case"Left":i=p("<div/>").addClass(d.uiCSS.tabsContent).appendTo(this.element),this.panels.appendTo(i);break;case"Right":i=p("<div/>").addClass(d.uiCSS.tabsContent).insertBefore(this.list),this.panels.appendTo(i);break;case"Top":this.list.prependTo(this.element)}d.sortable&&this.list.sortable&&this.list.sortable({axis:"Top"===n||"Bottom"===n?"x":"y"}),void 0===d.selected?(location.hash&&p.each(this.anchors,function(t,e){if(e.hash===location.hash)return d.selected=t,!1}),"number"!=typeof d.selected&&d.cookie&&(d.selected=parseInt(u._cookie(void 0,void 0),10)),"number"!=typeof d.selected&&this.lis.filter("."+d.uiCSS.tabsActive).length&&(d.selected=this.lis.index(this.lis.filter("."+d.uiCSS.tabsActive))),d.selected=d.selected||(this.lis.length?0:-1)):null===d.selected&&(d.selected=-1),d.selected=0<=d.selected&&this.anchors[d.selected]||d.selected<0?d.selected:0,d.disabledIndexes=p.unique(d.disabledIndexes.concat(p.map(this.lis.filter("."+d.uiCSS.stateDisabled),function(t,e){return u.lis.index(t)}))).sort(),-1!==p.inArray(d.selected,d.disabledIndexes)&&d.disabledIndexes.splice(p.inArray(d.selected,d.disabledIndexes),1),this.panels.addClass(d.uiCSS.tabsHide).attr("aria-hidden",!0),this.lis.removeClass(d.uiCSS.tabsActive).removeClass(d.uiCSS.stateActive).attr("aria-selected",!1),0<=d.selected&&this.anchors.length&&(this.panels.eq(d.selected).removeClass(d.uiCSS.tabsHide).attr("aria-hidden",!1),this.lis.eq(d.selected).addClass(d.uiCSS.tabsActive).addClass(d.uiCSS.stateActive).attr("aria-selected",!0),u.element.queue("tabs",function(){u.element.triggerVisibility&&p(u.panels[d.selected]).triggerVisibility(),u._trigger("show",null,u._ui(u.anchors[d.selected],u.panels[d.selected]))}),this.load(d.selected)),p(window).bind("unload",function(){u.lis&&u.lis.add(u.anchors).unbind(".tabs"),u.lis=u.anchors=u.panels=null})}else d.selected=this.lis.index(this.lis.filter("."+d.uiCSS.tabsActive));for(this.element[d.collapsible?"addClass":"removeClass"](d.uiCSS.tabsCollapsible),d.cookie&&this._cookie(d.selected,d.cookie),o=0;o<this.lis.length;o++)s=this.lis[o],p(s)[-1===p.inArray(o,d.disabledIndexes)||p(s).hasClass(d.uiCSS.tabsActive)?"removeClass":"addClass"](d.uiCSS.stateDisabled),p(s).hasClass(d.uiCSS.stateDisabled)&&p(s).attr("aria-disabled",!0);!1===d.cache&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),d.disabledState||d.disabled||"mouseover"===d.event||(r=function(t,e){e.is(":not(."+d.uiCSS.stateDisabled+")")&&e.addClass(t)},a=function(t,e){e.removeClass(t)},this.lis.bind("mouseover.tabs",function(){r(d.uiCSS.stateHover,p(this))}),this.lis.bind("mouseout.tabs",function(){a(d.uiCSS.stateHover,p(this))}),this.anchors.bind("focus.tabs",function(){u.lis.filter("."+d.uiCSS.stateFocus).removeClass(d.uiCSS.stateFocus),r(d.uiCSS.stateFocus,p(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){a(d.uiCSS.stateFocus,p(this).closest("li"))})),void 0!==d.showOption&&null!==d.showOption||(d.showOption={}),this._normalizeBlindOption(d.showOption),void 0!==d.hideOption&&null!==d.hideOption||(d.hideOption={}),this._normalizeBlindOption(d.hideOption),l=(d.showOption.blind||d.showOption.fade)&&0<d.showOption.duration?function(t,e){if(p(t).closest("li").addClass(d.uiCSS.tabsActive).addClass(d.uiCSS.stateActive).attr("aria-selected",!0),u._showContent(),e.removeClass(d.uiCSS.tabsHide).attr("aria-hidden",!1),"Top"===n||"Bottom"===n){var i={duration:d.showOption.duration,height:"toggle",opacity:"toggle"};d.showOption.blind||delete i.height,d.showOption.fade||delete i.opacity,e.hide().removeClass(d.uiCSS.tabsHide).attr("aria-hidden",!1).animate(i,d.showOption.duration||"normal",function(){u._resetStyle(e),e.triggerVisibility&&e.triggerVisibility(),u._trigger("show",null,u._ui(t,e[0]))})}else u._showContent(),u._blindPanel(e,"show")}:function(t,e){p(t).closest("li").addClass(d.uiCSS.tabsActive).addClass(d.uiCSS.stateActive).attr("aria-selected",!0),u._showContent(),e.removeClass(d.uiCSS.tabsHide).attr("aria-hidden",!1),e.triggerVisibility&&e.triggerVisibility(),u._trigger("show",null,u._ui(t,e[0]))},c=(d.hideOption.blind||d.hideOption.fade)&&0<d.hideOption.duration?function(t,e){if("Top"===n||"Bottom"===n){var i={duration:d.hideOption.duration,height:"toggle",opacity:"toggle"};d.hideOption.blind||delete i.height,d.hideOption.fade||delete i.opacity,e.animate(i,d.hideOption.duration||"normal",function(){u.lis.removeClass(d.uiCSS.tabsActive).removeClass(d.uiCSS.stateActive).attr("aria-selected",!1),e.addClass(d.uiCSS.tabsHide).attr("aria-hidden",!0),u._resetStyle(e),u.element.dequeue("tabs")})}else u._saveLayout(),u._blindPanel(e,"hide")}:function(t,e,i){u.lis.removeClass(d.uiCSS.tabsActive).removeClass(d.uiCSS.stateActive).attr("aria-selected",!1),u._hideContent(),e.addClass(d.uiCSS.tabsHide).attr("aria-hidden",!0),u.element.dequeue("tabs")},d.disabledState||d.disabled||this.anchors.bind(d.event+".tabs",function(){var t=this,e=p(this).closest("li"),i=u.panels.filter(":not(."+d.uiCSS.tabsHide+")"),n=p(u._sanitizeSelector(this.hash),u.element);if(e.hasClass(d.uiCSS.tabsActive)&&!d.collapsible||e.hasClass(d.uiCSS.stateDisabled)||e.hasClass(d.uiCSS.tabsLoading)||!1===u._trigger("select",null,u._ui(this,n[0])))return this.blur(),!1;if(d.selected=u.anchors.index(this),u.abort(),d.collapsible){if(e.hasClass(d.uiCSS.tabsActive))return d.selected=-1,d.cookie&&u._cookie(d.selected,d.cookie),u.element.queue("tabs",function(){c(t,i)}).dequeue("tabs"),this.blur(),!1;if(!i.length)return d.cookie&&u._cookie(d.selected,d.cookie),u.element.queue("tabs",function(){l(t,n)}),u.load(u.anchors.index(this)),this.blur(),!1}if(d.cookie&&u._cookie(d.selected,d.cookie),!n.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";i.length&&u.element.queue("tabs",function(){c(t,i)}),u.element.queue("tabs",function(){l(t,n)}),u.load(u.anchors.index(this)),GC.Spread.Sheets.util.browser.msie&&this.blur()}),this._initScroller(),this.anchors.bind("click.tabs",function(){return!1})},a.prototype._blindPanel=function(t,e){var i,n,o,s=this,r=s.options,a=t.parent("."+r.uiCSS.tabsContent),l="show"===e?r.showOption:r.hideOption;a.length&&(s.list.width(s.list.width()),c&&c(t,["position","top","left","width"]),t.show(),"show"===e?(t.removeClass(r.uiCSS.tabsHide).attr("aria-hidden",!1),t.width(s.element.data("panel.width"))):t.width(t.width()),i=u?u(t).css({overflow:"hidden"}):p("<div></div>"),"show"===e&&i.css(p.extend({width:0},l.fade?{opacity:0}:{})),n=p.extend({width:"show"===e?s.element.data("panel.outerWidth"):0},l.fade?{opacity:"show"===e?1:0}:{}),o=s.list.outerWidth(!0),i.animate(n,{duration:l.duration,step:function(){var t=i.outerWidth(!0);s.element.width(o+t),a.width(Math.max(0,s.element.innerWidth()-o-6))},complete:function(){"hide"===e?(s.lis.removeClass(r.uiCSS.tabsActive).removeClass(r.uiCSS.stateActive).attr("aria-selected",!1),t.addClass(r.uiCSS.tabsHide).attr("aria-hidden",!0)):t.css("width",""),d&&d(t),"show"===e&&s._restoreLayout(),s._resetStyle(t),t.dequeue(),s.element.dequeue("tabs")}}))},a.prototype._hideContent=function(){var t=this.options.uiCSS,e=this.element.find("."+t.tabsContent);e.length&&(this._saveLayout(),e.addClass(t.tabsHide).attr("aria-hidden",!0),this.element.width(this.list.outerWidth(!0)))},a.prototype._showContent=function(){var t=this.options.uiCSS,e=this.element.find("."+t.tabsContent);e.length&&(this._restoreLayout(),e.removeClass(t.tabsHide).attr("aria-hidden",!1))},a.prototype._saveLayout=function(){var t=this.options.uiCSS,e=["width","height","overflow"],i=this.panels.filter(":not(."+t.tabsHide+")");c&&(c(this.element,e),c(this.list,e),c(this.element.find("."+t.tabsContent),e)),this.list.width(this.list.width()),this.element.data("panel.width",i.width()),this.element.data("panel.outerWidth",i.outerWidth(!0))},a.prototype._restoreLayout=function(){var t=this.options.uiCSS,e=["width","height","overflow"];i&&(i(this.element,e),i(this.list,e),i(this.element.find("."+t.tabsContent),e))},a.prototype._resetStyle=function(t){t.css({display:""}),p.support.opacity||t[0].style.removeAttribute("filter")},a.prototype._normalizeBlindOption=function(e){if(void 0===e.blind&&(e.blind=!1),void 0===e.fade&&(e.fade=!1),void 0===e.duration&&(e.duration=200),"string"==typeof e.duration)try{e.duration=parseInt(e.duration,10)}catch(t){e.duration=200}},a.prototype._initScroller=function(){var s=this,t=-1!==p.inArray(this._getAlignment(!0),["Top","Bottom"]),r=0;t&&(p.each(this.lis,function(t,e){var i=p(e),n=0,o=0;GC.Spread.Sheets.util.browser.msie&&s.options.scrollable&&(p.each(i.children(),function(t,e){var i=p(e);i.is("a")&&i.width(i.width()),n+=i.outerWidth(!0)}),o=n-i.width(),i.width(n)),r+=s._getLiWidth(p(e))+o}),this.options.scrollable&&this.element.innerWidth()<r?(void 0===this.scrollWrap&&(this.list.wrap("<div class='scrollWrap'></div>"),this.scrollWrap=this.list.parent(),c&&c(this.list,["width","height","overflow"])),this.list.width(Math.ceil(r)+2),this.scrollWrap.height(this.list.outerHeight(!0)),this.scrollWrap.superpanel({allowResize:!1,hScroller:{scrollMode:"edge"},vScroller:{scrollBarVisibility:"hidden"}})):this._removeScroller())},a.prototype._ui=function(t,e){return{tab:t,panel:e,index:this.anchors.index(t)}},a.prototype._tabId=function(t){var e,i,n=p(t);return n.data&&n.data("tabid")?n.data("tabid"):(e=t.href&&t.href.length&&(i=this._getURLParameters(t.href)).tabId?i.tabId:t.title&&t.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+ ++o,n.data("tabid",e),e)},a.prototype._getURLParameters=function(t){var e,n={};return-1<t.indexOf("?")&&(e=t.split("?")[1].split("&"),p.each(e,function(t,e){var i=e.split("=");1<i.length&&(n[i[0]]=i[1])})),n},a.prototype._getAlignment=function(t){var e=this.options.alignment||"top";if(t)return e.charAt(0).toUpperCase()+e.substr(1);switch(e){case"top":e="Bottom";break;case"bottom":e="Top";break;case"left":e="Right";break;case"right":e="Left"}return e},a.prototype._sanitizeSelector=function(t){return t.replace(/:/g,"\\:")},a.prototype._innerDestroy=function(n){var o=this.options,t=p("."+o.uiCSS.tabsContent);return this.abort(),this._removeScroller(),this.element.unbind(".tabs").removeClass(o.uiCSS.gcuitabs).removeClass(o.uiCSS.tabsTop).removeClass(o.uiCSS.tabsBottom).removeClass(o.uiCSS.tabsLeft).removeClass(o.uiCSS.tabsRight).removeClass(o.uiCSS.tabs).removeClass(o.uiCSS.widget).removeClass(o.uiCSS.content).removeClass(o.uiCSS.cornerAll).removeClass(o.uiCSS.tabsCollapsible).removeClass(o.uiCSS.helperClearFix).removeData("tabs").removeAttr("role"),this.list.removeClass(o.uiCSS.tabsNav).removeClass(o.uiCSS.helperReset).removeClass(o.uiCSS.helperClearFix).removeClass(o.uiCSS.header).removeClass(o.uiCSS.cornerAll).removeAttr("role"),p.each(this.anchors,function(t,e){var i=p(e),n=i.data("href.tabs");n&&(e.href=n),i.unbind(".tabs"),p.each(["href","load","cache"],function(t,e){i.removeData(e+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(t,e){var i=p(e);i.data("destroy.tabs")&&!n?i.remove():i.removeClass(o.uiCSS.stateDefault).removeClass(o.uiCSS.cornerTop).removeClass(o.uiCSS.cornerBottom).removeClass(o.uiCSS.cornerLeft).removeClass(o.uiCSS.cornerRight).removeClass(o.uiCSS.tabsActive).removeClass(o.uiCSS.stateActive).removeClass(o.uiCSS.stateHover).removeClass(o.uiCSS.stateFocus).removeClass(o.uiCSS.stateDisabled).removeClass(o.uiCSS.tabsPanel).removeClass(o.uiCSS.content).removeClass(o.uiCSS.tabsHide).css({position:"",left:"",top:""}).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-selected").removeAttr("aria-disabled")}),t.length&&t.replaceWith(t.contents()),o.cookie&&this._cookie(null,o.cookie),this},a.prototype._cleanup=function(){var t=this.options.uiCSS;this.lis.filter("."+t.tabsLoading).removeClass(t.tabsLoading).find("span:data(label.tabs)").each(function(){var t=p(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},a.prototype._removeScroller=function(){this.scrollWrap&&(this.scrollWrap.superpanel("destroy").replaceWith(this.scrollWrap.contents()),this.scrollWrap=void 0,i&&i(this.list,["width","height","overflow"]))},a.prototype._cookie=function(t,e){var i=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++s);return p.cookie.apply(null,[i].concat(p.makeArray(arguments)))},a.prototype._getLiWidth=function(t){return this._parsePxToNumber(t.css("margin-left"))+this._parsePxToNumber(t.css("border-left-width"))+this._parsePxToNumber(t.css("padding-left"))+this._parsePxToNumber(t.css("width"))+this._parsePxToNumber(t.css("margin-right"))+this._parsePxToNumber(t.css("border-right-width"))+this._parsePxToNumber(t.css("padding-right"))},a.prototype._parsePxToNumber=function(t){var e=t.indexOf("px");return e&&-1!==e?parseFloat(t.substr(0,e)):0},a.prototype.abort=function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},a.prototype.select=function(t){return"string"==typeof t?t=this.anchors.index(this.anchors.filter("[href$="+t+"]")):null===t&&(t=-1),-1===t&&this.options.collapsible&&(t=this.options.selected),this.anchors.eq(t).trigger(this.options.event+".tabs"),this},a.prototype.load=function(n){var o=this,s=o.options,r=o.anchors.eq(n)[0],t=p.data(r,"load.tabs"),e=p("span",r);if(o.abort(),!1!==o._trigger("beforeShow",null,o._ui(o.anchors[n],o.panels[n]))){if(t&&(0===o.element.queue("tabs").length||!p.data(r,"cache.tabs")))return o.lis.eq(n).addClass(s.uiCSS.tabsLoading),(s.spinner||o._defaults.spinner)&&e.data("label.tabs",e.html()).html(s.spinner||o._defaults.spinner),o.xhr=p.ajax(p.extend({},s.ajaxOptions,{url:t,success:function(t,e){p(o._sanitizeSelector(r.hash),o.element).html(t),o._cleanup(),s.cache&&p.data(r,"cache.tabs",!0),o._trigger("load",null,o._ui(o.anchors[n],o.panels[n]));try{s.ajaxOptions.success(t,e)}catch(t){}},error:function(t,e,i){o._cleanup(),o._trigger("load",null,o._ui(o.anchors[n],o.panels[n]));try{s.ajaxOptions.error(t,e,n,r)}catch(t){}}})),o.element.dequeue("tabs"),o;o.element.dequeue("tabs")}else o.element.dequeue("tabs")},a.prototype.add=function(t,e,i){void 0===i&&(i=this.anchors.length);var n,o=this,s=o.options,r=p((s.tabTemplate||o._defaults.tabTemplate).replace(/#\{href\}/g,t).replace(/#\{label\}/g,e)),a=t.indexOf("#")?o._tabId(p("a",r)[0]):t.replace("#",""),l=o._getAlignment(!0),c=o._getAlignment(!1),u=p("#"+a);return r.addClass(s.uiCSS.stateDefault).addClass(s.uiCSS["corner"+l]).data("destroy.tabs",!0).attr("role","tab").attr("aria-selected",!1),u.length||(u=p(s.panelTemplate||o._defaults.panelTemplate).attr("id",a).data("destroy.tabs",!0).attr("role","tabpanel")),u.addClass(s.uiCSS.tabsPanel).addClass(s.uiCSS.content).addClass(s.uiCSS["corner"+c]+" "+s.uiCSS.tabsHide).attr("aria-hidden",!0),i>=o.lis.length?(r.appendTo(o.list),0<o.panels.length?u.insertAfter(o.panels[o.panels.length-1]):(0===(n=o.element.find("."+s.uiCSS.tabsContent)).length&&(n=o.element),u.appendTo(n))):(r.insertBefore(o.lis[i]),u.insertBefore(o.panels[i])),s.disabledIndexes=p.map(s.disabledIndexes,function(t,e){return i<=t?++t:t}),o._removeScroller(),o._tabify(!1),1===o.anchors.length&&(s.selected=0,r.addClass(s.uiCSS.tabsActive).addClass(s.uiCSS.stateActive).attr("aria-selected",!0),u.removeClass(s.uiCSS.tabsHide).attr("aria-hidden",!1),o.element.queue("tabs",function(){o.element.triggerVisibility&&p(o.panels[0]).triggerVisibility(),o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))}),o.load(0)),o._trigger("add",null,o._ui(o.anchors[i],o.panels[i])),o},a.prototype.remove=function(i){var t=this.options,e=this.lis.eq(i).remove(),n=this.panels.eq(i).remove();return e.hasClass(t.uiCSS.tabsActive)&&1<this.anchors.length&&this.select(i+(i+1<this.anchors.length?1:-1)),t.disabledIndexes=p.map(p.grep(t.disabledIndexes,function(t,e){return t!==i},!1),function(t,e){return i<=t?--t:t}),this._removeScroller(),this._tabify(!1),this._trigger("remove",null,this._ui(e.find("a")[0],n[0])),this},a.prototype.enableTab=function(i){var t=this.options;if(-1!==p.inArray(i,t.disabledIndexes))return this.lis.eq(i).removeClass(t.uiCSS.stateDisabled).removeAttr("aria-disabled"),t.disabledIndexes=p.grep(t.disabledIndexes,function(t,e){return t!==i},!1),this._trigger("enable",null,this._ui(this.anchors[i],this.panels[i])),this},a.prototype.disableTab=function(t){var e=this.options;return t!==e.selected&&(this.lis.eq(t).addClass(e.uiCSS.stateDisabled).attr("aria-disabled",!0),e.disabledIndexes.push(t),e.disabledIndexes.sort(),this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))),this},a.prototype.url=function(t,e){return this.anchors.eq(t).removeData("cache.tabs").data("load.tabs",e),this},a.prototype.length=function(){return this.anchors.length},a);function a(){n.apply(this,arguments)}(t.gcuitabs=r).prototype._defaults={panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'};var l=function(){this.uiCSS={gcuitabs:"gcui-gcuitabs",tabsContent:"gcui-gcuitabs-content",tabsHide:"gcui-gcuitabs-hide"},this.mobileCSS={header:"ui-header ui-bar-c",content:"ui-content ui-body ui-body-c",stateDefault:"ui-btn-up-a",stateActive:"ui-btn-down-b"},this.alignment="top",this.sortable=!1,this.scrollable=!1,this.ajaxOptions=null,this.cache=!1,this.cookie=null,this.collapsible=!1,this.hideOption=null,this.showOption=null,this.disabledIndexes=[],this.event="click",this.idPrefix="ui-tabs-",this.panelTemplate="",this.spinner="",this.tabTemplate="",this.add=null,this.remove=null,this.select=null,this.beforeShow=null,this.show=null,this.load=null,this.disable=null,this.enable=null};r.prototype.options=p.extend(!0,{},h.gcuiWidget.prototype.options,new l),p.gcui.registerWidget("gcuitabs",r.prototype)}(h.tabs||(h.tabs={}));h.tabs}(gcui=gcui||{}),$.fn.extend({getBounds:function(){return $.extend({},$(this).offset(),{width:$(this).outerWidth(!0),height:$(this).outerHeight(!0)})},setBounds:function(t){return $(this).css({left:t.left,top:t.top}).width(t.width).height(t.height),this},getMaxZIndex:function(){var i=+("auto"==$(this).css("z-index")?0:$(this).css("z-index"));return $(this).siblings().each(function(t,e){i=Math.max(i,+("auto"==$(e).css("z-index")?0:$(e).css("z-index")))}),Math.max(i,$(this).zIndex())}}),function(t){function e(){n.apply(this,arguments)}var i,n,o,s;i=t.popup||(t.popup={}),n=t.GCUIWidget,__extends(e,n),e.prototype._init=function(){if(this.elementZIndex=this.element.zIndex(),this.options.ensureOutermost){var t=$(document.body);this.element.appendTo(t)}this.element.data("visible.gcuipopup",!1),this.element.css("position","absolute"),this.element.position({of:$(document.body)}),this.element.hide()},e.prototype._setOption=function(t,e){if(n.prototype._setOption.call(this,t,e),"autoHide"===t){var i=this.isVisible();this.hide(),i&&this.show()}},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.isVisible()&&this.hide();var t=GC.Spread.Sheets.util.browser;if(t.msie&&parseInt(t.version)<7){var e=this.element.data("backframe.gcuipopup");e||e.remove()}var i=this;this.element.unbind(".gcuipopup"),$.each(["visible","backframe","animating","width"],function(t,e){i.element.removeData(e+".gcuipopup")})},e.prototype.isVisible=function(){return!!this.element.data("visible.gcuipopup")&&this.element.is(":visible")},e.prototype.isAnimating=function(){return!!this.element.data("animating.gcuipopup")},e.prototype.show=function(t){var e=this;if(this._setPosition(t),!this.isVisible()&&!1!==this._trigger("showing")){this.options.autoHide&&window.setTimeout(function(){$(document).bind("mouseup.gcuipopup",$.proxy(e._onDocMouseUp,e))},0);var i=this.options.showEffect||"show",n=this.options.showDuration||300,o=this.options.showOptions||{};this.element.data("animating.gcuipopup",!0),$.effects&&$.effects.effect[i]?this.element.show(i,o,n,$.proxy(this._showCompleted,this)):this.element[i]("show"===i?null:n,$.proxy(this._showCompleted,this)),i&&n&&"show"!==i&&!(n<=0)||this._showCompleted()}},e.prototype._showCompleted=function(){this.element.removeData("animating.gcuipopup"),this.element.data("visible.gcuipopup",!0),this._trigger("shown")},e.prototype.showAt=function(t,e){this.show({my:"left+"+t+" top+"+e,at:"left top",of:document.body})},e.prototype.hide=function(){if(this.isVisible()&&!1!==this._trigger("hiding")){$(document).unbind("mouseup.gcuipopup");var t=this.options.hideEffect||"hide",e=this.options.hideDuration||300,i=this.options.hideOptions||{};this.element.data("animating.gcuipopup",!0),$.effects&&$.effects.effect[t]?this.element.hide(t,i,e,$.proxy(this._hideCompleted,this)):this.element[t]("hide"===t?null:e,$.proxy(this._hideCompleted,this)),t&&e&&"hide"!==t&&!(e<=0)||this._hideCompleted()}},e.prototype._hideCompleted=function(){void 0!==this.element.data("width.gcuipopup")&&(this.element.width(this.element.data("width.gcuipopup")),this.element.removeData("width.gcuipopup")),this.element.unbind("move.gcuipopup"),this.element.removeData("animating.gcuipopup");var t=GC.Spread.Sheets.util.browser;if(t.msie&&parseInt(t.version)<7){var e=this.element.data("backframe.gcuipopup");e&&e.hide()}this._trigger("hidden")},e.prototype._onDocMouseUp=function(t){var e=t.target?t.target:t.srcElement;this.isVisible()&&this.options.autoHide&&e!=this.element.get(0)&&$(e).parents().index(this.element)<0&&this.hide()},e.prototype._onMove=function(t){var e=this.element.data("backframe.gcuipopup");e&&(this.element.before(e),e.css({top:this.element.css("top"),left:this.element.css("left")}))},e.prototype._addBackgroundIFrame=function(){var t=GC.Spread.Sheets.util.browser;if(t.msie&&parseInt(t.version)<7){var e=this.element.data("backframe.gcuipopup");e||(e=jQuery("<iframe/>").css({position:"absolute",display:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}).attr({src:"javascript:'<html></html>';",scrolling:"no",frameborder:"0","tabIndex ":-1}),this.element.before(e),this.element.data("backframe.gcuipopup",e),this.element.bind("move.gcuipopup",$.proxy(this._onMove,this))),e.setBounds(this.element.getBounds()),e.css({display:"block",left:this.element.css("left"),top:this.element.css("top"),"z-index":this.element.css("z-index")-1})}},e.prototype._setZIndex=function(t){this.element.css("z-index",t);var e=this.element.data("backframe.gcuipopup");e&&e.css("z-index",this.element.css("z-index")-1)},e.prototype._setPosition=function(t){var e,i=this.element.is(":visible");this.element.show(),this.element.position($.extend({},this.options.position,t||{})),i||this.element.hide(),t&&(e=t.of),e=e||this.options.position.of,this._addBackgroundIFrame();var n=Math.max(1e3,this.elementZIndex);e&&(n=Math.max(n,$(e).getMaxZIndex())),this._setZIndex(n+10),this._trigger("posChanged")},o=e,s=function(){this.ensureOutermost=!1,this.showEffect="show",this.showOptions={},this.showDuration=300,this.hideEffect="hide",this.hideOptions={},this.hideDuration=100,this.autoHide=!1,this.position={at:"left bottom",my:"left top"},this.showing=null,this.shown=null,this.hiding=null,this.hidden=null,this.posChanged=null},(i.gcuipopup=o).prototype.options=$.extend(!0,{},t.gcuiWidget.prototype.options,new s),$.gcui.registerWidget("gcuipopup",o.prototype);t.popup}(gcui=gcui||{}),jQuery.extend(jQuery.support,{isTouchEnabled:function(){return"ontouchstart"in window||"ontouchend"in document||void 0!==window.navigator.msMaxTouchPoints&&0<window.navigator.msMaxTouchPoints}}),function(t){!function(){"use strict";var h=jQuery,r="virtualMouseBindings",c="virtualTouchID",t="gcuimouseover gcuimousedown gcuimousemove gcuimouseup gcuiclick gcuitap gcuidoubletap gcuitaphold gcuimouseout gcuimousecancel".split(" "),a=window.navigator.msPointerEnabled,l={gcuimouseover:a?"MSPointerOver":"mouseover",gcuimousedown:a?"MSPointerDown":"mousedown",gcuijmousemove:a?"MSPointerMove":"mousemove",gcuimouseup:a?"MSPointerUp":"mouseup",gcuimouseout:a?"MSPointerOut":"mouseout",gcuimousecancel:"mousecancel",gcuiclick:a?"MSGestureTap":"click",gcuidoubletap:a?"MSGestureDoubleTap":"dblclick",gcuitaphold:a?"MSGestureHold":"gesturehold"},p="clientX clientY pageX pageY screenX screenY".split(" "),f="clientX clientY pageX pageY screenX screenY".split(" "),g=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which"].concat(["button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"]),u={},e=0,d=0,m=0,v=!1,b=[],s=!1,_=!1,y="addEventListener"in document,w=h(document),x=1,C=0,S=a?"MSPointerDown":"touchstart",D=a?"MSPointerUp":"touchend",I=a?"MSPointerMove":"touchmove",T="scroll";function k(t){for(;t&&void 0!==t.originalEvent;)t=t.originalEvent;return t}function R(t){for(var e,i,n={};t;){for(i in e=h.data(t,r))e[i]&&(n[i]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function A(){_=!0}function F(){_=!1}function M(){E(),e=setTimeout(function(){C=e=0,b.length=0,s=!1,A()},h.gcuimouse.resetTimerDuration)}function E(){e&&(clearTimeout(e),e=0)}function P(t,e,i){var n;return(i&&i[t]||!i&&function(t,e){for(var i;t;){if((i=h.data(t,r))&&(!e||i[e]))return t;t=t.parentNode}}(e.target,t))&&(n=function(t,e){var i,n,o,s,r,a,l,c,u,d=t.type;if((t=h.Event(t)).nativeType=t.type,t.type=e,i=t.originalEvent,n=h.event.props,-1<d.search(/^(mouse|click)/)&&(n=g),i)for(l=n.length;l;)t[s=n[--l]]=i[s];for(-1<d.search(/mouse(down|up)|click/)&&!t.which&&(t.which=1),o=k(i),c=0,u=f.length;c<u;c++)void 0===t[s=f[c]]&&(t[s]=o[s]);if(-1!==d.search(/^touch/)&&(d=o.touches,r=o.changedTouches,a=d&&d.length?d[0]:r&&r.length?r[0]:void 0))for(c=0,u=p.length;c<u;c++)t[s=p[c]]=a[s];return t}(e,t),h(e.target).trigger(n)),n}function O(t){var e,i,n=h.data(t.target,c);if(!(s||C&&C===n)){for(i in e="gcui"+t.type,l)l[i]===t.type&&(e=i);var o=P(e,t);o&&(o.isDefaultPrevented()&&t.preventDefault(),o.isPropagationStopped()&&t.stopPropagation(),o.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function z(t){var e,i,n,o=k(t).touches;if((o&&1===o.length||a)&&(i=R(e=t.target)).hasVirtualBinding){C=x++,h.data(e,c,C),E(),F(),v=!1;var s=(n=k(t)).touches?n.touches[0]:n;d=s.pageX,m=s.pageY,P("gcuimouseover",t,i),P("gcuimousedown",t,i)}}function N(t){_||(v||P("gcuimousecancel",t,R(t.target)),v=!0,M())}function H(t){if(!_){var e=k(t),i=e.touches?e.touches[0]:e,n=v,o=h.gcuimouse.moveDistanceThreshold;v=v||Math.abs(i.pageX-d)>o||Math.abs(i.pageY-m)>o;var s=R(t.target);v&&!n&&P("gcuimousecancel",t,s),P("gcuimousemove",t,s),M()}}function L(t){if(!_){A();var e,i,n=R(t.target);if(P("gcuimouseup",t,n),!v){var o=P("gcuiclick",t,n);o&&o.isDefaultPrevented()&&(i=(e=k(t)).changedTouches?e.changedTouches[0]:e,b.push({touchID:C,x:i.clientX,y:i.clientY}),s=!0)}P("gcuimouseout",t,n),v=!1,M()}}function V(t){var e,i=h.data(t,r);if(i)for(e in i)if(i[e])return 1}function W(){}function i(o){var s=l[o];return{setup:function(t,e){V(this)||h.data(this,r,{}),h.data(this,r)[o]=!0,h(this).bind(s,W);var i=!1;y&&(u[S]=(u[S]||0)+1,1===u[S]&&(i=!0,w.bind(S,z).bind(D,L).bind(I,H).bind(T,N))),i&&S===s||(u[o]=(u[o]||0)+1,1===u[o]&&w.bind(s,O))},teardown:function(t,e){--u[o],u[o]||w.unbind(s,O),y&&(--u[S],u[S]||w.unbind(S,z).unbind(I,H).unbind(D,L).unbind(T,N));var i=h(this),n=h.data(this,r);n&&(n[o]=!1),i.unbind(s,W),V(this)||i.removeData(r)}}}h.gcuimouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var n=0;n<t.length;n++)h.event.special[t[n]]=i(t[n]);y&&document.addEventListener("click",function(t){var e,i,n,o,s,r=b.length,a=t.target;if(r){e=t.clientX,i=t.clientY;var l=h.gcuimouse.clickDistanceThreshold;for(n=a;n;){for(o=0;o<r;o++)if(s=b[o],n===a&&Math.abs(s.x-e)<l&&Math.abs(s.y-i)<l||h.data(n,c)===s.touchID)return t.preventDefault(),void t.stopPropagation();n=n.parentNode}}},!0),h.each("touchstart touchmove touchend orientationchange throttledresize gcuitap gcuitaphold gcuiswipe gcuiswipeleft gcuiswiperight gcuiscrollstart gcuiscrollstop".split(" "),function(t,e){h.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)},h.attrFn&&(h.attrFn[e]=!0)});var o="ontouchend"in document,B=o?"touchstart":"mousedown",j=o?"touchend":"mouseup",$=o?"touchmove":"mousemove",q="gesturestart",U="gesturechange",G="gestureend";function K(t,e,i){var n=i.type;i.nativeType=i.type,i.type=e;try{h([t]).trigger(i)}finally{i.type=n}}window.navigator.msPointerEnabled&&(B="MSPointerDown",j="MSPointerUp",$="MSPointerMove",q="MSGestureStart",U="MSGestureChange",G="MSGestureEnd"),h.event.special.gcuiscrollstart={enabled:!0,setup:function(){var i,e,n=this;function o(t,e){K(n,(i=e)?"gcuiscrollstart":"gciscrollstop",t)}h(n).bind("touchmove scroll",function(t){h.event.special.gcuiscrollstart.enabled&&(i||o(t,!0),clearTimeout(e),e=setTimeout(function(){o(t,!1)},50))})}},h.event.special.gcuitap={setup:function(){var r=this,a=h(r);a.bind("gcuimousedown",function(t){if(t.which&&1!==t.which)return!1;var e,i=t.target;t.originalEvent;function n(){clearTimeout(e)}function o(){n(),a.unbind("gcuiclick",s).unbind("gcuimouseup",n),h(document).unbind("gcuimousecancel",o)}function s(t){o(),i==t.target&&K(r,"gcuitap",t)}a.bind("gcuimouseup",n).bind("gcuiclick",s),h(document).bind("gcuimousecancel",o),e=setTimeout(function(){K(r,"gcuitaphold",h.Event("gcuitaphold",{target:i}))},750)})}},h.event.special.gcuiswipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var s=h(this);s.bind(B,function(t){var i,e=t.originalEvent.touches?t.originalEvent.touches[0]:t,n={time:(new Date).getTime(),coords:[e.pageX,e.pageY],origin:h(t.target)};function o(t){if(n){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t;i={time:(new Date).getTime(),coords:[e.pageX,e.pageY]},Math.abs(n.coords[0]-i.coords[0])>h.event.special.gcuiswipe.scrollSupressionThreshold&&t.preventDefault()}}s.bind($,o).one(j,function(t){s.unbind($,o),n&&i&&i.time-n.time<h.event.special.gcuiswipe.durationThreshold&&Math.abs(n.coords[0]-i.coords[0])>h.event.special.gcuiswipe.horizontalDistanceThreshold&&Math.abs(n.coords[1]-i.coords[1])<h.event.special.gcuiswipe.verticalDistanceThreshold&&n.origin.trigger("gcuiswipe").trigger(n.coords[0]>i.coords[0]?"gcuiswipeleft":"gcuiswiperight"),n=i=void 0})})}};var Y="altKey ctrlKey metaKey rotation scale shiftKey target velocityX velocityY translationX translationY".split(" ");function X(t){if(window.navigator.msPointerEnabled&&!t.__MSGesturePreInit){t.__MSGesturePreInit=!0;var e=new MSGesture;(e.target=t).addEventListener("MSPointerDown",function(t){e.addPointer(t.pointerId)},!1)}}function Q(t,e){var i=function(t,e){var i,n,o,s,r,a;t.type;if(i=t.originalEvent,(t=h.Event(t)).nativeType=t.type,t.type=e,n=h.event.props,i)for(s=n.length;s;)o=n[--s],t[o]=t[o]||i[o];for(r=0,a=Y.length;r<a;r++)o=Y[r],t[o]=t[o]||i[o];window.navigator.msPointerEnabled&&t.rotation&&(t.rotation=360*t.rotation/Math.PI);return t}(e,t);return h(e.target).trigger(i),i}h.event.special.gcuigesturestart={setup:function(){var t=h(this);X(this),t.bind(q,function(t){Q("gcuigesturestart",t)})}},h.event.special.gcuigesturechange={setup:function(){var t=h(this);X(this),t.bind(U,function(t){Q("gcuigesturechange",t)})}},h.event.special.gcuigestureend={setup:function(){var t=h(this);X(this),t.bind(G,function(t){Q("gcuigestureend",t)})}},function(t,e){var i,n,o,s,r=t(e),a={0:!0,180:!0};if("orientation"in e&&"onorientationchange"in e){var l=e.innerWidth||t(e).width(),c=e.innerHeight||t(e).height();o=c<l&&50<l-c,s=a[e.orientation],(o&&s||!o&&!s)&&(a={"-90":!0,90:!0})}function u(){var t=i();t!==n&&(n=t,r.trigger("orientationchange"))}t.event.special.orientationchange={setup:function(){if("orientation"in e&&"onorientationchange"in e&&t.mobile.orientationChangeEnabled)return!1;n=i(),r.bind("throttledresize",u)},teardown:function(){if("orientation"in e&&"onorientationchange"in e&&t.mobile.orientationChangeEnabled)return!1;r.unbind("throttledresize",u)},add:function(t){var e=t.handler;t.handler=function(t){return t.orientation=i(),e.apply(this,arguments)}}},t.event.special.orientationchange.orientation=i=function(){var t=document.documentElement;return("orientation"in e&&"onorientationchange"in e?a[e.orientation]:t&&t.clientWidth/t.clientHeight<1.1)?"portrait":"landscape"}}(jQuery,window),function(){h.event.special.throttledresize={setup:function(){h(this).bind("resize",n)},teardown:function(){h(this).unbind("resize",n)}};var t,e,i,n=function(){e=(new Date).getTime(),250<=(i=e-o)?(o=e,h(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(n,250-i))},o=0}(),h.each({gcuiscrollstop:"gcuiscrollstart",gcuitaphold:"gcuitap",gcuiswipeleft:"gcuiswipe",gcuiswiperight:"gcuiswipe"},function(t,e){h.event.special[t]={setup:function(){h(this).bind(e,h.noop)}}})}(t.touch||(t.touch={}))}(gcui=gcui||{}),$(document).ready(function(){var a,t=window.navigator.userAgent,e=t.match(new RegExp("android ((1\\.)|(2\\.([^345]+)))","i")),o=(window.WebKitCSSMatrix,!("string"!=typeof t||!t.match(/applewebkit/))),i=(document,document.createElement("div"));i.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;-o-transition:top 1s ease;"),document.body.appendChild(i),a=!!(i.style.transition||i.style.webkitTransition||i.style.MozTransition||i.style.OTransitionDuration),i.parentNode.removeChild(i),i=null;var s=jQuery.fn.animate;function c(t,e,i,n,o){var s,r;a&&(function(t,e,i){i=i||"ease";l(t,"-webkit-transform",e,i)}(t,i,n),s=t,r=e,a?(s.___translateX=r,(s.style||s).webkitTransform="translateX("+r+"px)"):s.style.left=r+"px",t.___animationEndHandler=o,t.___internalEndHandler=$.proxy(u,{}),t.addEventListener("webkitTransitionEnd",t.___internalEndHandler,!1))}function l(t,e,i,n){if(a){var o=t.style;o.webkitTransitionProperty=e,o.webkitTransitionDuration=i+"ms",o.webkitTransitionTimingFunction=n}}function n(t){if(a){t.style.webkitTransitionProperty="none";var e=t.___internalEndHandler;e&&(delete t.___internalEndHandler,t.removeEventListener("webkitTransitionEnd",e,!1))}}function u(e){try{var t,i;switch(e.type){case"webkitTransitionEnd":(t=e.target)&&(n(t),t.___animationEndHandler&&(i=t.___animationEndHandler,t.___animationEndHandler=null,i(e)))}}catch(t){window.console&&window.console.log&&window.console.log("[ew219290] error: "+(t.message?t.message:t)+", event: "+e)}return!0}jQuery.fn.animate=function(t,e,i,n){if(!o||!function(t,e,i,n){var o,s,r=!1,a=$.speed(e,i,n);if(!t)return!1;for(var l in t)o=t[l],"height"===l||"width"===l?"hide"===o?(this.css("display","none"),r=!0,a.complete()):"show"===o&&(this.css("display",""),r=!0,a.complete()):"left"===l&&(s=+this.css("left").replace("px",""),"string"==typeof o&&(0===o.indexOf("-=")?s-=o.replace("-=",""):0===o.indexOf("+=")&&(s+=+o.replace("+=",""))),r=!0,this.css("-webkit-perspective",1e3),this.css("-webkit-backface-visibility","hidden"),c(this[0],s,a.duration,"linear",a.complete));return r}.apply(this,arguments))return function(t,e,i){var n="-webkit-transform",o="translate3d(0,0,0)",s=t.css(n),r=!(s&&s.match(/^\s*none\s*$/i));t.css(n,r?o:s+" "+o);try{return e.apply(this,i)}finally{t.css(n,s)}}.call(this,this,function(){return s.apply(this,arguments)},arguments)}}),function(r){!function(t){"use strict";var e,A=jQuery,i=function(){this.mobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.initSelector=":jqmData(role='superpanel')",this.allowResize=!1,this.autoRefresh=!1,this.animationOptions={queue:!1,disabled:!1,duration:250,easing:void 0},this.hScrollerActivating=null,this.hScroller={scrollBarPosition:"bottom",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.keyboardSupport=!1,this.keyDownInterval=100,this.mouseWheelSupport=!0,this.bubbleScrollingEvent=!0,this.resizableOptions={handles:"all",helper:"ui-widget-content gcui-superpanel-helper"},this.resized=null,this.dragStop=null,this.painted=null,this.scrolling=null,this.scroll=null,this.scrolled=null,this.showRounder=!0,this.vScrollerActivating=null,this.vScroller={scrollBarPosition:"right",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.customScrolling=!1,this.listenContentScroll=!1};function n(){e.apply(this,arguments)}if((t=(e=r.gcuiWidget,__extends(n,e),n)).superpanel=t,A.support.isTouchEnabled&&A.support.isTouchEnabled()){f="gcui-superpanel-handle",s="<div class='gcui-superpanel-statecontainer'><div class='gcui-superpanel-contentwrapper-touch'></div></div>";t.prototype=A.extend(!0,{},A.Widget.prototype,{widgetEventPrefix:"gcuisuperpanel",_setOption:function(t,e){var i=this,n=i.options,o=i._fields();switch("animationOptions"===t||"resizableOptions"===t?e=A.extend(n[t],e):"hScroller"!==t&&"vScroller"!==t||(e=A.extend(n[t],e),i.refresh()),A.Widget.prototype._setOption.apply(i,arguments),t){case"allowResize":i._initResizer();break;case"disabled":i._handleDisabledOption(e,i.element);break;case"mouseWheelSupport":case"keyboardSupport":i._bindElementEvents(i,o,i.element,n)}},_create:function(){var t=this,e=t.options;e.vScroller.dir="v",e.hScroller.dir="h",t._createDom(),t.options.disabled&&t.disable(),t.element.is(":hidden")&&t.element.addVisibilityObserver&&t.element.addVisibilityObserver(function(){t.refresh(),t.element.removeVisibilityObserver&&t.element.removeVisibilityObserver()},"gcuisuperpanel")},_handleDisabledOption:function(t,e){t?(this.disabledDiv||(this.disabledDiv=this._createDisabledDiv(e)),this.disabledDiv.appendTo("body")):this.disabledDiv&&(this.disabledDiv.remove(),this.disabledDiv=null)},_createDisabledDiv:function(t){var e=t||this.element,i=e.offset(),n=e.outerWidth(),o=e.outerHeight();return A("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:n,height:o,left:i.left,top:i.top})},_createDom:function(){this.element;this.paintPanel(),this._initResizer(),this._bindElementEvents()},_applyOverflow:function(t){var e={},i=this.options,n=i.hScroller.scrollBarVisibility,o=i.vScroller.scrollBarVisibility;e["overflow-x"]=n,e["overflow-y"]=o,A.support.isTouchEnabled&&A.support.isTouchEnabled()&&"visible"===n&&"visible"===o&&(e["overflow-x"]="auto",e["overflow-y"]="auto"),t.css(e)},_createAdditionalDom:function(t,n,e){e.attr("tabindex")||(e.attr("tabindex","-1"),n.tabindex=!0);var i=n.stateContainer=A(s);t._applyOverflow(n.stateContainer),n.contentWrapper=i.children(),e.contents().each(function(t,e){var i=A(e);i.hasClass("gcui-superpanel-header")?n.header=i:i.hasClass("gcui-superpanel-footer")?n.footer=i:n.contentWrapper[0].appendChild(e)}),void 0!==n.header&&e.prepend(n.header),e[0].appendChild(i[0]),void 0!==n.footer&&n.footer.insertAfter(i),t._resetDom(),n.contentWrapper.css("float","left"),n.contentWidth=n.contentWrapper.width(),n.contentHeight=n.contentWrapper.height(),n.contentWrapper.css("float","")},_bindElementEvents:function(){var n=this,t=n.element,e=n.options,i=n.widgetName,o=t.find(".gcui-superpanel-statecontainer"),s=o.scrollTop();o.bind("scroll",function(t,e){var i=A(this).scrollTop();i===s?(n._triggerScroll(A(this).scrollLeft(),"h"),n._updateScrollValue(A(this).scrollLeft(),"h")):(n._triggerScroll(i,"v"),n._updateScrollValue(i,"v"),s=i)}),e.keyboardSupport?void 0===n._keyboardBind&&(n._keyboardBind=!0,t.bind("keydown."+i,n,n._panelKeyDown)):(t.unbind("keydown."+i,n._panelKeyDown),n._keyboardBind=void 0),e.mouseWheelSupport||t.bind("mousewheel",function(t){return t.stopPropagation(),!1})},_setScrollingInterval:function(t,e,i,n){var o=i.options;0<e.length&&(t.internalFuncID=window.setInterval(function(){i._doScrolling(e,i,n)},o.keyDownInterval))},_triggerScroll:function(t,e){var i={position:t,dir:e};this._trigger("scroll",null,i)},_panelKeyDown:function(t){var e,i,n=t.data,o=n.options,s=r.getKeyCodeEnum();o.keyboardSupport&&!o.disabled&&(e=t.shiftKey,(i=t.keyCode)===s.LEFT?n._doScrolling("left",n,e):i===s.RIGHT?n._doScrolling("right",n,e):i===s.UP?n._doScrolling("top",n,e):i===s.DOWN&&n._doScrolling("bottom",n,e),t.stopPropagation(),t.preventDefault())},_doScrolling:function(t,e,i){var n,o,s,r,a=e._fields().stateContainer[0],l={};"top"===t||"bottom"===t?(o="v",s="scrollTop"):"left"!==t&&"right"!==t||(o="h",s="scrollLeft"),n=i?e._getLargeChange(o):e._getSmallChange(o),r=a[s],l[s]="top"===t||"left"===t?r-n:r+n,e._animateTo(l)},_getLargeChange:function(t){var e=this._fields(),i="h"==t?e.clientWidth:e.clientHeight;return i||e.stateContainer["h"==t?"width":"height"]()},_getSmallChange:function(){return this._getLargeChange()/2},_setRounder:function(t,e){var i=this.options.uiCSS.cornerAll;if(this.options.showRounder){if(e.addClass(i),t._rounderAdded)return;var n=GC.Spread.Sheets.util.browser;if(n.msie)return;var o,s,r="",a="";r=n.webkit?(a="WebkitBorderTopLeftRadius","WebkitBorderRadius"):n.mozilla?(a="MozBorderRadiusBottomleft","MozBorderRadius"):(a="border-top-left-radius","border-radius"),o=e.css(a),s=parseInt(o,10),e.css(r,s+1),t._rounderAdded=!0,t._radiusKey=r}else e.removeClass(i)},_initResizer:function(){var t,e,i=this,n=i.options,o=i._fields(),s=o.resizer;A.fn.resizable&&(!s&&n.allowResize&&(t=n.resizableOptions,e=t.stop,t.stop=function(t){i._resetDom(),i._trigger("resized"),A.isFunction(e)&&e(t)},o.resizer=s=i.element.resizable(t)),!n.allowResize&&o.resizer&&(s.resizable("destroy"),o.resizer=null))},_resetDom:function(){this.options;var t=this.element,e=this._fields(),i=t.width(),n=t.height();void 0!==e.header&&(n-=e.header.outerHeight()),void 0!==e.footer&&(n-=e.footer.outerHeight()),e.stateContainer.length&&(e.stateContainer.css({width:i,height:n}),e.clientWidth=e.stateContainer[0].clientWidth,e.clientHeight=e.stateContainer[0].clientHeight)},_fields:function(){var t=this.element,e=this.widgetName+"-fields",i=this._fieldsStore;return void 0===i&&(i={},t.data(e,i),this._fieldsStore=i),i},_getScrollOffset:function(t){var e,i,n,o,s,r,a,l,c=A(t),u={left:null,top:null};return 0===c.length||(i=(e=this._fields()).contentWrapper,(n=c.offset()).leftWidth=n.left+c.outerWidth(),n.topHeight=n.top+c.outerHeight(),(o=i.offset()).leftWidth=o.left+e.clientWidth,o.topHeight=o.top+e.clientHeight,a=n.left-o.left,n.left<o.left?u.left=a:n.leftWidth>o.leftWidth&&(l=n.leftWidth-o.left-e.clientWidth,u.left=a<l?a:l),s=n.top-o.top,n.top<o.top?u.top=s:n.topHeight>o.topHeight&&(r=n.topHeight-o.top-e.clientHeight,u.top=s<r?s:r)),u},_initialize:function(t,e,i){var n=i.options.uiCSS;t.initialized=!0,e.addClass(["gcui-superpanel",n.widget,n.content].join(" ")),i._setRounder(i,e),i._createAdditionalDom(i,t,e),i._trigger("painted"),i._initScrollPosition()},_initScrollPosition:function(){var t=this.options,e=t.hScroller,i=t.vScroller,n=e.scrollValue,o=i.scrollValue,s=this._fields(),r=n?this._scrollValueToPx(n,"h"):0,a=o?this._scrollValueToPx(o,"v"):0;n&&s.stateContainer.prop("scrollLeft",r),o&&s.stateContainer.prop("scrollTop",a)},_updateScrollValue:function(t,e){var i=this.scrollPxToValue(t,e),n=this.options,o="h"===e?"hScroller":"vScroller",s=A.Event("scrollValueChanged");n[o].scrollValue=i,this._trigger("scrollValueChanged",s,{dir:e,value:i})},scrollPxToValue:function(t,e){var i=this.options,n="h"===e?"width":"height",o="h"===e?"contentWidth":"contentHeight",s="h"===e?"hScroller":"vScroller",r=this._fields(),a=r.stateContainer,l=r[o],c=a[n](),u=i[s].scrollMin;return(i[s].scrollMax-u)*t/(l-c)+u},_scrollValueToPx:function(t,e){var i=this.options,n="h"===e?"width":"height",o="h"===e?"contentWidth":"contentHeight",s="h"===e?"hScroller":"vScroller",r=this._fields(),a=r.stateContainer,l=r[o],c=a[n](),u=i[s].scrollMin;return(t-u)*(l-c)/(i[s].scrollMax-u)},_animateTo:function(t){this.element;var e=this.options.animationOptions;this._fields().stateContainer.animate(t,e)},destroy:function(){var i=this.element,t=this.options,e=this._fields(),n=t.uiCSS;this.disabledDiv&&(this.disabledDiv.remove(),this.disabledDiv=null),void 0!==e.resizer&&e.resizer.resizable("destroy"),i.unbind("."+this.widgetName),i.removeClass(["gcui-superpanel",n.widget,n.content,n.cornerAll].join(" ")),e.contentWrapper.contents().each(function(t,e){i.append(e)}),e.stateContainer.remove(),A.Widget.prototype.destroy.apply(this,arguments)},doScrolling:function(t,e){this._doScrolling(t,this,e)},paintPanel:function(t){var e=this.element,i=this._fields();i.initialized||this._initialize(i,e,this)},needToScroll:function(t){var e=this._getScrollOffset(t);return null!==e.top||null!==e.left},scrollChildIntoView:function(t){var e=this._getScrollOffset(t),i=e.left,n=e.top;this.scrollTo(i,n)},getContentElement:function(){return this._fields().contentWrapper},hScrollTo:function(t,e){var i=e?this._scrollValueToPx(t):t;this._updateScrollValue(i,"h"),this._animateTo({scrollLeft:i})},vScrollTo:function(t,e){var i=e?this._scrollValueToPx(t):t;this._updateScrollValue(i,"v"),this._animateTo({scrollTop:i})},refresh:function(){var t=this._fields();this._applyOverflow(t.stateContainer),this._resetDom()},scrollTo:function(t,e,i){var n=i?this._scrollValueToPx(t):t,o=i?this._scrollValueToPx(e):e;this._updateScrollValue(n,"h"),this._updateScrollValue(o,"v"),this._animateTo({scrollTop:o,scrollLeft:n})}}),t.prototype.options=A.extend(!0,{},r.gcuiWidget.prototype.options,{mobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},initSelector:":jqmData(role='superpanel')",allowResize:!1,animationOptions:{queue:!1,disabled:!1,duration:250,easing:void 0},hScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,firstStepChangeFix:0,scrollMin:0,hoverEdgeSpan:20},keyboardSupport:!1,keyDownInterval:100,mouseWheelSupport:!0,resizableOptions:{handles:"all",helper:"ui-widget-content gcui-superpanel-helper"},resized:null,painted:null,scroll:null,showRounder:!0,vScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,scrollMin:0,firstStepChangeFix:0,hoverEdgeSpan:20}}),A.gcui.registerWidget("superpanel",t.prototype)}else{var f="gcui-superpanel-handle",c="gcui-superpanel-hbarcontainer",u="gcui-superpanel-vbarcontainer",d="",s="<div class='gcui-superpanel-statecontainer'><div class='gcui-superpanel-contentwrapper'><div class='gcui-superpanel-templateouterwrapper'></div></div></div>",m="<div class='gcui-superpanel-hbarcontainer {header}'><div class='gcui-superpanel-handle {stateDefault} {cornerAll}'><span class='{icon} {iconVGripSolid}'></span></div><div class='gcui-superpanel-hbar-buttonleft {stateDefault} {cornerBL}'><span class='{icon} {iconArrowLeft}'></span></div><div class='gcui-superpanel-hbar-buttonright {stateDefault} {cornerBR}'><span class='{icon} {iconArrowRight}'></span></div></div>",v="<div class='gcui-superpanel-vbarcontainer {header}'><div class='gcui-superpanel-handle {stateDefault} {cornerAll}'><span class='{icon} {iconHGripSolid}'></span></div><div class='gcui-superpanel-vbar-buttontop {stateDefault} {cornerTR}'><span class='{icon} {iconArrowUp}'></span></div><div class='gcui-superpanel-vbar-buttonbottom {stateDefault} {cornerBR}'><span class='{icon} {iconArrowDown}'></span></div></div>",g="<div class='{stateDefault} gcui-superpanel-button gcui-superpanel-buttonleft'><span class='{icon} {iconCaratLeft}'></span></div><div class='{stateDefault} gcui-superpanel-button gcui-superpanel-buttonright'><span class='{icon} {iconCaratRight}'></span></div>",b="<div class='{stateDefault} gcui-superpanel-button gcui-superpanel-buttontop'><span class='{icon} {iconCaratUp}'></span></div><div class='{stateDefault} gcui-superpanel-button gcui-superpanel-buttonbottom'><span class='{icon} {iconCaratDown}'> </span></div>";t.prototype=A.extend(!0,{},A.Widget.prototype,{widgetEventPrefix:"gcuisuperpanel",_setOption:function(t,e){var i=this,n=i.options,o=i._fields(),s=o.hbarDrag,r=o.vbarDrag,a=o.resizer;switch("animationOptions"===t?e=A.extend(n.animationOptions,e):"hScroller"===t?(void 0!==e.scrollLargeChange&&null!==e.scrollLargeChange&&(i._autoHLarge=!1),e=A.extend(n.hScroller,e),i.refresh()):"vScroller"===t?(void 0!==e.scrollLargeChange&&null!==e.scrollLargeChange&&(i._autoVLarge=!1),e=A.extend(n.vScroller,e),i.refresh()):"resizableOptions"===t&&(e=A.extend(i.resizableOptions,e)),A.Widget.prototype._setOption.apply(i,arguments),A.isPlainObject(e)&&(i.options[t]=e),t){case"allowResize":i._initResizer();break;case"disabled":e?(void 0!==s&&s.draggable("disable"),void 0!==r&&r.draggable("disable"),void 0!==a&&a.resizable("disable")):(void 0!==s&&s.draggable("enable"),void 0!==r&&r.draggable("enable"),void 0!==a&&a.resizable("enable"));break;case"mouseWheelSupport":case"keyboardSupport":i._bindElementEvents(i,o,i.element,n)}return i},_create:function(){var t=this,e=t.options;e.vScroller.dir="v",e.hScroller.dir="h",t._initMarkup(),t.paintPanel(),t._initResizer(),t.options.disabled&&t.disable(),t._detectAutoRefresh(),e.listenContentScroll&&t._listenContentScroll(),t.element.is(":hidden")&&t.element.addVisibilityObserver&&t.element.addVisibilityObserver(function(){t.element.removeVisibilityObserver&&t.element.removeVisibilityObserver(),t.refresh()},"gcuisuperpanel")},_initMarkup:function(){function t(t,e){return i[e]}var i=this.options.uiCSS,e=/\{(\w+?)\}/gi;d=i.stateActive,m=m.replace(e,t),v=v.replace(e,t),g=g.replace(e,t),b=b.replace(e,t)},_detectAutoRefresh:function(){var t=A.gcui.superpanel.panels;void 0===t&&(t=[],A.gcui.superpanel.panels=t),t.push(this),this.options.autoRefresh&&(A.gcui.superpanel.setAutoRefreshInterval||(A.gcui.superpanel.setAutoRefreshInterval=this._setAutoRefreshInterval,A.gcui.superpanel.setAutoRefreshInterval()))},_setAutoRefreshInterval:function(){var l,t=A.gcui.superpanel.autoRereshInterval,c=A.gcui.superpanel.panels;l=window.setInterval(function(){window.clearInterval(l);var t,e,i,n,o,s,r=c.length,a=!1;for(t=0;t<r;t++)i=(e=c[t]).element[0],(n=e.options.autoRefresh)&&(a=!0),o=e.getContentElement(),s=e._paintedMark,n&&o.is(":visible")&&(void 0===s||s.width!==o[0].offsetWidth||s.height!==o[0].offsetHeight||s.mainWidth!==i.offsetWidth||s.mainHeight!==i.offsetHeight)&&e.paintPanel();a&&window.setTimeout(A.gcui.superpanel.setAutoRefreshInterval,0)},void 0===t?500:t)},destroy:function(){var e=this,t=e._fields(),i=e.element,n=e.options.uiCSS;A.gcui.superpanel.panels=A.grep(A.gcui.superpanel.panels,function(t){return t!==e},!1),t.initialized&&(e._radiusKey&&e.element.css(e._radiusKey,""),void 0!==t.intervalID&&(window.clearInterval(t.intervalID),t.intervalID=void 0),void 0!==t.resizer&&t.resizer.resizable("destroy"),void 0!==t.hbarContainer&&(t.hbarDrag.remove(),t.hbarContainer.unbind("."+e.widgetName)),void 0!==t.vbarContainer&&(t.vbarDrag.remove(),t.vbarContainer.unbind("."+e.widgetName)),i.unbind("."+e.widgetName),t.contentWrapper.unbind("."+e.widgetName),t.stateContainer.find(">.gcui-superpanel-button").unbind("."+e.widgetName),t.templateWrapper.contents().each(function(t,e){i.append(e)}),t.stateContainer.remove(),t.tabindex&&i.removeAttr("tabindex"),i.removeClass(["gcui-superpanel",n.widget,n.content,n.cornerAll].join(" ")),A.Widget.prototype.destroy.apply(e,arguments))},_fields:function(){var t=this.element,e=this.widgetName+"-fields",i=this._fieldsStore;return void 0===i&&(i={},t.data(e,i),this._fieldsStore=i),i},_hasMode:function(t,e){var i=t.scrollMode.split(",");return i=A.map(i,function(t){return A.trim(t).toLowerCase()}),-1<A.inArray(e.toLowerCase(),i)},_bindElementEvents:function(t,e,i,n){var o=t._hasMode(n.hScroller,"edge"),s=t._hasMode(n.vScroller,"edge"),r=t.widgetName;o||s?void 0===t._mousemoveBind&&(t._mousemoveBind=!0,i.bind("mousemove."+r,t,t._contentMouseMove),i.bind("mouseleave."+r,null,function(){t._clearInterval()})):(i.unbind("mousemove",t._contentMouseMove),t._mousemoveBind=void 0),n.mouseWheelSupport?void 0===t._mouseWheelBind&&(t._mouseWheelBind=!0,i.bind("mousewheel."+r,t,t._panelMouseWheel)):(i.unbind("mousewheel",t._panelMouseWheel),t._mouseWheelBind=void 0),n.keyboardSupport?void 0===t._keyboardBind&&(t._keyboardBind=!0,i.bind("keydown."+r,t,t._panelKeyDown)):(i.unbind("keydown",t._panelKeyDown),t._keyboardBind=void 0)},_dragStop:function(t,e,i){var n={dragHandle:i};e._trigger("dragStop",t,n)},_contentMouseMove:function(t){if(!t.data.options.disabled){var e=t.data,i=e.options,n=i.hScroller,o=i.vScroller,s=A(t.currentTarget),r=e._fields(),a=e._hasMode(n,"edge"),l=e._hasMode(o,"edge"),c=t.pageX,u=t.pageY,d=s.offset(),h=d.left,p=d.top,f=n.hoverEdgeSpan,g=o.hoverEdgeSpan,m=s.innerHeight(),v=s.innerWidth(),b="";h=c-h,p=u-p,e._clearInterval(),a&&(h<f&&(b="left"),v-f<h&&(b="right")),l&&(p<g&&(b="top"),m-g<p&&(b="bottom")),e._setScrollingInterval(r,b,e,!1)}},_setScrollingInterval:function(t,e,i,n){var o=i.options;0<e.length&&(t.internalFuncID=window.setInterval(function(){i._doScrolling(e,i,n)},o.keyDownInterval))},_scrollButtonMouseOver:function(t){var e=t.data,i=e.options,n=A(t.currentTarget);i.disabled||n.hasClass(i.uiCSS.stateDisabled)||(n.bind("mouseout."+e.widgetName,e,e._buttonMouseOut).bind("mousedown."+e.widgetName,e,e._buttonMouseDown).bind("mouseup."+e.widgetName,e,e._buttonMouseUp).addClass(i.uiCSS.stateHover),e._buttonScroll(n,e,"buttonshover"))},_buttonScroll:function(t,e,i){var n="",o=e.options,s=e._fields(),r=e._hasMode(o.hScroller,i),a=e._hasMode(o.vScroller,i);t.hasClass("gcui-superpanel-buttonleft")&&r?n="left":t.hasClass("gcui-superpanel-buttonright")&&r?n="right":t.hasClass("gcui-superpanel-buttontop")&&a?n="top":t.hasClass("gcui-superpanel-buttonbottom")&&a&&(n="bottom"),0<n.length&&(e._clearInterval(),e._doScrolling(n,e,!0),e._setScrollingInterval(s,n,e,!0))},_listenContentScroll:function(){var o=this,s=o.options,t=o._fields(),r=t.hbarContainer,a=t.hbarDrag,l=t.vbarContainer,c=t.vbarDrag,u=t.templateWrapper,d=t.contentWrapper,h=d.width(),p=d.height(),e=u&&u.offset(),f=(e&&e.left,e&&e.top,t.contentWidth),g=t.contentHeight;d.bind("scroll",function(t){var e=u.position(),i=e.left,n=e.top;d.scrollTop(0).scrollLeft(0),u.css({left:i,top:n}),i<=0&&h-f<i&&(o._updateScrollValue(o.scrollPxToValue(-i,"h"),s.hScroller),o._scrollDrag("h",r,a,!0)),n<=0&&p-g<n&&(o._updateScrollValue(o.scrollPxToValue(-n,"v"),s.vScroller),o._scrollDrag("v",l,c,!0))})},_buttonMouseDown:function(t){var e=t.data,i=A(t.currentTarget),n=e.options.uiCSS;e.options.disabled||i.hasClass(n.stateDisabled)||(i.addClass(n.stateActive),e._buttonScroll(i,e,"buttons"))},_buttonMouseUp:function(t){var e=t.data;A(t.currentTarget).removeClass(e.options.css.stateActive),e._clearInterval()},_buttonMouseOut:function(t){var e=t.data,i=e.options.uiCSS;A(t.currentTarget).unbind("mouseout",e._buttonMouseOut).unbind("mousedown",e._buttonMouseDown).unbind("mouseup",e._buttonMouseUp).removeClass(i.stateHover).removeClass(i.stateActive),e._clearInterval()},_updateScrollValue:function(t,e){var i=A.Event("scrollValueChanged");e.scrollValue=t,this._trigger("scrollValueChanged",i,e)},_panelKeyDown:function(t){var e=t.data,i=e.options,n=t.shiftKey,o=t.keyCode,s=r.getKeyCodeEnum();i.keyboardSupport&&!i.disabled&&(o===s.LEFT?e._doScrolling("left",e,n):o===s.RIGHT?e._doScrolling("right",e,n):o===s.UP?e._doScrolling("top",e,n):o===s.DOWN&&e._doScrolling("bottom",e,n),t.stopPropagation(),t.preventDefault())},_draggingInternal:function(t,e,i,n){var o,s,r,a=i.dir,l="h"===a,c=l?"left":"top",u=(t.position[c]-e._getScrollContainerPadding(c))/(e._getTrackLen(a)-n[l?"outerWidth":"outerHeight"](!0)),d=i.scrollMax-i.scrollLargeChange+1,h=u*d;h<i.scrollMin&&(h=i.scrollMin),d<h&&(h=d),o={oldValue:i.scrollValue,newValue:h,dir:a},e._scrolling(!0,e,o)&&(e.customScroll&&(r=Math.abs(e.customScroll),s=e.scrollPxToValue(r,i.dir)),e._updateScrollValue(s||h,i),e.customScroll=void 0,e._setDragAndContentPosition(!0,!1,a,"dragging"))},_dragging:function(t,e,i){var n=i.options,o=A(t.target);o.parent().hasClass(c)?i._draggingInternal(e,i,n.hScroller,o):i._draggingInternal(e,i,n.vScroller,o)},_panelMouseWheel:function(t,e){var i,n,o=t.data,s=o.options,r="",a=s.hScroller,l=s.vScroller;s.mouseWheelSupport&&!s.disabled&&(i=0<A(t.srcElement||t.originalEvent.target).closest("."+c,o.element).size(),0<(r=0<e?i?"left":"top":i?"right":"bottom").length&&o._doScrolling(r,o),n=!1,"left"===r&&(n=!o.hNeedScrollBar||Math.abs(a.scrollValue-a.scrollMin)<.001),"right"===r&&(n=!o.hNeedScrollBar||Math.abs(a.scrollValue-(a.scrollMax-o._getHScrollBarLargeChange()+1))<.001),"top"===r&&(n=!o.vNeedScrollBar||Math.abs(l.scrollValue-l.scrollMin)<.001),"bottom"===r&&(n=!o.vNeedScrollBar||Math.abs(l.scrollValue-(l.scrollMax-o._getVScrollBarLargeChange()+1))<.001),n&&s.bubbleScrollingEvent&&"left"!==r&&"right"!==r||(t.stopPropagation(),t.preventDefault()))},_documentMouseUp:function(t){var e=t.data.self;t.data.ele.removeClass(e.options.uiCSS.stateActive),e._clearInterval(),A(document).unbind("mouseup",e._documentMouseUp)},_scrollerMouseOver:function(t){var e,i=t.data,n=i.options,o=null,s=!1;n.disabled||((e=A(t.srcElement||t.originalEvent.target||t.originalEvent.srcElement)).hasClass(n.uiCSS.stateDefault)?(o=e,s=!0):e.parent().hasClass(n.uiCSS.stateDefault)?(o=e.parent(),s=!0):(e.hasClass(u)||e.hasClass(c))&&(o=e),o&&(s&&o.addClass(n.uiCSS.stateHover),o.bind("mouseout."+i.widgetName,i,i._elementMouseOut),o.bind("mousedown."+i.widgetName,i,i._elementMouseDown),o.bind("mouseup."+i.widgetName,i,i._elementMouseUp)))},_elementMouseUp:function(t){A(t.currentTarget).removeClass(d)},_elementMouseDown:function(t){var e,i,n,o=A(t.currentTarget),s=t.data,r="",a=!1,l=!1;if(!s.options.disabled&&1===t.which){if(o.hasClass("gcui-superpanel-vbar-buttontop"))r="top",l=!0;else if(o.hasClass("gcui-superpanel-vbar-buttonbottom"))r="bottom",l=!0;else if(o.hasClass("gcui-superpanel-hbar-buttonleft"))r="left",l=!0;else if(o.hasClass("gcui-superpanel-hbar-buttonright"))r="right",l=!0;else{if(o.hasClass(f))return void o.addClass(d);o.hasClass(c)?(e=o.find("."+f).offset(),r=t.pageX<e.left?"left":"right",a=!0):o.hasClass(u)&&(i=o.find("."+f).offset(),r=t.pageY<i.top?"top":"bottom",a=!0)}s._clearInterval(),s._doScrolling(r,s,a),n=s._fields(),s._setScrollingInterval(n,r,s,a),l&&o.addClass(d),A(document).bind("mouseup."+s.widgetName,{self:s,ele:o},s._documentMouseUp)}},doScrolling:function(t,e){this._doScrolling(t,this,e)},_setScrollerValue:function(t,e,i,n,o,s,r){var a,l,c,u,d,h=e.scrollMin,p=s?n:i,f=e.scrollValue,g=0;if(f=f||h,o){if(a=e.scrollMax-n+1,Math.abs(f-a)<.001)return r._clearInterval(),!1;l=e.firstStepChangeFix,g=f+p,!s&&Math.abs(f-h)<1e-4&&!isNaN(l)&&(g+=l),a<g&&(g=a)}else{if(Math.abs(f-h)<.001)return r._clearInterval(),!1;(g=f-p)<0&&(g=h)}return c={oldValue:e.scrollValue,newValue:g,direction:t,dir:e.dir},!!r._scrolling(!0,r,c)&&(r.customScroll&&(d=Math.abs(r.customScroll),u=r.scrollPxToValue(d,e.dir)),r._updateScrollValue(u||g,e),!(r.customScroll=void 0))},_doScrolling:function(t,e,i){var n=e.options,o=n.vScroller,s=n.hScroller,r=e._getVScrollBarSmallChange(),a=e._getVScrollBarLargeChange(),l=e._getHScrollBarLargeChange(),c=e._getHScrollBarSmallChange();if("top"===t||"bottom"===t){if(!e._setScrollerValue(t,o,r,a,"bottom"===t,i,e))return;t="v"}else if("left"===t||"right"===t){if(!e._setScrollerValue(t,s,c,l,"right"===t,i,e))return;t="h"}e._setDragAndContentPosition(!0,!0,t)},_disableButtonIfNeeded:function(t){var e,i,n,o,s,r,a,l,c=t._fields(),u=t.options,d=c.buttonLeft,h=c.buttonRight,p=c.buttonTop,f=c.buttonBottom;0<c.intervalID&&window.clearInterval(c.intervalID),void 0!==d&&(e=t._getHScrollBarLargeChange(),i=u.hScroller.scrollMax-e+1,n=u.hScroller.scrollValue,o=u.hScroller.scrollMin,void 0===n&&(n=o),Math.abs(n-o)<.001||!c.hScrolling?d.addClass(u.uiCSS.stateDisabled):d.removeClass(u.uiCSS.stateDisabled),Math.abs(n-i)<.001||!c.hScrolling?h.addClass(u.uiCSS.stateDisabled):h.removeClass(u.uiCSS.stateDisabled)),void 0!==p&&(s=t._getVScrollBarLargeChange(),r=u.vScroller.scrollMax-s+1,a=u.vScroller.scrollValue,l=u.vScroller.scrollMin,void 0===a&&(a=l),Math.abs(a-l)<.001||!c.vScrolling?p.addClass(u.uiCSS.stateDisabled):p.removeClass(u.uiCSS.stateDisabled),Math.abs(a-r)<.001||!c.vScrolling?f.addClass(u.uiCSS.stateDisabled):f.removeClass(u.uiCSS.stateDisabled))},_clearInterval:function(){var t=this._fields(),e=t.internalFuncID;0<e&&(window.clearInterval(e),t.internalFuncID=-1)},_elementMouseOut:function(t){var e=A(t.currentTarget),i=t.data;e.unbind("mouseout",i._elementMouseOut),e.unbind("mousedown",i._elementMouseDown),e.unbind("mouseup",i._elementMouseUp),e.removeClass(i.options.uiCSS.stateHover)},_getScrollOffset:function(t){var e,i,n,o,s,r,a,l=A(t),c=this._fields(),u=c.contentWrapper,d=c.templateWrapper,h={left:null,top:null};return 0===l.length||(e=l.offset(),i=d.offset(),e.leftWidth=e.left+l.outerWidth(),e.topHeight=e.top+l.outerHeight(),(n=u.offset()).leftWidth=n.left+u.outerWidth(),n.topHeight=n.top+u.outerHeight(),r=e.left-i.left,e.left<n.left?h.left=r:e.leftWidth>n.leftWidth&&(a=e.leftWidth-i.left-u.innerWidth(),h.left=r<a?r:a),o=e.top-i.top,e.top<n.top?h.top=o:e.topHeight>n.topHeight&&(s=e.topHeight-i.top-u.innerHeight(),h.top=o<s?o:s)),h},_scrollDrag:function(t,e,i,n){var o=this.options,s="v"===t,r=s?o.vScroller:o.hScroller,a=r.scrollMin,l=r.scrollMax,c=void 0===r.scrollValue?a:r.scrollValue-a,u=l-a-this._getLargeChange(t)+1,d=-1;u<c&&(c=u),void 0!==e&&(d=c/u*(this._getTrackLen(t)-i[s?"outerHeight":"outerWidth"]())+this._getScrollContainerPadding(s?"top":"left")),0<=d&&i.css(s?"top":"left",d+"px"),this._scrollEnd(n,this,t)},needToScroll:function(t){var e=this._getScrollOffset(t);return null!==e.top||null!==e.left},scrollChildIntoView:function(t){var e=this._getScrollOffset(t),i=e.left,n=e.top;null!==i&&this.hScrollTo(i),null!==n&&this.vScrollTo(n)},hScrollTo:function(t,e){var i=this.options;this._updateScrollValue(e?t:this.scrollPxToValue(t,"h"),i.hScroller),this._setDragAndContentPosition(!0,!0,"h","nonestop")},vScrollTo:function(t,e){var i=this.options;this._updateScrollValue(e?t:this.scrollPxToValue(t,"v"),i.vScroller),this._setDragAndContentPosition(!0,!0,"v","nonestop")},scrollPxToValue:function(t,e){var i=this.options,n="h"===e?"outerWidth":"outerHeight",o="h"===e?"contentWidth":"contentHeight",s="h"===e?"hScroller":"vScroller",r=this._fields(),a=r.contentWrapper,l=r[o],c=a[n](),u=i[s].scrollMin,d=i[s].scrollMax-u-("h"===e?this._getHScrollBarLargeChange():this._getVScrollBarLargeChange())+1,h=t/(l-c)*d;return h<u&&(h=u),d<h&&(h=d),h},scrollTo:function(t,e,i){this.hScrollTo(t,i),this.vScrollTo(e,i)},refresh:function(){this.paintPanel()},paintPanel:function(t){var e,i,n,o,s=this,r=s.element;return!!r.is(":visible")&&(e="unknown"!=typeof document.activeElement?document.activeElement:void 0,i=s.options,(n=s._fields()).initialized||s._initialize(n,r,s),s._resetLargeChange(s,n,i),s._bindElementEvents(s,n,r,i),(o=n.templateWrapper).css({float:"left",left:"0px",top:"0px",width:"auto",height:"auto"}),o.hide(),o.show(),n.contentWidth=o.width(),n.contentHeight=o.height(),o.css("float",""),s._setRounder(s,r),s._setInnerElementsSize(n,r),!1!==s._testScroll(s,n,i)&&(s._initScrollBars(s,n,i),s._initScrollButtons(s,n,i),s._trigger("painted"),s._paintedMark={date:new Date,mainWidth:r[0].offsetWidth,mainHeight:r[0].offsetHeight,width:n.contentWidth,height:n.contentWidth},void 0===e||t||A(e).focus(),!0))},_resetLargeChange:function(t,e,i){t._autoVLarge&&(i.vScroller.scrollLargeChange=null),t._autoHLarge&&(i.hScroller.scrollLargeChange=null),e.vTrackLen=void 0,e.hTrackLen=void 0,e.vbarContainer&&(e.vbarContainer.children("."+f+":eq(0)").detach(),e.vbarContainer.remove(),e.vbarContainer=void 0),e.hbarContainer&&(e.hbarContainer.children("."+f+":eq(0)").detach(),e.hbarContainer.remove(),e.hbarContainer=void 0)},_initialize:function(t,e,i){var n=i.options.uiCSS;t.initialized=!0,e.addClass(["gcui-superpanel",n.widget,n.content].join(" ")),t.oldHeight=e.css("height");var o=e.css("overflow");e.css("overflow",""),e.height(e.height()),e.css("overflow",o),i._createAdditionalDom(i,t,e)},getContentElement:function(){return this._fields().templateWrapper},_setButtonPosition:function(t,e,i,n,o,s,r){var a,l="h"===n,c="mouseover."+t.widgetName,u=l?"buttonLeft":"buttonTop",d=l?"buttonRight":"buttonBottom",h=s[u],p=s[d];t._hasMode(i,"buttons")||t._hasMode(i,"buttonshover")?(void 0===h&&(A(l?g:b).appendTo(r).bind(c,t,t._scrollButtonMouseOver),s[u]=h=r.children(l?".gcui-superpanel-buttonleft":".gcui-superpanel-buttontop"),s[d]=p=r.children(l?".gcui-superpanel-buttonright":".gcui-superpanel-buttonbottom")),a={my:l?"left":"top",of:o,at:l?"left":"top",collision:"none"},A.extend(a,i.decreaseButtonPosition),h.position(a),a={my:l?"right":"bottom",of:o,at:l?"right":"bottom",collision:"none"},A.extend(a,i.increaseButtonPosition),p.position(a)):void 0!==h&&(h.remove(),p.remove(),s[u]=s[d]=void 0)},_initScrollButtons:function(t,e,i){var n=e.contentWrapper,o=e.stateContainer;t._setButtonPosition(t,i,i.hScroller,"h",n,e,o),t._setButtonPosition(t,i,i.vScroller,"v",n,e,o)},_getVScrollBarSmallChange:function(){var t,e=this.options;return e.vScroller.scrollSmallChange||(t=this._getVScrollBarLargeChange(),e.vScroller.scrollSmallChange=t/2),e.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){return this._getLargeChange("v")},_getLargeChange:function(t){var e,i,n,o=this.options,s=this._fields(),r="v"===t,a=r?o.vScroller:o.hScroller,l=r?"innerHeight":"innerWidth",c=r?"contentHeight":"contentWidth",u=r?"_autoVLarge":"_autoHLarge";return a.scrollLargeChange||(n=(1+(a.scrollMax-a.scrollMin))*(i=(e=s.contentWrapper[l]())/(s[c]-e))/(1+i),isNaN(n)&&(n=0),a.scrollLargeChange=n,this[u]=!0),a.scrollLargeChange},_getHScrollBarSmallChange:function(){var t,e=this.options;return e.hScroller.scrollSmallChange||(t=this._getHScrollBarLargeChange(),e.hScroller.scrollSmallChange=t/2),e.hScroller.scrollSmallChange},_getHScrollBarLargeChange:function(){return this._getLargeChange("h")},_initScrollBars:function(t,e,i){var n,o,s,r,a,l,c,u,d,h,p=i.hScroller,f=p.scrollMax-p.scrollMin,g=i.vScroller,m=g.scrollMax-g.scrollMin,v=e.hbarDrag,b=e.vbarDrag;t.hNeedScrollBar&&v.is(":visible")&&(n=t._getHScrollBarLargeChange(),o=t._getTrackLen("h"),s=t._getDragLength(f,n,o,i.hScroller.scrollMinDragLength),v.width(s),r=v.outerWidth(!0)-v.width(),v.width(s-r),(a=v.children("span")).css("margin-left",(v.width()-a[0].offsetWidth)/2),o<=v.outerWidth(!0)?v.hide():v.show(),1==t._isDragging&&(A(document).trigger("mouseup"),t._isDragging=!1)),t.vNeedScrollBar&&b.is(":visible")&&(l=t._getVScrollBarLargeChange(),c=t._getTrackLen("v"),u=t._getDragLength(m,l,c,i.vScroller.scrollMinDragLength),b.height(u),d=b.outerHeight(!0)-b.height(),b.height(u-d),(h=b.children("span")).css("margin-top",(b.height()-h[0].offsetHeight)/2),c<=b.outerHeight(!0)?b.hide():b.show(),1==t._isDragging&&(A(document).trigger("mouseup"),t._isDragging=!1)),t._setDragAndContentPosition(!1,!1,"both")},_getTrackLen:function(t){var e=this._fields(),i=t+"TrackLen",n=e.hbarContainer,o=e.vbarContainer,s=0,r=0;return void 0!==e[i]||("h"===t&&(r=this._getScrollContainerPadding("h"),s=n.innerWidth()),"v"===t&&(r=this._getScrollContainerPadding("v"),s=o.innerHeight()),e[i]=s-r),e[i]},_getScrollContainerPadding:function(t){var e,i,n=this._fields(),o=0;if("h"===t)o=this._getScrollContainerPadding("left")+this._getScrollContainerPadding("right");else if("v"===t)o=this._getScrollContainerPadding("top")+this._getScrollContainerPadding("bottom");else{if(e="left"===t||"right"===t?n.hbarContainer:n.vbarContainer,void 0!==n[i=t+"Padding"])return o=n[i];e&&e.css&&(o=parseFloat(e.css("padding-"+t))),n[i]=o}return o},_triggerScroll:function(t,e,i){var n={position:t,dir:e,animationOptions:i};this._trigger("scroll",null,n)},_contentDragAnimate:function(t,e,i,n,o,s,r){var a,l,c,u,d,h,p,f,g=this,m=g.options,v="v"===t,b=v?m.vScroller:m.hScroller,_=v?"outerHeight":"outerWidth",y=v?"innerHeight":"innerWidth",w=v?"contentHeight":"contentWidth",x=v?"top":"left",C=b.scrollMin,S=b.scrollMax-C,D=void 0===b.scrollValue?C:b.scrollValue-C,I=S-g._getLargeChange(t)+1,T=g._fields(),k=T.contentWrapper,R=T.templateWrapper;I<D&&(D=I),a=(T[w]-k[y]())*(D/I),Math.abs(a)<.001&&(a=0),a=Math.round(a),l=-1,void 0!==i&&(e&&n.is(":animated")&&"nonestop"!==o&&n.stop(!0,!1),l=D/I*(g._getTrackLen(t)-n[_](!0))+g._getScrollContainerPadding(x)),e&&m.animationOptions&&!m.animationOptions.disabled?(0<=l&&"dragging"!==r&&((c=A.extend({},m.animationOptions)).complete=void 0,u=v?{top:l}:{left:l},n.animate(u,c)),d=A.extend({},m.animationOptions),h=m.animationOptions.complete,d.complete=function(){g._scrollEnd(s,g,t),A.isFunction(h)&&h(arguments)},e&&R.is(":animated")&&"nonestop"!==o&&R.stop(!0,!1),p=v?{top:-a}:{left:-a},m.customScrolling?g._scrollEnd(s,g,t,D):R.animate(p,d),g._triggerScroll(a,t,d)):"hidden"!==b.scrollBarVisibility&&(f=v?"top":"left",0<=l&&"dragging"!==r&&(n[0].style[f]=l+"px"),m.customScrolling||(R[0].style[f]=-a+"px"),g._triggerScroll(a,t),g._scrollEnd(s,g,t,D))},_setDragAndContentPosition:function(t,e,i,n,o){var s=this,r=s._fields(),a=r.hbarContainer,l=r.hbarDrag,c=r.vbarContainer,u=r.vbarDrag;"both"!==i&&"h"!==i||!r.hScrolling||s._contentDragAnimate("h",e,a,l,n,t,o),"both"!==i&&"v"!==i||!r.vScrolling||s._contentDragAnimate("v",e,c,u,n,t,o),0<r.intervalID&&window.clearInterval(r.intervalID),r.intervalID=window.setInterval(function(){s._disableButtonIfNeeded(s)},500)},_scrolling:function(t,e,i){var n=!0;return t&&(i.beforePosition=e.getContentElement().position(),e._beforePosition=i.beforePosition,n=e._trigger("scrolling",null,i),e.customScroll=i.customScroll),n},_scrollEnd:function(t,i,n,o){t&&window.setTimeout(function(){var t,e;i.getContentElement().is(":visible")&&(t=i.getContentElement().position(),e={dir:n,beforePosition:i._beforePosition,afterPosition:t},isNaN(o)||(e.newValue=o),i._trigger("scrolled",null,e))},0)},_getDragLength:function(t,e,i,n){var o=i/(t/e);return o<n?o=n:i<=o+1&&(o=i-1),Math.round(o)},_needScrollbar:function(t,e){var i=this._hasMode(t,"scrollbar"),n=t.scrollBarVisibility;return i&&("visible"===n||"auto"===n&&e)},_bindBarEvent:function(t,e,i){var n=this;t.bind("mouseover."+n.widgetName,n,n._scrollerMouseOver),A.fn.draggable&&e.draggable({axis:"h"===i?"x":"y",start:function(t,e){if(n.options.disabled)return!1;n._isDragging=!0},drag:function(t,e){n._dragging(t,e,n)},containment:"parent",stop:function(t){n._dragStop(t,n,i),A(t.target).removeClass(d),n._isDragging=!1}})},_createBarIfNeeded:function(t,e,i,n,o){if(t){var s,r,a,l=this._fields(),c=i+"barContainer",u=i+"barDrag",d="h"===i,h=o[d?"innerHeight":"innerWidth"](),p=l[c]=A(n);if(e.append(p),!(s={direction:d?"horizontal":"vertical",targetBarLen:r=p[0][d?"offsetHeight":"offsetWidth"],contentLength:h-=r})===this._trigger(d?"hScrollerActivating":"vScrollerActivating",null,s))return!1;a=l[u]=p.find("."+f),this._bindBarEvent(p,a,i),o[d?"height":"width"](h)}},_setScrollbarPosition:function(t,e,i,n,o,s,r,a,l,c,u){var d,h,p,f,g,m,v,b,_="h"===c,y=e.options.uiCSS;s?(d=n[0][_?"offsetHeight":"offsetWidth"],h=e._getScrollContainerPadding(c),p=_?"top":"left",f=_?{top:"0px",bottom:"auto",left:"auto",right:"auto"}:{left:"0px",right:"auto",top:"auto",bottom:"auto"},g=_?{top:d+"px",left:null}:{left:d+"px"},m=_?{top:"auto",right:"auto",left:"auto",bottom:"0px"}:{left:"auto",right:"0px",top:"auto",bottom:"auto"},v=_?{top:"",left:null}:{left:""},b=i[_?"innerWidth":"innerHeight"](),a===p?(n.css(f),i.css(g),_?(n.children(".gcui-superpanel-hbar-buttonleft").removeClass(y.cornerBL).addClass(y.cornerTL),n.children(".gcui-superpanel-hbar-buttonright").removeClass(y.cornerBR).addClass(y.cornerTR),n.removeClass(y.cornerBottom).addClass(y.cornerTop)):(n.children(".gcui-superpanel-vbar-buttontop").removeClass(y.cornerTR).addClass(y.cornerTL),n.children(".gcui-superpanel-vbar-buttonbottom").removeClass(y.cornerBR).addClass(y.cornerBL),n.removeClass(y.cornerRight).addClass(y.cornerLeft))):(n.css(m),i.css(v),_?(n.children(".gcui-superpanel-hbar-buttonleft").removeClass(y.cornerTL).addClass(y.cornerBL),n.children(".gcui-superpanel-hbar-buttonright").removeClass(y.cornerBL).addClass(y.cornerBR),n.removeClass(y.cornerTop).addClass(y.cornerBottom)):(n.children(".gcui-superpanel-vbar-buttontop").removeClass(y.cornerTL).addClass(y.cornerTR),n.children(".gcui-superpanel-vbar-buttonbottom").removeClass(y.cornerBL).addClass(y.cornerBR),n.removeClass(y.cornerLeft).addClass(y.cornerRight))),r&&(o[0][_?"offsetWidth":"offsetHeight"],"left"===l?n.css("right","0px"):"right"===l?n.css("left","0px"):"top"===l?n.css("bottom","0px"):"bottom"===l&&n.css("top","0px")),n[_?"width":"height"](b-h),e._enableDisableScrollBar(c,n,!u)):t.css(_?"left":"top","")},_testScroll:function(t,e,i){var n,o,s,r,a,l,c=e.templateWrapper,u=e.contentWrapper,d=e.stateContainer,h=u.innerWidth(),p=u.innerHeight(),f=e.contentWidth,g=e.contentHeight;return e.hScrolling=h<f,e.vScrolling=p<g,n=t.hNeedScrollBar=t._needScrollbar(i.hScroller,e.hScrolling),!1!==t._createBarIfNeeded(n,d,"h",m,u)&&(n&&!e.vScrolling&&(c.css("float","left"),e.contentHeight=c.height(),e.vScrolling=e.contentHeight>p-e.hbarContainer[0].offsetHeight,c.css("float","")),o=t.vNeedScrollBar=t._needScrollbar(i.vScroller,e.vScrolling),!1!==t._createBarIfNeeded(o,d,"v",v,u)&&(!(o&&!e.hScrolling&&(c.css("float","left"),e.contentWidth=c.width(),e.hScrolling=e.contentWidth>h-e.vbarContainer[0].offsetWidth,c.css("float",""),e.hScrolling&&!n&&(n=t.hNeedScrollBar=t._needScrollbar(i.hScroller,e.hScrolling),!1===t._createBarIfNeeded(n,d,"h",m,u))))&&(s=e.hbarContainer,r=e.vbarContainer,a=i.hScroller.scrollBarPosition,l=i.vScroller.scrollBarPosition,t._setScrollbarPosition(c,t,u,s,r,n,o,a,l,"h",e.hScrolling),void t._setScrollbarPosition(c,t,u,r,s,o,n,l,a,"v",e.vScrolling))))},_enableDisableScrollBar:function(t,e,i){var n=this.options;"v"===t?(e[i?"addClass":"removeClass"]("gcui-superpanel-vbarcontainer-disabled"),e.find("."+n.uiCSS.stateDefault)[i?"addClass":"removeClass"](n.uiCSS.stateDisabled)):"h"===t&&(e[i?"addClass":"removeClass"]("gcui-superpanel-hbarcontainer-disabled"),e.find("."+n.uiCSS.stateDefault)[i?"addClass":"removeClass"](n.uiCSS.stateDisabled)),e.children("."+f)[i?"hide":"show"]()},_initResizer:function(){var t,e,i=this,n=i.options,o=i._fields(),s=o.resizer;A.fn.resizable&&(!s&&n.allowResize&&(t=n.resizableOptions,e=t.stop,t.stop=function(t){i._resizeStop(t,i),A.isFunction(e)&&e(t)},o.resizer=s=i.element.resizable(t)),!n.allowResize&&o.resizer&&(s.resizable("destroy"),o.resizer=null))},_resizeStop:function(t,e){this.options.autoRefresh||e.paintPanel(!0),e._trigger("resized")},_createAdditionalDom:function(t,n,e){e.attr("tabindex")||(e.attr("tabindex","-1"),n.tabindex=!0);var o,i=n.stateContainer=A(s);n.contentWrapper=i.children(),o=n.templateWrapper=n.contentWrapper.children(),e.contents().each(function(t,e){var i=A(e);i.hasClass("gcui-superpanel-header")?n.header=i:i.hasClass("gcui-superpanel-footer")?n.footer=i:o[0].appendChild(e)}),void 0!==n.header&&e.prepend(n.header),e[0].appendChild(i[0]),void 0!==n.footer&&n.footer.insertAfter(i)},_setRounder:function(t,e){if(this.options.showRounder){if(e.addClass(this.options.uiCSS.cornerAll),t._rounderAdded)return;var i=GC.Spread.Sheets.util.browser;if(i.msie)return;var n,o,s="",r="";s=i.webkit?(r="WebkitBorderTopLeftRadius","WebkitBorderRadius"):i.mozilla?(r="MozBorderRadiusBottomleft","MozBorderRadius"):(r="border-top-left-radius","border-radius"),n=e.css(r),o=parseInt(n,10),e.css(s,o+1),t._rounderAdded=!0,t._radiusKey=s}else e.removeClass(this.options.uiCSS.cornerAll)},_setInnerElementsSize:function(t,e){var i,n,o,s,r=t.stateContainer,a=t.contentWrapper,l=0;void 0!==t.header&&(l+=t.header.outerHeight()),void 0!==t.footer&&(l+=t.footer.outerHeight()),i=r[0].style,n=e.innerHeight()-l,o=e.innerWidth(),i.display="none",i.height=n+"px",i.width=o+"px",(s=a[0].style).height=n+"px",s.width=o+"px",i.display=""}}),t.prototype.options=A.extend(!0,{},r.gcuiWidget.prototype.options,new i),A.gcui.registerWidget("superpanel",t.prototype)}}(r.superpanel||(r.superpanel={}))}(gcui=gcui||{}),function(g){!function(u){"use strict";var f=jQuery;u.extendWidgetOptions=function(t,e){var i=f.extend(!0,{},t,e);return delete i.constructor,i};var r,t=(r=g.gcuiWidget,__extends(e,r),e.prototype._createWidget=function(t,e){var i=t&&g.data.util.isClassInstance(t.data)&&!("function"==typeof gcuidatasource&&t.data instanceof gcuidatasource)&&t.data;i&&delete t.data,r.prototype._createWidget.apply(this,arguments),i&&(t.data=i,this.option("data",i))},e.prototype._create=function(){var t=this;if(!this.element.is("table"))throw"invalid markup";this._windowResizeTimer=0,this._dataOffset=0,this._scrollingState={x:null,y:null,index:0},this._initialized=!1,this._destroyed=!1,this._rendered=!1,this._eventUID=void 0,this._dataViewWrapper=void 0,this._originalHtml=void 0,this._originalAttr=void 0,this._originalCssText=void 0,this._autoHeight=void 0,this._autoWidth=void 0,this._renderCounter=0,this.$superPanelHeader=void 0,this.$topPagerDiv=void 0,this.$bottomPagerDiv=void 0,this.$groupArea=void 0,this.__uid=void 0,this._dataView=void 0,this.outerDiv=void 0,this.sketchTable=void 0,this.cellFormatter=void 0,this.rowStyleFormatter=void 0,this.cellStyleFormatter=void 0,this._eventUID=g.grid.getUID(),this._spinnerIsActivated=!1,this.deficientFilters={};var e="data"in this.options,i=e&&this.options.data;e&&delete this.options.data,this.options=f.extend(!0,{},this.options),e&&(this.options.data=i),window.applyTouchUtilEvents&&(f=window.applyTouchUtilEvents(f)),f.isFunction(window.gcuiASPNetParseOptions)&&window.gcuiASPNetParseOptions(this.options),this._initialized=!1,this._destroyed=!1,this._field("closestCulture",Globalize.findClosestCulture(this.options.culture)||Globalize.findClosestCulture("default")),this._dataViewWrapper=new g.grid.dataViewWrapper(this),this._originalHtml=this.element.html(),this._originalAttr={},this._originalCssText=this.element[0].style.cssText,this.element.addClass("gcui-gcuigrid-root"),this.element.wrap('<div class="'+this.options.uiCSS.widget+" gcui-gcuigrid "+this.options.uiCSS.content+" "+this.options.uiCSS.cornerAll+'"></div>'),this.outerDiv=this.element.parent();var n=this.element[0].style.height,o=this.element[0].style.width;n&&this.outerDiv.css("height",n),this._autoHeight=""==n||"auto"==n,o&&this.outerDiv.css("width",this.element[0].style.width),this._autoWidth=""==o||"auto"==o,this.element.css({height:"",width:""}),this.options.disabled&&this.disable(),this.cellFormatter=new g.grid.cellFormatterHelper,this.rowStyleFormatter=new g.grid.rowStyleFormatterHelper(this),this.cellStyleFormatter=new g.grid.cellStyleFormatterHelper(this),this._field("viewRenderBounds",{start:0,end:0}),this._allowVirtualScrolling()&&(this._field("viewRenderBounds").start=this._scrollingState.index,this._serverSideVirtualScrolling()&&(this._dataOffset=this._scrollingState.index)),this.element.addVisibilityObserver&&this.element.addVisibilityObserver(function(){t._initialized&&!t._destroyed&&t.setSize()},"gcuigrid"),this._renderCounter=0},e.prototype._destroy=function(){var t,i=this;try{this._view().dispose(),this._detachEvents(!0),(t=this._field("resizer"))&&t.dispose(),(t=this._field("frozener"))&&t.dispose(),(t=this._field("selectionui"))&&t.dispose(),(t=this._field("dragndrop"))&&t.dispose(),this._dataViewWrapper.dispose(),g.grid.remove$dataByPrefix(this.element,this._data$prefix),this.element.removeVisibilityObserver&&this.element.removeVisibilityObserver(),this.element.insertBefore(this.outerDiv),this.outerDiv.remove(),this.element.html(this._originalHtml),f.each(this._originalAttr,function(t,e){void 0===e?i.element.removeAttr(t):i.element.attr(t,e)}),this.element.removeClass("gcui-gcuigrid-root"),this.element[0].style.cssText=this._originalCssText}finally{this._destroyed=!0}},e.prototype._init=function(){this.$superPanelHeader=null,this.$topPagerDiv=null,this.$bottomPagerDiv=null,this.$groupArea=null,this._field("closestCulture",Globalize.findClosestCulture(this.options.culture)||Globalize.findClosestCulture("default")),this.options.data||(this._field("thead")||this._field("thead",g.grid.readTableSection(this.element,1)),this._field("tfoot")||this._field("tfoot",g.grid.readTableSection(this.element,3))),this._initialized=this._initialized||!1,this.ensureControl(!0)},e.prototype._setOption=function(t,e){var i,n,o=this["_preset_"+t],s=this.options[t];void 0!==o&&(e=o.apply(this,[e,s])),i=e!==s,r.prototype._setOption.apply(this,[t,e]),i&&void 0!==(n=this["_postset_"+t])&&n.apply(this,[e,s])},e.prototype.columns=function(){return this._field("columns")||[]},e.prototype.currentCell=function(t,e,i){var n,o=this._view(),s=this._rows();if(0===arguments.length)return(n=this._field("currentCell"))||this._field("currentCell",n=g.grid.cellInfo.outsideValue),n;if(!(n="number"!=typeof t?t._clone():new g.grid.cellInfo(t,e)).isEqual(g.grid.cellInfo.outsideValue)){if(!n._isValid())throw"invalid arguments";if(n._clip(this._getDataCellsRange()),0<=n.rowIndex()&&!(o._getRowInfo(s.item(n.rowIndex())).type&g.grid.rowType.data))return}return n._setGridView(this),this._changeCurrentCell(null,n,{changeSelection:i||!1,setFocus:!1}),this._field("currentCell")},e.prototype.data=function(){return this._dataViewWrapper.dataView().getSource()},e.prototype.dataView=function(){return this._dataViewWrapper.dataView()},e.prototype.doRefresh=function(t){f.isPlainObject(t)||(t={});var i,n=this,e=(g.grid.EXPANDO,t&&t.virtualScrollData);if(!this._initialized)try{this._prepareColumnOptions(this.options.columns,this.options.columnsAutogenerationMode,this._dataViewWrapper.getFieldsInfo(),!0,!0)}catch(t){throw t}finally{this._ownerise(!0),this._initialized=!0}if(!e){this._rebuildLeaves();var o=this._dataViewWrapper.data();this._dataViewWrapper.dataView(),f.each(this._field("leaves"),function(){this._totalsValue=o.totals?o.totals[this.dataKey]:void 0}),this.sketchTable=[],o.data&&o.data.length?(i=this._field("leaves"),f.each(o.data,function(t,e){n.sketchTable.push(n._buildSketchRow(e,i))})):o.emptyData&&(i=this._field("visibleLeaves"),f.each(o.emptyData,function(t,e){n.sketchTable.push(n._buildSketchRowEmptyDataItem(e,i,t===o.emptyData.length-1))}))}this._onRendering(t),e?this._refreshVirtual(t):this._refresh(t),this._onRendered(t),t&&f.isFunction(t.afterRefresh)&&t.afterRefresh.apply(this,[t])},e.prototype.beginEdit=function(){return this._beginEditInternal(null)},e.prototype.endEdit=function(){return this._endEditInternal(null)},e.prototype.ensureControl=function(t,e){this._loading(),f.isPlainObject(e)||(e={data:null,afterRefresh:null,beforeRefresh:null}),e._gridMarker=!0,this._initialized?this._convertWidgetsToOptions():(this._prepareColumnOptions(this.options.columns,this.options.columnsAutogenerationMode,this._dataViewWrapper.isDataLoaded()&&this._dataViewWrapper.getFieldsInfo(),this._dataViewWrapper.isDataLoaded(),!1),this._dataViewWrapper.isOwnDataView()||new g.grid.settingsManager(this).MapDVToWG()),this._ownerise(!0),this._initialized&&e&&f.isFunction(e.beforeRefresh)&&e.beforeRefresh.apply(this),this._field("allowVirtualScrolling",null),!0===t?this._dataViewWrapper.load(e):(this.doRefresh(e),this._loaded())},e.prototype.getCellInfo=function(t){var e=null;return(t=t&&this._findUntilOuterDiv(t,{td:!0,th:!0}))&&(e=this._view().getAbsoluteCellInfo(t)),e},e.prototype.getFilterOperatorsByDataType=function(t){return new g.grid.filterOperatorsCache(this).getByDataType(t||"string")},e.prototype.pageCount=function(){return this._customPagingEnabled()?Math.ceil(this.options.totalRows/this.options.pageSize)||1:this.options.allowPaging?this._dataViewWrapper.dataView().pageCount():1},e.prototype._serverShaping=function(){return!1},e.prototype._pageIndexForDataView=function(){return this.options.pageIndex},e.prototype.setSize=function(t,e){var o=this._view(),i={type:"",hScrollValue:null,vScrollValue:null},n=this.outerDiv,s=this._field("frozener"),r=this._field("visibleLeaves");o&&o.getScrollValue&&(i=o.getScrollValue()),!t&&0!==t||(this._autoWidth=!1,n.width(t)),!e&&0!==e||(this._autoHeight=!1,n.height(e)),f.each(r,function(t,e){var i=o.getHeaderCell(t),n=o.getJoinedCols(t);f(i).css("width",""),f.each(n,function(t,e){f(e).css("width","")})}),this._view().updateSplits(i),s&&s.refresh()},e.prototype.selection=function(){var t=this._field("selection");return t||this._field("selection",t=new g.grid.selection(this)),t},e.prototype._onDataViewCurrentPositionChanged=function(t,e){var i=this._currentCellFromDataView(this.currentCell().cellIndex());this.selection(),i=this.currentCell(i,null,!0)},e.prototype._resetDataProperties=function(){this.options.pageIndex=0;var t=this._field("viewRenderBounds");t.start=t.end=0},e.prototype._onDataViewLoading=function(){this._activateSpinner(),this._trigger("dataLoading")},e.prototype._onDataViewReset=function(t){new g.grid.settingsManager(this).MapDVToWG(),this._trigger("dataLoaded"),this.doRefresh(t),this._loaded()},e.prototype._onDataViewLoaded=function(){},e.prototype._loading=function(){this._activateSpinner(),this._trigger("loading")},e.prototype._loaded=function(){this._deactivateSpinner(),this._trigger("loaded")},e.prototype._buildSketchRow=function(t,e){var i,n,o,s,r,a=[],l=g.data.Expando.getFrom(t.values,!1),c=l?l[g.grid.EXPANDO]:null;for(i=0,n=e.length;i<n;i++)o=e[i],g.grid.validDataKey(o.dataKey)&&(s=c&&c.cellsAttributes?c.cellsAttributes[o.dataKey]:{},r=this._dataViewWrapper.getValue(t.values,o.dataKey),a.push({value:this.parse(o,r),__attr:s||{},__style:{}}));return a.originalRowIndex=t.originalRowIndex,a.rowType=g.grid.rowType.data,t.originalRowIndex%2!=0&&(a.rowType|=g.grid.rowType.dataAlt),a.__style={},a.__attr=c&&c.rowAttributes?c.rowAttributes:{},a},e.prototype._buildSketchRowEmptyDataItem=function(t,e,i){var n,o,s=[],r=e.length;for(n=0,o=t.length;n<o;n++)s.push({html:t[n],__attr:{colSpan:0<r&&i?r:1},__style:{}});return s.rowType=g.grid.rowType.emptyDataRow,s.__style={},s.__attr={},s},e.prototype._prepareColumnOptions=function(t,e,i,n,o){g.grid.traverse(t,function(t){t.isBand=f.isArray(t.columns)||"c1band"===t.clientType,t._originalDataKey=t.dataKey,t._originalHeaderText=t.headerText}),(new g.grid.bandProcessor).getVisibleHeight(t,!0);var s=[],r=this._originalHeaderRowData(),a=this._originalFooterRowData(),l=(e||"").toLowerCase(),c=this;n&&g.grid.columnsGenerator.generate(l,i,t),g.grid.setTraverseIndex(t),g.grid.traverse(t,function(t){t.isBand=f.isArray(t.columns)||"c1band"===t.clientType,g.grid.shallowMerge(t,u.c1basefield.prototype.options),t.isBand?t.clientType="c1band":(g.grid.shallowMerge(t,u.c1field.prototype.options),t.groupInfo=t.groupInfo||{},g.grid.shallowMerge(t.groupInfo,u.c1field.prototype.options.groupInfo),t.clientType||(t.clientType="c1field")),t.isLeaf&&!t.isBand&&s.push(t)}),this._field("leaves",s),n&&f.each(s,f.proxy(function(t,e){var i="number"==typeof e.dataKey?e.dataKey:t;"merge"!==l&&!0!==e.dynamic||void 0===e.headerText&&(c._dataViewWrapper&&c._dataViewWrapper.isBoundedToDOM()&&r&&i<r.length?e.headerText=f.trim(r[i]):g.grid.validDataKey(e.dataKey)&&(e.headerText=""+e.dataKey)),c._dataViewWrapper&&c._dataViewWrapper.isBoundedToDOM()&&a&&i<a.length&&(e._footerTextDOM=f.trim(a[i]))},this))},e.prototype._rebuildLeaves=function(){var t,i=[],e=[];this._showRowHeader()&&((t=g.grid.createDynamicField({clientType:"c1basefield",dataIndex:-1,travIdx:-1,parentVis:!0,allowMoving:!1,allowSizing:!1,allowSort:!1,isRowHeader:!0})).owner=this,i.push(t)),f.each(this.options.columns,function(t,e){i.push(e)}),this._columnsHeadersTable((new g.grid.bandProcessor).generateSpanTable(i,e)),this._field("leaves",e),this._onLeavesCreated()},e.prototype._onLeavesCreated=function(){var i,t=this._field("leaves"),n=this._dataViewWrapper.getFieldsInfo(),o=0,s=0;this._field("visibleLeaves",f.grep(t,function(t,e){return t.leavesIdx=e,g.grid.validDataKey(t.dataKey)?t.dataIndex=o++:t.dataIndex=-1,t.isBand||((i=n[t.dataKey])&&(t._underlyingDataType=i.type,t._underlyingDataFormatString=i.format),f.isFunction(t.dataParser)&&(t.dataParser=new t.dataParser)),!!t.parentVis&&(t.visLeavesIdx=s++,!0)}))},e.prototype._allowVirtualScrolling=function(){var t=this._field("allowVirtualScrolling");return t=t||this._field("allowVirtualScrolling",!this.options.allowPaging&&this.options.allowVirtualScrolling&&this.options.staticRowIndex<0&&"none"!==this.options.scrollMode&&!this._hasMerging())},e.prototype._dragndrop=function(t){void 0===t&&(t=!1);var e=this._field("dragndrop");return!e&&t&&this._field("dragndrop",e=new g.grid.uiDragndrop(this)),e},e.prototype._headerRows=function(){return this._view().headerRows()},e.prototype._filterRow=function(){return this._view().filterRow()},e.prototype._rows=function(){return this._view().bodyRows()},e.prototype._localizeFilterOperators=function(t){var n=new g.grid.filterOperatorsCache(this);f.each(t,function(t,e){if(e.name){var i=n.getByName(e.name);i&&(i.displayName=e.displayName)}})},e.prototype._selectionui=function(t){var e=this._field("selectionui");return!e&&t&&this._field("selectionui",e=new g.grid.uiSelection(this)),e},e.prototype._postset_allowColMoving=function(i,t){var n=this;f.each(this.columns(),function(t,e){i?n._dragndrop(!0).attach(e):n._dragndrop(!0).detach(e)});var e=this._field("groupedWidgets");e&&f.each(e,function(t,e){i?n._dragndrop(!0).attach(e):n._dragndrop(!0).detach(e)})},e.prototype._postset_allowSorting=function(t,e){this.ensureControl(!1)},e.prototype._postset_columns=function(t,e){this._initialized=!1,this.ensureControl(!0)},e.prototype._postset_allowPaging=function(t,e){this.ensureControl(!0)},e.prototype._postset_culture=function(t,e){throw"read-only"},e.prototype._postset_customFilterOperators=function(t,e){this._dataViewWrapper.dataView()},e.prototype._postset_data=function(t,e){this._ownerise(!1),g.grid.traverse(this.options.columns,function(t,e){if(t.dynamic){var i=f.inArray(t,e);0<=i&&e.splice(i,1)}else t.dataKey=t._originalDataKey,t.headerText=t._originalHeaderText}),this._initialized=!1,this._dataViewWrapper&&this._dataViewWrapper.dispose(),this._dataViewWrapper=new g.grid.dataViewWrapper(this),this.ensureControl(!0)},e.prototype._postset_disabled=function(i,t){var n=this,e=this._view();g.grid.iterateChildrenWidgets(this.outerDiv,function(t,e){e!==n&&e.option("disabled",i)}),e&&e.ensureDisabledState()},e.prototype._postset_groupIndent=function(t,e){this.ensureControl(!1)},e.prototype._postset_groupAreaCaption=function(t,e){var i=this._groupedColumns();!this.$groupArea||i&&i.length||this.$groupArea.html(t||"&nbsp;")},e.prototype._postset_highlightCurrentCell=function(t,e){var i=this.currentCell();i&&i._isValid()&&this._highlightCellPosition(i,t)},e.prototype._preset_pageIndex=function(t,e){if(isNaN(t))throw"out of range";function i(t){return o-1<t&&(t=o-1),t<0&&(t=0),t}var n,o=this.pageCount();return t=i(t),this.options.allowPaging&&t!==e&&(n={newPageIndex:t},t=this._onPageIndexChanging(n)?i(n.newPageIndex):e),t},e.prototype._postset_pageIndex=function(t,e){if(this.options.allowPaging){var i={newPageIndex:t};this._customPagingEnabled()?(this._convertWidgetsToOptions(),this._onPageIndexChanged(i)):this.ensureControl(!0,{afterRefresh:function(){this._onPageIndexChanged(i)}})}},e.prototype._preset_pageSize=function(t,e){if(isNaN(t))throw"out of range";return t<=0&&(t=1),t},e.prototype._postset_pageSize=function(t,e){this._resetDataProperties(),this.options.allowPaging&&!this._customPagingEnabled()&&this.ensureControl(!0)},e.prototype._postset_pagerSettings=function(t,e){this.ensureControl(!1)},e.prototype._postset_scrollMode=function(t,e){this.ensureControl(!1)},e.prototype._postset_selectionMode=function(t,e){var i=this.selection(),n=this.currentCell(),o=this.selection().selectedCells().length();i.beginUpdate(),i.clear(),n&&n._isValid()&&o&&i._selectRange(new g.grid.cellInfoRange(n,n),!1,!1,g.grid.cellRangeExtendMode.none,null),i.endUpdate(),this._view().toggleDOMSelection("none"===t)},e.prototype._postset_showFilter=function(t,e){this.ensureControl(!1)},e.prototype._postset_showGroupArea=function(t,e){this.ensureControl(!1)},e.prototype._postset_showRowHeader=function(t,e){this.ensureControl(!1)},e.prototype._postset_staticRowIndex=function(){"none"!==this.options.scrollMode&&this.ensureControl(!1)},e.prototype._postset_staticColumnIndex=function(){"none"!==this.options.scrollMode&&this.ensureControl(!1)},e.prototype._postset_allowVirtualScrolling=function(t,e){this.ensureControl(!1)},e.prototype._preset_allowVirtualScrolling=function(t,e){if(isNaN(t)||t<0)throw"out of range";return t},e.prototype._activateSpinner=function(){if(!this._spinnerIsActivated){var t=this.options.uiCSS;this.outerDiv.append('<div class="gcui-gcuigrid-overlay '+t.overlay+'"></div><span class="gcui-gcuigrid-loadingtext '+t.content+" "+t.cornerAll+'"><span class="'+t.icon+' ui-icon-clock"></span>'+this.options.loadingText+"</span>").find("> .gcui-gcuigrid-loadingtext").position({my:"center",at:"center center",of:this.outerDiv,collision:"none"}),this._spinnerIsActivated=!0}},e.prototype._customPagingEnabled=function(){return this.options.allowPaging&&0<=this.options.totalRows},e.prototype._deactivateSpinner=function(){if(this._spinnerIsActivated)try{this.outerDiv.find("> .gcui-gcuigrid-overlay, > .gcui-gcuigrid-loadingtext").remove()}finally{this._spinnerIsActivated=!1}},e.prototype._columnWidgetsFactory=function(t,e){var i,n=e.clientType;!n&&e.isBand&&(n="c1band"),e=f.extend({},e,{disabled:this.options.disabled});try{switch(f.data(t[0],"gcuigridowner",this),n){case"c1basefield":i=t.c1basefield(e);break;case"c1band":i=t.c1band(e);break;default:i=t.c1field(e)}}finally{f.removeData(t[0],"gcuigridowner")}return i},e.prototype._convertWidgetsToOptions=function(){this._initialized&&this._mergeWidgetsWithOptions&&(this._ownerise(!1),this._widgetsToOptions(),this._ownerise(!0))},e.prototype._field=function(t,e){return g.grid.dataPrefix(this.element,this._data$prefix,t,e)},e.prototype._removeField=function(t){var e=this._data$prefix+t;this.element.removeData(e)},e.prototype._prepareTotalsRequest=function(i){var t=this._field("leaves");return t&&this.options.showFooter?f.map(t,function(t,e){return!t.isBand&&g.grid.validDataKey(t.dataKey)&&t.aggregate&&"none"!==t.aggregate?i?[{column:t,aggregate:t.aggregate}]:[{dataKey:t.dataKey,aggregate:t.aggregate}]:null}):[]},e.prototype._widgetsToOptions=function(){var n=g.grid.flatten(this.options.columns);f.each(this.columns(),function(t,e){delete e.options.columns;var i=n[e.options.travIdx];f.extend(!0,i,e.options),i.filterValue=e.options.filterValue,i.filterOperator=e.options.filterOperator})},e.prototype._recreateColumnWidgets=function(){f.each(this.columns(),function(t,e){e.destroy()});var e,t,i,n,o,s,r,a=[],l=this._headerRows();if(l&&l.length())for(e=[],g.grid.traverse(this.options.columns,function(t){t.parentVis&&e.push(t)}),t=0,i=e.length;t<i;t++)n=e[t],o=l.item(n.thY),s=g.grid.rowAccessor.getCell(o,n.thX),r=this._columnWidgetsFactory(f(s),n),a.push(r.data(g.grid.widgetName(r)));this._field("columns",a)},e.prototype._groupedColumns=function(t){var i;if(t=!(i=this._field("groupedColumns"))||t){i=[];var e=this._field("leaves")||[],n=!1,o=function(t){return t.groupInfo&&t.groupInfo.position&&"none"!==t.groupInfo.position};f.each(e,function(t,e){o(e)?(n=n||void 0===e.groupedIndex)||i.push(e):delete e.groupedIndex}),n?f.each(e,function(t,e){o(e)&&(e.groupedIndex=i.length,i.push(e))}):(i.sort(function(t,e){return t.groupedIndex-e.groupedIndex}),f.each(i,function(t,e){e.groupedIndex=t})),this._field("groupedColumns",i)}return i||[]},e.prototype._ownerise=function(t){if(t){var o=this;g.grid.traverse(this.options.columns,function(t){var e,i,n;if(t.owner=o,(e=t.groupInfo)&&(e.owner=t,e.expandInfo))for(i=0,n=e.expandInfo.length;i<n;i++)e.expandInfo[i].owner=e})}else g.grid.traverse(this.options.columns,function(t){var e,i,n;if(delete t.owner,(e=t.groupInfo)&&(delete e.owner,e.expandInfo))for(i=0,n=e.expandInfo.length;i<n;i++)delete e.expandInfo[i].owner})},e.prototype._ensureRenderBounds=function(t){var e=this._totalRowsCount();return t.start<0&&(t.start=0),t.start=Math.min(t.start,e-1),t.end<0&&(t.end=0),t.end=Math.min(t.end,e-1),t},e.prototype._refresh=function(t){(new g.grid.grouper).group(this,this.sketchTable,this._field("leaves")),(new g.grid.merger).merge(this.sketchTable,this._field("visibleLeaves"));var e=this._field("viewRenderBounds");this._ensureRenderBounds(e),"none"!==this.options.scrollMode?this._field("view",new g.grid.fixedView(this,this._field("viewRenderBounds"))):this._field("view",new g.grid.flatView(this,this._field("viewRenderBounds"))),this._render(),this._ownerise(!1),this._recreateColumnWidgets(),this._ownerise(!0),this.options.allowPaging&&(this.$topPagerDiv&&this.$topPagerDiv.gcuipager(this._pagerSettings2PagerWidgetSettings()).css("zIndex",5),this.$bottomPagerDiv&&this.$bottomPagerDiv.gcuipager(this._pagerSettings2PagerWidgetSettings()).css("zIndex",5))},e.prototype._refreshVirtual=function(t){var e=t.virtualScrollData,i={top:0,bottom:0};e.data&&(i=this._processVirtualData(e)),this._updateRowInfos(e,i),this._renderVirtualIntoView(e)},e.prototype._updateRowInfos=function(t,e){var i,n,o,s,r=this._field("viewRenderBounds"),a=this._view(),l=t.newBounds,c=this._view().bodyRows();switch(t.mode){case"reset":break;case"overlapBottom":for(i={start:l.start-r.start,end:r.end-r.start},o=l.start-r.start,n=i.start;n<=i.end;n++)(s=a._getRowInfo(c.item(n),!1)).sectionRowIndex-=o,s.dataItemIndex+=e.top,a._setRowInfo(s.$rows,s);break;case"overlapTop":for(i={start:r.start-r.start,end:l.end-r.start},o=r.start-l.start,n=i.start;n<=i.end;n++)(s=a._getRowInfo(c.item(n),!1)).sectionRowIndex+=o,s.dataItemIndex+=e.top,a._setRowInfo(s.$rows,s)}},e.prototype._renderVirtualIntoView=function(t){function e(t){return t.rowType&g.grid.rowType.data?t.originalRowIndex:-1}var i,n,o,s,r=this._field("viewRenderBounds"),a=this._view();switch(t.mode){case"reset":for(a._clearBody(),n=t.newBounds.start;n<=t.newBounds.end;n++)o=this.sketchTable[n-this._dataOffset],a._insertBodyRow(o,-1,e(o),n);a._rebuildOffsets();break;case"overlapBottom":for(i={start:t.newBounds.start,end:r.end},n=0;n<i.start-r.start;n++)a._removeBodyRow(0,!1);for(n=i.end+1;n<=t.newBounds.end;n++)o=this.sketchTable[n-this._dataOffset],a._insertBodyRow(o,-1,e(o),n);break;case"overlapTop":for(i={start:r.start,end:t.newBounds.end},n=0;n<r.end-t.newBounds.end;n++)a._removeBodyRow(i.end-i.start+1,!1);for(s=0,n=t.newBounds.start;n<r.start;n++)o=this.sketchTable[n-this._dataOffset],a._insertBodyRow(o,s++,e(o),n)}},e.prototype._processVirtualData=function(t){var e,i,n,o,s=this._dataViewWrapper,r=s.dataView().getSource(),a=this._field("leaves"),l=0,c={top:0,bottom:0},u=this._serverSideVirtualScrollingMargin();switch(t.mode){case"reset":for(this.sketchTable.splice(0,this.sketchTable.length),s._unsafeSplice(0,r.length),this._dataOffset=t.request.index,i=0;i<t.data.length;i++)s._unsafePush(e=t.data[i]),this.sketchTable.push(this._buildSketchRow(s._wrapDataItem(e,i),a));break;case"overlapBottom":for(i=0;i<t.data.length;i++)s._unsafePush(e=t.data[i]),this.sketchTable.push(this._buildSketchRow(s._wrapDataItem(e,r.length-1),a));c.bottom=t.data.length;break;case"overlapTop":for(i=t.data.length-1;0<=i;i--)s._unsafeSplice(0,0,e=t.data[i]),this.sketchTable.splice(0,0,this._buildSketchRow(s._wrapDataItem(e,i),a));this._dataOffset=t.request.index,c.top=t.data.length}for(n=this._ensureRenderBounds({start:t.newBounds.start,end:t.newBounds.end}),0<(l=(o={start:this._dataOffset,end:this._dataOffset+r.length-1}).end-n.end-u)&&(c.bottom-=l,s._unsafeSplice(r.length-l,l),this.sketchTable.splice(this.sketchTable.length-l,l)),0<(l=n.start-o.start-u)&&(c.top-=l,s._unsafeSplice(0,l),this.sketchTable.splice(0,l),this._dataOffset+=l),i=0;i<this.sketchTable.length;i++)this.sketchTable[i].originalRowIndex=i;return s._refreshSilent(),c},e.prototype._needToCreatePagerItem=function(){return!0===this.options.allowPaging},e.prototype._isMobileEnv=function(){return this._isMobile},e.prototype._render=function(){var t,e=this._view(),i=this.options,n=this.options.uiCSS;e.render(),t=this.outerDiv,"none"!==i.scrollMode&&(t=this.outerDiv.find("div.gcui-gcuigrid-scroller:first")),this.$superPanelHeader=null,this.$topPagerDiv&&(this.$topPagerDiv.data("gcui-gcuipager")&&this.$topPagerDiv.gcuipager("destroy"),this.$topPagerDiv.remove()),this.$topPagerDiv=null,!this._needToCreatePagerItem()||"top"!==i.pagerSettings.position&&"topAndBottom"!==i.pagerSettings.position||this.$topPagerDiv||(t.prepend(this.$superPanelHeader=f('<div class="gcui-superpanel-header"></div>')),this.$superPanelHeader.prepend(this.$topPagerDiv=f('<div class="gcui-gcuigrid-header '+n.header+" "+n.cornerTop+'"></div>'))),i.showGroupArea?this._processGroupArea(t):this.$groupArea=null,this.$bottomPagerDiv&&(this.$bottomPagerDiv.data("gcui-gcuipager")&&this.$bottomPagerDiv.gcuipager("destroy"),this.$bottomPagerDiv.remove()),this.$bottomPagerDiv=null,!this._needToCreatePagerItem()||"bottom"!==i.pagerSettings.position&&"topAndBottom"!==i.pagerSettings.position||this.$bottomPagerDiv||t.append(this.$bottomPagerDiv=f('<div class="gcui-gcuigrid-footer gcui-superpanel-footer '+n.stateDefault+" "+n.cornerBottom+'"></div>'))},e.prototype._processGroupArea=function(t){var n=this,e=this._groupedColumns(),o=[];this.$groupArea=f('<div class="'+this.options.uiCSS.content+" "+this.options.uiCSS.helperClearFix+'"></div>'),0<e.length?f.each(e,function(t,e){var i=f('<a href="#"></a>').appendTo(n.$groupArea);try{f.data(i[0],"gcuigridowner",n),i.c1groupedfield(f.extend({},{allowMoving:e.allowMoving,allowSort:e.allowSort,dataIndex:e.dataIndex,headerText:e.headerText,isBand:e.isBand,isLeaf:e.isLeaf,linearIdx:e.linearIdx,parentIdx:e.parentIdx,sortDirection:e.sortDirection,travIdx:e.travIdx,groupedIndex:e.groupedIndex},{disabled:n.options.disabled}))}finally{f.removeData(i[0],"gcuigridowner")}o.push(i.data("gcui-c1groupedfield"))}):this.$groupArea.addClass("gcui-gcuigrid-group-area").css("padding",0).html(this.options.groupAreaCaption||"&nbsp;"),this._field("groupedWidgets",o),this.$superPanelHeader||t.prepend(this.$superPanelHeader=f('<div class="gcui-superpanel-header"></div>')),this.$superPanelHeader.prepend(this.$groupArea),this._dragndrop(!0).attachGroupArea(this.$groupArea)},e.prototype._pagerSettings2PagerWidgetSettings=function(){return f.extend({},this.options.pagerSettings,{disabled:this.options.disabled,pageCount:this.pageCount(),pageIndex:this.options.pageIndex,pageIndexChanging:f.proxy(this._onPagerWidgetPageIndexChanging,this),pageIndexChanged:f.proxy(this._onPagerWidgetPageIndexChanged,this)})},e.prototype._showRowHeader=function(){return!0===this.options.showRowHeader&&"right"!==this.options.staticColumnsAlignment},e.prototype._attachEvents=function(){var t=this._view(),e=t.focusableElement(),n=this;e.bind("keydown."+this.widgetName,f.proxy(this._onKeyDown,this)),e.bind("keypress."+this.widgetName,f.proxy(this._onKeyPress,this)),f.each(t.subTables(),function(t,e){var i=e.element();i&&(i.tHead&&f(i.tHead).bind("click."+n.widgetName,f.proxy(n._onClick,n)),i.tBodies.length&&f(i.tBodies[0]).bind("click."+n.widgetName,f.proxy(n._onClick,n)).bind("dblclick."+n.widgetName,f.proxy(n._onDblClick,n)).bind("mousemove."+n.widgetName,f.proxy(n._onMouseMove,n)).bind("mouseout."+n.widgetName,f.proxy(n._onMouseOut,n)))}),f(window).bind("resize."+this.widgetName+"."+this._eventUID,f.proxy(this._onWindowResize,this))},e.prototype._detachEvents=function(t){var e,i=this._view(),n=this;this._windowResizeTimer=0,f(window).unbind("resize."+this.widgetName+"."+this._eventUID),i&&((e=i.focusableElement()).unbind("keydown."+this.widgetName),e.unbind("keypress."+this.widgetName),f.each(i.subTables(),function(){var t=this.element();t&&(t.tHead&&f(t.tHead).unbind("."+n.widgetName),t.tBodies.length&&f(t.tBodies[0]).unbind("."+n.widgetName))}))},e.prototype._handleSort=function(t,e){var i,n,o=this.options.columns,s=t.travIdx;t&&this.options.allowSorting&&(i="none"!==t.sortDirection&&"ascending"===t.sortDirection?"descending":"ascending",n={column:t,sortDirection:i,sortCommand:t.dataKey+" "+("ascending"==i?"asc":"desc")},this._onColumnSorting(n)&&(t.sortDirection=n.sortDirection,e?t.sortOrder=this._customSortOrder++:(this._customSortOrder=1e3,f.each(this.columns(),function(t,e){e.options.sortOrder=0,e.options.travIdx===s||e.options.groupInfo&&"none"!==e.options.groupInfo.position||(e.options.sortDirection="none")}),g.grid.traverse(o,function(t){t.sortOrder=0,t.travIdx===s||t.groupInfo&&"none"!==t.groupInfo.position||(t.sortDirection="none")})),n={column:t,sortDirection:t.sortDirection,sortCommand:t.dataKey+" "+("ascending"===t.sortDirection?"asc":"desc")},this._customPagingEnabled()?(this._convertWidgetsToOptions(),this._onColumnSorted(n)):this.ensureControl(!0,{afterRefresh:function(){this._onColumnSorted(n)}})))},e.prototype._handleDragnDrop=function(t,e,i,n,o){var s=g.grid.getColumnByTravIdx(this.options.columns,t),r=g.grid.getColumnByTravIdx(this.options.columns,e),a=n?"groupArea":"columns",l=o?"groupArea":"columns";o?this._onColumnGrouping({drag:s.found,drop:r?r.found:null,dragSource:a,dropSource:l,at:i})&&this.ensureControl(!0,{beforeRefresh:function(){if(r)switch(i){case"left":s.found.groupedIndex=r.found.groupedIndex-.5;break;case"right":s.found.groupedIndex=r.found.groupedIndex+.5}else s.found.groupedIndex=0;n||f.extend(!0,s.found,{groupInfo:{position:"header"}})},afterRefresh:function(){this._onColumnGrouped({drag:s.found,drop:r?r.found:null,dragSource:a,dropSource:l,at:i})}}):this._onColumnDropping({drag:s.found,drop:r.found,at:i})&&this.ensureControl(!1,{beforeRefresh:function(){switch(s.at.splice(s.found.linearIdx,1),i){case"left":s.at===r.at&&s.found.linearIdx<r.found.linearIdx?r.at.splice(r.found.linearIdx-1,0,s.found):r.at.splice(r.found.linearIdx,0,s.found);break;case"right":s.at===r.at&&s.found.linearIdx<r.found.linearIdx?r.at.splice(r.found.linearIdx,0,s.found):r.at.splice(r.found.linearIdx+1,0,s.found);break;case"center":r.found.columns.push(s.found)}g.grid.setTraverseIndex(this.options.columns)},afterRefresh:function(){this._onColumnDropped({drag:s.found,drop:r.found,at:i})}})},e.prototype._handleFilter=function(t,e,i){var n,o,s=new g.grid.filterOperatorsCache(this).getByName(e);!s||1<s.arity&&(null===(n=this.parse(t.options,i))||"string"!==g.grid.getDataType(t.options)&&isNaN(n))||(o={column:t.options,operator:s.name,value:n},this._onColumnFiltering(o)&&(t.options.filterValue=o.value,t.options.filterOperator=o.operator,this._resetDataProperties(),this._customPagingEnabled()?(this._convertWidgetsToOptions(),this._onColumnFiltered({column:t.options})):this.ensureControl(!0,{afterRefresh:function(){this._onColumnFiltered({column:t.options})}})))},e.prototype._handleUngroup=function(t){var e,i=g.grid.getColumnByTravIdx(this.options.columns,t);i&&i.found&&(e=i.found,this._onColumnUngrouping({column:e})&&this.ensureControl(!0,{beforeRefresh:function(){delete e.groupedIndex,f.extend(!0,e,{groupInfo:{position:"none"}})},afterRefresh:function(){this._onColumnUngrouped({column:e})}}))},e.prototype._onVirtualScrolling=function(t,e,i,n,o,s){this.ensureControl(this._serverSideVirtualScrolling(),{virtualScrollData:{newBounds:t,request:e,mode:i,data:s},afterRefresh:function(t){var e=this._field("viewRenderBounds");f.extend(e,t.virtualScrollData.newBounds),this._view()._adjustRowsHeights(),o(n)}})},e.prototype._handleVirtualScrolling=function(t,e){var i,n=this._field("viewRenderBounds"),o=this._ensureRenderBounds({start:t,end:t+this.options.pageSize-1}),s=this._ensureRenderBounds({start:this._dataOffset,end:this._dataOffset+this._dataViewWrapper.dataView().count()-1}),r=null;if(o.start>n.end||o.end<n.start?i="reset":o.start>n.start?i="overlapBottom":o.start<n.start&&(i="overlapTop"),this._serverSideVirtualScrolling())switch(i){case"reset":r={index:t,maxCount:this.options.pageSize};break;case"overlapBottom":o.end>s.end&&(r={index:s.end+1,maxCount:this.options.pageSize});break;case"overlapTop":o.start<s.start&&((r={index:Math.max(0,s.start-this.options.pageSize),maxCount:0}).maxCount=s.start-r.index)}"none"!==i&&this._onVirtualScrolling(o,r,i,t,e)},e.prototype._serverSideVirtualScrolling=function(){return!1},e.prototype._serverSideVirtualScrollingMargin=function(){return 2*this.options.pageSize},e.prototype._onColumnDropping=function(t){return this._trigger("columnDropping",null,t)},e.prototype._onColumnDropped=function(t){this._trigger("columnDropped",null,t)},e.prototype._onColumnGrouping=function(t){return this._trigger("columnGrouping",null,t)},e.prototype._onColumnGrouped=function(t){this._trigger("columnGrouped",null,t)},e.prototype._onColumnUngrouping=function(t){return this._trigger("columnUngrouping",null,t)},e.prototype._onColumnUngrouped=function(t){this._trigger("columnUngrouped",null,t)},e.prototype._onColumnFiltering=function(t){return this._trigger("filtering",null,t)},e.prototype._onColumnFiltered=function(t){this._trigger("filtered",null,t)},e.prototype._onFilterOperatorsListShowing=function(t){this._trigger("filterOperatorsListShowing",null,t)},e.prototype._onColumnSorting=function(t){return this._trigger("sorting",null,t)},e.prototype._onColumnSorted=function(t){this._trigger("sorted",null,t)},e.prototype._onCurrentCellChanged=function(t,e){var i=this.options,n=this.currentCell(),o=this._gridDataRowIndexToDataView(n.rowIndex());this._dataViewWrapper.currentPosition(o),"none"!==i.scrollMode&&n&&!n.isEqual(g.grid.cellInfo.outsideValue)&&this._view().scrollTo(n),this._trigger("currentCellChanged");var s=t&&(t.type||"").toLowerCase()||"";if(e.changeSelection){var r=this.selection(),a=this.options.selectionMode.toLowerCase(),l=e.selectionExtendMode||g.grid.cellRangeExtendMode.none;if(r.beginUpdate(),s){if(n._isValid())switch(s){case"click":t.shiftKey&&(r._multipleRangesAllowed()||"singlerange"===a)||r._startNewTransaction(n),t.shiftKey&&t.ctrlKey?r._clearRange(new g.grid.cellInfoRange(n,n),l):r._selectRange(new g.grid.cellInfoRange(r._anchorCell(),n),t.ctrlKey,t.shiftKey,l,null);break;case"keydown":t.shiftKey&&(r._multipleRangesAllowed()||"singlerange"===a)||r._startNewTransaction(n),r._selectRange(new g.grid.cellInfoRange(r._anchorCell(),n),!1,t.shiftKey,g.grid.cellRangeExtendMode.none,null)}}else r.clear(),n._isValid()&&(r._startNewTransaction(n),r._selectRange(new g.grid.cellInfoRange(n,n),!1,!1,g.grid.cellRangeExtendMode.none,null));r.endUpdate()}"click"===s&&this._editBySingleClick()&&this._beginEditInternal(t)},e.prototype._onPageIndexChanging=function(t){return this._trigger("pageIndexChanging",null,t)},e.prototype._onPageIndexChanged=function(t){this._trigger("pageIndexChanged",null,t)},e.prototype._onPagerWidgetPageIndexChanging=function(t,e){e.handled=!0},e.prototype._onPagerWidgetPageIndexChanged=function(t,e){this._setOption("pageIndex",e.newPageIndex)},e.prototype._onRendering=function(t){var e=this._view();this._rendered=!1,t.virtualScrollData?(this.selection().clear(),this.options.highlightCurrentCell&&this._highlightCellPosition(this.currentCell(),!1)):(e&&e.dispose(),this._detachEvents(!1),this.element.detach(),this.element.empty(),this.outerDiv.empty(),this.outerDiv.append(this.element),this._field("selectionui")&&(this._field("selectionui").dispose(),this._field("selectionui",null)),this._field("resizer")&&(this._field("resizer").dispose(),this._field("resizer",null)),this._field("frozener")&&(this._field("frozener").dispose(),this._field("frozener",null)));var i=(this._field("currentCell")||g.grid.cellInfo.outsideValue)._clone();i._setGridView(null),this._field("currentCellPrev",i),this._field("currentCell",null),this._trigger("rendering")},e.prototype._onRendered=function(t){var e,n,i=this._view();this.selection().selectedCells().length(),this._rendered=!0,this._field("selection",null),this._setAttr(i.focusableElement(),"tabIndex",0),e=this._field("currentCellPrev"),(e=this._currentCellFromDataView(e.cellIndex()))._isEdit(!1),!e._isValid()&&this.options.showSelectionOnRender&&(e=this._getFirstDataRowCell(0)),this.currentCell(e,null,!0),t.virtualScrollData||(this._attachEvents(),this._selectionui(!0),n=new g.grid.uiResizer(this),f.each(this.columns(),function(t,e){var i=e.options;i.visible&&i.parentVis&&i.isLeaf&&n.addElement(e)}),this._field("resizer",n),i.updateSplits(this._scrollingState),"none"!==this.options.scrollMode&&this._field("frozener",new g.grid.uiFrozener(this))),this._renderCounter++,this._trigger("rendered")},e.prototype._onClick=function(t){if(this._canInteract()&&t.target){var e,i,n=this._view(),o=this._findUntilOuterDiv(t.target,{td:!0,th:!0}),s=g.grid.cellRangeExtendMode.none;if(o){if(f(t.target).hasClass("gcui-gcuigrid-grouptogglebtn"))return this._onGroupBtnClick(t),t.stopPropagation(),!1;if(!(e=f(o).closest("tr")).length)return;i=n.getAbsoluteCellInfo(o),(e.hasClass("gcui-gcuigrid-datarow")||e.hasClass("gcui-gcuigrid-headerrow"))&&((i.cellIndex()<0||i.rowIndex()<0)&&(s=0<=i.rowIndex()?(i=new g.grid.cellInfo(0,i.rowIndex()),g.grid.cellRangeExtendMode.row):(i=this._getFirstDataRowCell(i.cellIndex()),g.grid.cellRangeExtendMode.column)),this._changeCurrentCell(t,i,{changeSelection:!0,setFocus:!f(t.target).is(":focus"),selectionExtendMode:s}));var r={cell:i};this._trigger("cellClicked",null,r)}}},e.prototype._onDblClick=function(t){this._editBySingleClick()||this._beginEditInternal(t)},e.prototype._onGroupBtnClick=function(t){if(this._canInteract()){var e,i,n=f(t.target).closest("tr"),o=g.grid.groupHelper,s=o.getGroupInfo(n[0]);s&&(e=o.getColumnByGroupLevel(this._field("leaves"),s.level))&&((i=e.groupInfo.expandInfo[s.index]).isExpanded?i.collapse():i.expand(t.shiftKey),this.setSize())}},e.prototype._onKeyDown=function(t){if(!this._canInteract())return!0;var e,i=t.target.tagName.toLowerCase(),n=!1,o=this.currentCell(),s=g.getKeyCodeEnum();if(("input"===i||"option"===i||"select"===i||"textarea"===i)&&0===f(t.target).closest("tr.gcui-gcuigrid-datarow").length)return!0;if(this.options.allowEditing){if((t.which===s.ESCAPE||113===t.which)&&o._isValid()&&o._isEdit())return this._endEditInternal(t),!1;if(113===t.which)return this._beginEditInternal(t),!1}if(!this.options.allowKeyboardNavigation||t.which===s.TAB)return!0;var r,a,l=0;a=this._allowVirtualScrolling?(l=this._scrollingState.index,r=new g.grid.cellInfo(o.cellIndex(),o.rowIndex()+l),this._getDataCellsRange(!0)):(r=o,this._getDataCellsRange(!1));var c=!1,u=!1;switch(t.which){case s.DOWN:case s.PAGE_DOWN:c=!0;case s.UP:case s.PAGE_UP:u=!0;case s.LEFT:case s.RIGHT:case s.HOME:case s.END:case s.TAB:e=this._getNextCurrencyPos(a,r,t.keyCode,t.shiftKey),n=this._canMoveToAnotherCell(t.target,t.which)}if(n){var d=this._getDataCellsRange(!1),h=this;if(this._allowVirtualScrolling()&&c&&e.rowIndex>d.bottomRight().rowIndex()+l||u&&e.rowIndex-l<d.topLeft().rowIndex()){var p=e.rowIndex;c&&(p-=d._height()),this._view().vsUI.scrollTo(p,function(){h._changeCurrentCell(t,new g.grid.cellInfo(e.cellIndex,e.rowIndex-h._scrollingState.index),{changeSelection:!0,setFocus:!0}),f(h._view().focusableElement()).focus()})}else this._changeCurrentCell(t,new g.grid.cellInfo(e.cellIndex,e.rowIndex-l),{changeSelection:!0,setFocus:!0});return!1}return!0},e.prototype._onKeyPress=function(t){if(this._canInteract()&&this.options.allowEditing){var e,i,n,o=t.which,s=this.currentCell();if(o&&s._isValid()&&!s._isEdit()&&"input"!==(e=t.target.tagName.toLowerCase())&&"option"!==e&&"select"!==e&&"textarea"!==e&&(i=f(t.target).closest(".gcui-gcuigrid-table")).length&&(n=f.map(this._view().subTables(),function(t,e){return t.element()}),0<=f.inArray(i[0],n)&&f.gcuiutil.charValidator.isPrintableChar(String.fromCharCode(o))))return this._beginEditInternal(t),!1}},e.prototype._onMouseMove=function(t){var e,i,n,o,s,r,a=this._view(),l=this._field("frozener"),c=g.grid.renderState;if(this.options.highlightOnHover&&this._canInteract()&&(!l||!l.inProgress())&&(e=this._findUntilOuterDiv(t.target,{td:!0,th:!0}))){if(!(i=f(e).closest("tr")).length||!i.hasClass("gcui-gcuigrid-datarow")&&!i.hasClass("gcui-gcuigrid-headerrow"))return;n=a.getAbsoluteCellInfo(e),o=this._field("hoveredRow"),n.rowIndex()!==o&&(void 0!==o&&(s=this._rows().item(o))&&(r=a._getRowInfo(s),a._changeRowRenderState(r,c.hovered,!1),this.rowStyleFormatter.format(r)),o=n.rowIndex(),this._field("hoveredRow",o),0<=o&&(s=this._rows().item(o))&&(r=a._getRowInfo(s),a._changeRowRenderState(r,c.hovered,!0),this.rowStyleFormatter.format(r)))}},e.prototype._onMouseOut=function(t){if(this._canInteract()&&0===f(t.relatedTarget).closest(".gcui-gcuigrid-data").length){var e,i,n=this._field("hoveredRow"),o=this._view();0<=n&&(e=this._rows().item(n))&&(i=o._getRowInfo(e),o._changeRowRenderState(i,g.grid.renderState.hovered,!1),this.rowStyleFormatter.format(i))}},e.prototype._onWindowResize=function(t){var e=this;0<this._windowResizeTimer&&(window.clearTimeout(this._windowResizeTimer),this._windowResizeTimer=0),-1!==this._windowResizeTimer&&(this._windowResizeTimer=window.setTimeout(function(){e._windowResizeTimer=-1;try{!e._destroyed&&e._initialized&&e.element.parent().length&&e.setSize()}finally{e._windowResizeTimer=0}},50))},e.prototype._fieldResized=function(t,e,i){e<0&&(e=0),i<=0&&(i=1);var n={column:t.options,oldWidth:e,newWidth:i};if(!1!==this._trigger("columnResizing",null,n)){(isNaN(n.newWidth)||n.newWidth<0)&&(n.newWidth=1),t.option("width",n.newWidth);var o={column:t.options};this._trigger("columnResized",null,o)}},e.prototype._changeCurrentCell=function(t,e,i){var n,o,s=this.currentCell(),r=this._getDataCellsRange(),a=this.options.highlightCurrentCell;if(r._isValid()&&r._containsCellInfo(e)||e.isEqual(g.grid.cellInfo.outsideValue))if(s.cellIndex()!==e.cellIndex()||s.rowIndex()!==e.rowIndex()){if(n={cellIndex:e.cellIndex(),rowIndex:e.rowIndex(),oldCellIndex:s.cellIndex(),oldRowIndex:s.rowIndex()},!this._trigger("currentCellChanging",null,n))return!1;this.options.allowEditing&&s._isEdit()&&!this._endEditInternal(null)||(r._containsCellInfo(s)&&(a&&this._highlightCellPosition(s,!1),(o=s.tableCell())&&f(o).removeAttr("tabIndex")),(s=e._clone())._setGridView(this),a&&this._highlightCellPosition(s,!0),(o=s.tableCell())&&(f(o).attr("tabIndex",0),i.setFocus&&s._isEdit()),this._field("currentCell",s),this._onCurrentCellChanged(t,i))}else a&&this._highlightCellPosition(s,!0),(o=s.tableCell())&&f(o).attr("tabIndex",0),t&&!s._isEdit()&&this._editBySingleClick()&&this._beginEditInternal(t);return!0},e.prototype._highlightCellPosition=function(t,e){if(t&&t._isValid()){var i,n,o,s=t.cellIndexAbs(),r=t.rowIndexAbs(),a=g.grid.renderState,l=this._view();(n=l.getHeaderCell(s))&&(i=l._getRowInfo(this._headerRows().item(t.column().thY)),n=f(n),o=l._changeCellRenderState(n,a.current,e),this.cellStyleFormatter.format(n,s,t.column(),i,o)),(n=l.getJoinedRows(r,0))&&(i=l._getRowInfo(n),l._changeRowRenderState(i,a.current,e),this.rowStyleFormatter.format(i)),(n=l.getCell(s,r))&&(n=f(n),o=l._changeCellRenderState(n,a.current,e),this.cellStyleFormatter.format(n,s,t.column(),i,o))}},e.prototype._beginEditInternal=function(t){if(this._canInteract()&&this.options.allowEditing){var e=this.currentCell().column();if(e&&!e.readOnly)return(new g.grid.cellEditorHelper).currentCellEditStart(this,t)}return!1},e.prototype._endEditInternal=function(t){if(this._canInteract()&&this.options.allowEditing){var e=(new g.grid.cellEditorHelper).currentCellEditEnd(this,t);return e&&!this._allowVirtualScrolling()&&this._view().ensureHeight(this.currentCell().rowIndex()),e}return!1},e.prototype._onViewInsertEmptyRow=function(t,e,i,n,o){return null},e.prototype._onViewCreateEmptyCell=function(t,e,i){return null},e.prototype._onViewCellRendered=function(t,e,i,n){},e.prototype._onViewRowRendered=function(t){},e.prototype._getDataParser=function(t){return t.dataParser||g.data.defaultParsers[t.dataType]||g.data.defaultParsers.string},e.prototype.parse=function(t,e){var i=g.grid.getDataType(t),n=g.grid.getDataType(t);return f.isFunction(e)&&(e=e()),e=g.data.convert(e,i,n,{culture:this._field("closestCulture"),format:t.dataFormatString||t._underlyingDataFormatString,nullString:this.options.nullString,parser:t.dataParser})},e.prototype.toStr=function(t,e){this._dataViewWrapper.dataView();var i=g.grid.getDataType(t);return e=g.data.convert(e,i,"string",{culture:this._field("closestCulture"),format:t.dataFormatString||t._underlyingDataFormatString,nullString:this.options.nullString,parser:t.dataParser})},e.prototype.parseFailed=function(t,e,i,n){return e},e.prototype._funcOptions=function(){return["cellStyleFormatter","rowStyleFormatter","afterCellEdit","afterCellUpdate","beforeCellEdit","beforeCellUpdate","cellClicked","columnDragging","columnDragged","columnDropping","columnDropped","columnResizing","columnResized","columnGrouping","columnGrouped","columnUngrouping","columnUngrouped","currentCellChanging","currentCellChanged","filtering","filtered","filterOperatorsListShowing","groupAggregate","groupText","invalidCellValue","pageIndexChanging","pageIndexChanged","selectionChanged","sorting","sorted","dataLoading","dataLoaded","loading","loaded","rendering","rendered"]},e.prototype._canInteract=function(){return!this.options.disabled},e.prototype._canMoveToAnotherCell=function(t,e){var i,n,o;switch(t.tagName.toLowerCase()){case"input":return f(t).hasClass("gridinput")?"text"!==t.type||(i=t.value.length,n=new g.grid.domSelection(t).getSelection(),e===(o=g.getKeyCodeEnum()).UP||e===o.DOWN||e===o.PAGE_DOWN||e===o.PAGE_UP||0===n.length&&(0===n.start&&(e===o.LEFT||e===o.HOME)||n.end>=i&&(e===o.RIGHT||e===o.END))):!1;case"textarea":case"select":return!1}return!0},e.prototype._editBySingleClick=function(){var t=(this.options.editingInitOption||"").toLowerCase();switch(t){case"click":case"doubleclick":break;case"auto":default:t=this._isMobileEnv()?"click":"doubleclick"}return"click"===t},e.prototype._getDataToAbsOffset=function(){var t=0,e=0,i=this._headerRows();return this._showRowHeader()&&t++,i&&(e+=i.length()),this._filterRow()&&e++,{x:t,y:e}},e.prototype._gridDataRowIndexToDataView=function(t){var e;return g.grid.rowType,!(t<0)&&(e=this._view()._getRowInfo(this._rows().item(t))).type&g.grid.rowType.data?e.dataItemIndex:-1},e.prototype._currentCellFromDataView=function(t){var e=this._dataViewWrapper.currentPosition(),i=new g.grid.cellInfo(t,this._dataViewDataRowIndexToGrid(e),null);return i.rowIndex()<0?i.cellIndex(-1):i.cellIndex()<0&&i.cellIndex(0),i},e.prototype._dataViewDataRowIndexToGrid=function(t){var e,i,n,o=g.grid.rowType,s=this._view(),r=this._rows();if(t<0)return-1;for(e=0,i=r.length();e<i;e++)if((n=s._getRowInfo(r.item(e))).type&o.data&&n.dataItemIndex===t)return n.sectionRowIndex;return-1},e.prototype._getDataCellsRange=function(t){var e=0,i=0,n=this._field("visibleLeaves").length-1,o=t||!this._rendered?this._totalRowsCount()-1:this._rows().length()-1;return this._showRowHeader()&&n--,(n<0||o<0)&&(e=i=n=o=-1),new g.grid.cellInfoRange(new g.grid.cellInfo(e,i,null),new g.grid.cellInfo(n,o,null))},e.prototype._getDataItem=function(t){return this.dataView().item(t)},e.prototype._getFirstDataRowCell=function(t){var e,i,n=this._view(),o=this._rows(),s=g.grid.rowType;for(e=0,i=o.length();e<i;e++)if(n._getRowInfo(o.item(e)).type&s.data)return new g.grid.cellInfo(t,e);return g.grid.cellInfo.outsideValue},e.prototype._getNextCurrencyPos=function(t,e,i,n){var o,s=e.cellIndex(),r=e.rowIndex(),a=g.getKeyCodeEnum();switch(i){case a.PAGE_UP:this._reverseKey&&r===t.topLeft().rowIndex()?r=t.bottomRight().rowIndex():(r-=this._pageSizeKey)<(o=t.topLeft().rowIndex())&&(r=o);break;case a.PAGE_DOWN:this._reverseKey&&r===t.bottomRight().rowIndex()?r=t.topLeft().rowIndex():(r+=this._pageSizeKey)>(o=t.bottomRight().rowIndex())&&(r=o);break;case a.END:s=this._reverseKey&&s===t.bottomRight().cellIndex()?t.topLeft().cellIndex():t.bottomRight().cellIndex();break;case a.HOME:s=this._reverseKey&&s===t.topLeft().cellIndex()?t.bottomRight().cellIndex():t.topLeft().cellIndex();break;case a.LEFT:s>t.topLeft().cellIndex()?s--:this._reverseKey&&(s=t.bottomRight().cellIndex());break;case a.UP:r>t.topLeft().rowIndex()?r--:this._reverseKey&&(r=t.bottomRight().rowIndex());break;case a.RIGHT:s<t.bottomRight().cellIndex()?s++:this._reverseKey&&(s=t.topLeft().cellIndex());break;case a.ENTER:case a.DOWN:r<t.bottomRight().rowIndex()?r++:this._reverseKey&&(r=t.topLeft().rowIndex());break;case a.TAB:}return{cellIndex:s,rowIndex:r}},e.prototype._findUntilOuterDiv=function(t,e){for(var i,n,o=t,s=null;o;o=o.parentNode)if(n=o.nodeName.toLowerCase()){if(o===this.outerDiv[0]){i=o;break}e[n]&&(s=o)}return i?s:null},e.prototype._getStaticIndex=function(t){var e,i=this._getDataCellsRange();return this._hasSpannedCells()?-1:((e=t?Math.min(this.options.staticRowIndex,i.bottomRight().rowIndex()):Math.min(this.options.staticColumnIndex,i.bottomRight().cellIndex()))<-1&&(e=-1),e)},e.prototype._getStaticOffsetIndex=function(t){var e=0;return t?this._showRowHeader()&&e++:(e=this._columnsHeadersTable().length,this.options.showFilter&&e++),e},e.prototype._getRealStaticColumnIndex=function(){var t,e,i,n,o=this._getStaticOffsetIndex(!0),s=this._getStaticIndex(!1);if(i=s+o,0<=s){for(e=(t=this._field("visibleLeaves")).length,n=i;i<e;i++)if(-1===t[i].parentIdx){n<i&&i--;break}e<=i&&(i=e-1)}return i},e.prototype._getRealStaticRowIndex=function(){var t=this._getStaticOffsetIndex(!1);return this._getStaticIndex(!0)+t},e.prototype._hasMerging=function(){var t,e,i,n=this._field("leaves"),o=!1;if(n)for(t=0,e=n.length;t<e&&!o;t++)i=n[t],o=o||i.parentVis&&"none"!==i.rowMerge;return o},e.prototype._hasGrouping=function(){var t,e,i,n=this._field("leaves"),o=!1;for(t=0,e=n.length;t<e&&!o;t++)o=(i=n[t]).groupInfo&&"none"!==i.groupInfo.position;return o},e.prototype._hasSpannedCells=function(){return this._hasGrouping()||this._hasMerging()},e.prototype._columnsHeadersTable=function(t){return arguments.length&&this._field("columnsHeadersTable",t),this._field("columnsHeadersTable")},e.prototype._view=function(){return this._field("view")},e.prototype._originalFooterRowData=function(){var t=this._field("tfoot");return t&&t.length?t[0]:null},e.prototype._originalHeaderRowData=function(){var t=this._field("thead");return t&&t.length?t[0]:null},e.prototype._setAttr=function(i,t,e){var n=this;return i===this.element?2===arguments.length?(f.each(t,function(t,e){t in n._originalAttr||(n._originalAttr[t]=i.attr(t))}),i.attr(t)):(t in this._originalAttr||(this._originalAttr[t]=i.attr(t)),i.attr(t,e)):3===arguments.length?i.attr(t,e):i.attr(t)},e.prototype._totalRowsCount=function(){return this.sketchTable.length},e.prototype._trackScrollingPosition=function(t,e){this._scrollingState.x=t,this._scrollingState.y=e},e.prototype._trackScrollingIndex=function(t){this._scrollingState.index=t},e.prototype._uid=function(){return void 0===this.__uid&&(this.__uid=g.grid.getUID()),"gcuigrid"+this.__uid},e);function e(){r.apply(this,arguments),this._dataOffset=0,this._scrollingState={x:null,y:null,index:0},this._windowResizeTimer=0}(u.gcuigrid=t).prototype.widgetEventPrefix="gcuigrid",t.prototype._data$prefix="gcuigrid",t.prototype._customSortOrder=1e3,t.prototype._reverseKey=!1,t.prototype._pageSizeKey=10,t.prototype._mergeWidgetsWithOptions=!0;var i=function(){this.mobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.allowColMoving=!1,this.allowColSizing=!1,this.allowEditing=!1,this.allowKeyboardNavigation=!0,this.allowPaging=!1,this.allowSorting=!1,this.allowVirtualScrolling=!1,this.cellStyleFormatter=void 0,this.columns=[],this.columnsAutogenerationMode="merge",this.culture="",this.customFilterOperators=[],this.data=null,this.editingInitOption="auto",this.ensureColumnsPxWidth=!1,this.filterOperatorsSortMode="alphabeticalCustomFirst",this.groupAreaCaption="Drag a column here to group by that column.",this.groupIndent=10,this.highlightCurrentCell=!1,this.highlightOnHover=!0,this.loadingText="Loading...",this.nullString="",this.pageIndex=0,this.pageSize=10,this.pagerSettings={mode:"numeric",pageButtonCount:10,position:"bottom"},this.readAttributesFromData=!1,this.rowStyleFormatter=void 0,this.scrollMode="none",this.selectionMode="singleRow",this.showFilter=!1,this.showFooter=!1,this.showGroupArea=!1,this.showSelectionOnRender=!0,this.showRowHeader=!1,this.staticColumnIndex=-1,this.staticColumnsAlignment="left",this.staticRowIndex=-1,this.totalRows=-1,this.afterCellEdit=null,this.afterCellUpdate=null,this.beforeCellEdit=null,this.beforeCellUpdate=null,this.cellClicked=null,this.columnDragging=null,this.columnDragged=null,this.columnDropping=null,this.columnDropped=null,this.columnGrouping=null,this.columnGrouped=null,this.columnResizing=null,this.columnResized=null,this.columnUngrouping=null,this.columnUngrouped=null,this.currentCellChanging=null,this.currentCellChanged=null,this.filterOperatorsListShowing=null,this.filtering=null,this.filtered=null,this.groupAggregate=null,this.groupText=null,this.invalidCellValue=null,this.pageIndexChanging=null,this.pageIndexChanged=null,this.selectionChanged=null,this.sorting=null,this.sorted=null,this.dataLoading=null,this.dataLoaded=null,this.loading=null,this.loaded=null,this.rendering=null,this.rendered=null};t.prototype.options=g.grid.extendWidgetOptions(g.gcuiWidget.prototype.options,new i),f.gcui.registerWidget("gcuigrid",t.prototype)}(g.grid||(g.grid={}));g.grid}(gcui=gcui||{}),function(s){!function(t){"use strict";var a,e=jQuery,i=(a=s.gcuiWidget,__extends(n,a),n.prototype._create=function(){var t=e.data(this.element[0],"gcuigridowner");this._field("owner",t),s.grid.widgetName(this.element[0],this.widgetFullName),this._destroyed=!1,this.element.addClass(t.options.uiCSS.widget+" gcui-c1basefield "+t.options.uiCSS.stateDefault),this.options.disabled&&this.disable(),t.options.allowColMoving&&t._dragndrop(!0).attach(this)},n.prototype._init=function(){this.element.wrapInner("<div class='gcui-gcuigrid-innercell'></div>"),this._refreshHeaderCell()},n.prototype.destroy=function(){try{a.prototype.destroy.apply(this,arguments)}finally{this._destroyed=!0}},n.prototype._destroy=function(){if(!this._isDestroyed()){var t=this._owner();t&&t._dragndrop(!1)&&t._dragndrop(!1).detach(this),s.grid.remove$dataByPrefix(this.element,this._data$prefix),this.element.removeClass(t.options.uiCSS.widget+" gcui-c1basefield "+t.options.uiCSS.stateDefault).html(this.element.find(".gcui-gcuigrid-headertext").html())}},n.prototype._field=function(t,e){return s.grid.dataPrefix(this.element,this._data$prefix,t,e)},n.prototype._removeField=function(t){var e=this._data$prefix+t;this.element.removeData(e)},n.prototype._setOption=function(t,e){var i,n,o=this["_preset_"+t],s=this.options[t];if(void 0!==o&&(e=o.apply(this,[e,s])),i=e!==s,a.prototype._setOption.apply(this,[t,e]),i){if(void 0!==this.options.groupedIndex){var r=this._owner()._field("groupedWidgets")[this.options.groupedIndex];r&&t in r.options&&r._setOption(t,e)}void 0!==(n=this["_postset_"+t])&&n.apply(this,[e,s])}},n.prototype._postset_allowMoving=function(t,e){},n.prototype._preset_clientType=function(t,e){throw"read-only"},n.prototype._postset_headerText=function(t,e){this._refreshHeaderCell()},n.prototype._postset_visible=function(t,e){this._owner().ensureControl(!1)},n.prototype._postset_width=function(t,e){var i=this._owner();if(i){this.options.ensurePxWidth=!0;var n=s.grid.getColumnByTravIdx(i.options.columns,this.options.travIdx);n&&(n.found.width=t,n.found.ensurePxWidth=!0),i.setSize()}},n.prototype._owner=function(){return this._field("owner")},n.prototype._canSize=function(){return this.options.allowSizing&&this._owner().options.allowColSizing},n.prototype._canDrag=function(){return!0===this.options.allowMoving},n.prototype._canDropTo=function(t){return!s.grid.isChildOf(this._owner().options.columns,t,this)},n.prototype._createHeaderContent=function(t){return t.html(this.options.headerText||"&nbsp;")},n.prototype._decorateHeaderContent=function(t){return t.wrapInner('<span class="gcui-gcuigrid-headertext" />')},n.prototype._refreshHeaderCell=function(){var t=this.element.children(".gcui-gcuigrid-innercell").empty();this._createHeaderContent(t),this._decorateHeaderContent(t)},n.prototype._isDestroyed=function(){return this._destroyed},n);function n(){a.apply(this,arguments)}(t.c1basefield=i).prototype._data$prefix="c1basefield";var o=function(){this.allowMoving=!0,this.allowSizing=!0,this.cellFormatter=void 0,this.dataKey=void 0,this.ensurePxWidth=void 0,this.footerText=void 0,this.headerText=void 0,this.textAlignment=void 0,this.visible=!0,this.width=void 0};t.c1basefield_options=o,i.prototype.options=s.grid.extendWidgetOptions(s.gcuiWidget.prototype.options,new o),e.gcui.registerWidget("c1basefield",i.prototype)}(s.grid||(s.grid={}));s.grid}(gcui=gcui||{}),function(h){!function(t){"use strict";var i,d=jQuery,e=(i=t.c1basefield,__extends(n,i),n.prototype._create=function(){i.prototype._create.apply(this,arguments);var t=this._owner();this.element.addClass(t.options.uiCSS.widget+" gcui-c1field")},n.prototype._destroy=function(){if(!this._isDestroyed()){var t=this._owner();if(this.element.find("*").unbind("."+this.widgetName),this.$filterEditor){switch(this.$filterEditor.closest("td").find("*").unbind("."+this.widgetName),this._getInputEditorType(this.options)){case"date":this.$filterEditor.data("gcui-inputdate")&&this.$filterEditor.gcuiinputdate("destroy");break;case"mask":this.$filterEditor.data("gcui-inputmask")&&this.$filterEditor.gcuiinputmask("destroy");break;case"numberCurrency":case"numberNumber":case"numberPercent":this.$filterEditor.data("gcui-inputnumber")&&this.$filterEditor.gcuiinputnumber("destroy")}this.$filterEditor=null}this.element.removeClass(t.options.uiCSS.widget+" gcui-c1field"),this._removeDropDownFilterList(),i.prototype._destroy.apply(this,arguments)}},n.prototype._init=function(){i.prototype._init.apply(this,arguments),this.$filterEditor=null;var t=this._owner();this.filterRow=t._filterRow(),t.options.showFilter&&this.options.showFilter&&0<=this.options.dataIndex&&this._prepareFilterCell()},n.prototype._postset_aggregate=function(t,e){this._owner().ensureControl(!1)},n.prototype._postset_allowSort=function(t,e){this._refreshHeaderCell()},n.prototype._postset_dataType=function(t,e){throw"read-only"},n.prototype._postset_dataParser=function(t,e){this._owner().ensureControl(!1)},n.prototype._postset_dataFormatString=function(t,e){this._owner().ensureControl(!1)},n.prototype._postset_filterOperator=function(t,e){this._owner().ensureControl(!0)},n.prototype._postset_filterValue=function(t,e){this._owner().ensureControl(!0)},n.prototype._postset_groupInfo=function(t,e){this._owner().ensureControl(!0)},n.prototype._postset_rowMerge=function(t,e){this._owner().ensureControl(!1)},n.prototype._postset_showFilter=function(t,e){this._owner().ensureControl(!1)},n.prototype._postset_sortDirection=function(t,e){this.options.sortOrder=0,this._owner().ensureControl(!0)},n.prototype._postset_width=function(t,e){i.prototype._postset_width.apply(this,arguments)},n.prototype._canDropTo=function(t){return!(!i.prototype._canDropTo.apply(this,arguments)||void 0!==this.options.groupedIndex&&t instanceof d.gcui.c1groupedfield)},n.prototype._canSort=function(){var t=this._owner();return t&&t.options.allowSorting&&this.options.allowSort&&0<=this.options.dataIndex},n.prototype._decorateHeaderContent=function(t){if(this._canSort()){var e=this._owner();switch(t.wrapInner('<a class="gcui-gcuigrid-headertext" href="#" role="button" />').children("a").bind("click."+this.widgetName,this,d.proxy(this._onHrefClick,this)),this.options.sortDirection){case"ascending":t.append(d('<span class="gcui-gcuigrid-sort-icon '+e.options.uiCSS.icon+" "+e.options.uiCSS.iconArrowUp+'">ascending</span>'));break;case"descending":t.append(d('<span class="gcui-gcuigrid-sort-icon '+e.options.uiCSS.icon+" "+e.options.uiCSS.iconArrowDown+'">descending</span>'))}}else i.prototype._decorateHeaderContent.apply(this,arguments)},n.prototype._prepareFilterCell=function(){var t,e,i,n,o,s=this.options.visLeavesIdx,r=this._owner(),a=null,l=this,c=h.grid.HTML5InputSupport.getDefaultInputType(r._isMobileEnv(),this.options);if(0<=s){if(r=this._owner(),!this.filterRow)throw"exception";if(a=d(h.grid.rowAccessor.getCell(this.filterRow,s)),this.$filterEditor=a.find("input"),a.bind(d.support.selectstart?"selectstart":"mousedown",function(t){t.stopPropagation()}),null===(t=r.parse(this.options,h.grid.filterHelper.getSingleValue(this.options.filterValue)))||"undefined"===t)switch(h.grid.getDataType(this.options)){case"boolean":t=!1;break;case"number":case"currency":case"datetime":t=0;break;default:t=""}switch(e={culture:r.options.culture,disabled:r.options.disabled,decimalPlaces:(n=this.options.dataFormatString,(o=/^(n|p|c){1}(\d*)$/.exec(n))&&o[2]?parseInt(o[2],10):(o=/^(d){1}(\d*)$/.exec(n))?0:2)},i=this._getInputEditorType(this.options)){case"date":"text"===c?this.$filterEditor.gcuiinputdate(d.extend(e,{date:t,dateFormat:this.options.dataFormatString||void 0,showTrigger:!0})):this._createHtmlEditor(this.$filterEditor,c,h.grid.HTML5InputSupport.toStr(t||new Date,c));break;case"mask":this.$filterEditor.gcuiinputmask({text:t+""});break;case"numberCurrency":this.$filterEditor.gcuiinputnumber(d.extend(e,{type:"currency",value:t}));break;case"numberNumber":"text"===c?this.$filterEditor.gcuiinputnumber(d.extend(e,{value:t})):this._createHtmlEditor(this.$filterEditor,c,h.grid.HTML5InputSupport.toStr(t,c));break;case"numberPercent":this.$filterEditor.gcuiinputnumber(d.extend(e,{type:"percent",value:100*t}));break;default:throw h.grid.stringFormat('Unsupported editor type: "{0}"',i)}a.find(".gcui-gcuigrid-filter-trigger").attr({role:"button","aria-haspopup":"true"}).bind("mouseenter."+this.widgetName,function(t){l.options.disabled||d(this).addClass(r.options.uiCSS.stateHover)}).bind("mouseleave."+this.widgetName,function(t){l.options.disabled||d(this).removeClass(r.options.uiCSS.stateHover+" "+r.options.uiCSS.stateActive)}).bind("mouseup."+this.widgetName,this,function(t){l.options.disabled||d(this).removeClass(r.options.uiCSS.stateActive)}).bind("mousedown."+this.widgetName,{column:this},this._onFilterBtnClick).bind("click."+this.widgetName,function(t){t.preventDefault()})}},n.prototype._createHtmlEditor=function(t,e,i){return t.wrap('<span class="gcuigrid-input-wrapper"></span').attr("type",e).val(i)},n.prototype._onFilterBtnClick=function(t){var i,e,n,o,s,r,a,l=t.data.column,c=l._owner(),u=h.grid.HTML5InputSupport.getDefaultInputType(c._isMobileEnv(),l.options);return!l.options.disabled&&(l.$dropDownFilterList?(l._removeDropDownFilterList(),!1):(t.target.focus(),i=h.grid.filterHelper.getSingleOperatorName(l.options.filterOperator).toLowerCase(),e=c.getFilterOperatorsByDataType(h.grid.getDataType(l.options)),n={operators:d.extend(!0,[],e),column:l.options},c._onFilterOperatorsListShowing(n),o=[],n.operators&&d.each(n.operators,function(t,e){o.push({label:e.displayName||e.name,value:e.name,selected:e.name.toLowerCase()===i})}),l.$dropDownFilterList=d('<div class="gcui-gcuigrid-filterlist"></div').appendTo(document.body).gcuilist({autoSize:!0,maxItemsCount:8,selected:function(t,e){var i,n;switch(n=l._getInputEditorType(l.options)){case"date":i="text"===u?l.$filterEditor.gcuiinputdate("option","date")||new Date:h.grid.HTML5InputSupport.parse(l.$filterEditor.val(),u)||new Date;break;case"mask":i=l.$filterEditor.gcuiinputmask("option","text");break;case"numberNumber":if("text"!==u){i=h.grid.HTML5InputSupport.parse(l.$filterEditor.val(),u)||0;break}case"numberCurrency":case"numberPercent":i=l.$filterEditor.gcuiinputnumber("option","value"),"numberPercent"===n&&(i/=100)}l._removeDropDownFilterList(),c._handleFilter(l,e.item.value,i)}}),d.ui&&d.fn.zIndex&&(a=c.outerDiv.zIndex())&&a++,l.$dropDownFilterList.css("z-index",Math.max(a||0,9999)),l.$dropDownFilterList.gcuilist("setItems",o).gcuilist("renderList"),s=150|l.$dropDownFilterList.width(),l.$dropDownFilterList.width(8<o.length?20+s:s).gcuilist("refreshSuperPanel").position({of:d(this),my:"left top",at:"left bottom"}),l.$dropDownFilterList.$button=d(this),r=l.$dropDownFilterList.eventUID=h.grid.getUID(),void d(document).bind("mousedown."+l.widgetName+"."+r,{column:l},l._onDocMouseDown)))},n.prototype._onDocMouseDown=function(t){var e=d(t.target),i=e.parents(".gcui-gcuigrid-filterlist:first"),n=e.is(".gcui-gcuigrid-filter-trigger")?e:e.parents(".gcui-gcuigrid-filter-trigger:first");n.length&&n[0]===t.data.column.$dropDownFilterList.$button[0]||i.length&&i[0]===t.data.column.$dropDownFilterList[0]||t.data.column._removeDropDownFilterList()},n.prototype._onHrefClick=function(t){return t.data.options.disabled||t.data.options.allowSort&&t.data._owner()._handleSort(t.data.options,t.ctrlKey),!1},n.prototype._removeDropDownFilterList=function(){if(this.$dropDownFilterList){var t=this.$dropDownFilterList.eventUID;this.$dropDownFilterList.remove(),this.$dropDownFilterList=null,d(document).unbind("mousedown."+this.widgetName+"."+t,this._onDocMouseDown)}},n.prototype._getInputEditorType=function(t){switch(h.grid.getDataType(t)){case"number":return t.dataFormatString&&0===t.dataFormatString.indexOf("p")?"numberPercent":"numberNumber";case"currency":return"numberCurrency";case"datetime":return"date";default:return"mask"}},n);function n(){i.apply(this,arguments)}t.c1field=e;var o,s=(o=t.c1basefield_options,__extends(r,o),r);function r(){o.apply(this,arguments),this.aggregate="none",this.allowSort=!0,this.dataType=void 0,this.inputType=void 0,this.dataParser=void 0,this.dataFormatString=void 0,this.filterOperator="nofilter",this.filterValue=void 0,this.groupInfo={expandInfo:[],level:void 0,groupSingleRow:!0,collapsedImageClass:d.gcui.uiCSS.iconArrowRight,expandedImageClass:d.gcui.uiCSS.iconArrowRightDown,position:"none",outlineMode:"startExpanded",headerText:void 0,footerText:void 0},this.readOnly=!1,this.rowMerge="none",this.showFilter=!0,this.sortDirection="none",this.valueRequired=!1}t.c1field_options=s,e.prototype.options=h.grid.extendWidgetOptions(t.c1basefield.prototype.options,new s),d.gcui.registerWidget("c1field",d.gcui.c1basefield,e.prototype)}(h.grid||(h.grid={}));h.grid}(gcui=gcui||{}),function(l){!function(t){"use strict";var e,i=jQuery,n=(e=t.c1basefield,__extends(o,e),o.prototype._create=function(){e.prototype._create.apply(this,arguments);var t=this._owner();this.element.addClass(t.options.uiCSS.widget+" gcui-c1band")},o.prototype._canDropTo=function(t){return!(!e.prototype._canDropTo.apply(this,arguments)||t instanceof i.gcui.c1groupedfield)},o);function o(){e.apply(this,arguments)}t.c1band=n;var s,r=(s=t.c1field_options,__extends(a,s),a);function a(){s.apply(this,arguments),this.columns=[]}n.prototype.options=l.grid.extendWidgetOptions(t.c1basefield.prototype.options,new r),i.gcui.registerWidget("c1band",i.gcui.c1basefield,n.prototype)}(l.grid||(l.grid={}));l.grid}(gcui=gcui||{}),function(o){!function(t){"use strict";var r,i=jQuery,e=(r=o.gcuiWidget,__extends(n,r),n.prototype._create=function(){var t=i.data(this.element[0],"gcuigridowner");this._field("owner",t),o.grid.widgetName(this.element[0],this.widgetFullName),this._destroyed=!1,this.element.addClass("gcui-gcuigrid-group-button "+t.options.uiCSS.stateDefault+" "+t.options.uiCSS.cornerAll),this.options.disabled&&this.disable(),t.options.allowColMoving&&t._dragndrop(!0).attach(this)},n.prototype._init=function(){this._refreshHeaderCell()},n.prototype.destroy=function(){try{r.prototype.destroy.apply(this,arguments)}finally{this._destroyed=!0}},n.prototype._destroy=function(){if(!this._isDestroyed()){this.element.find("*").unbind("."+this.widgetName);var t=this._owner();t&&t._dragndrop(!1)&&t._dragndrop(!1).detach(this),o.grid.remove$dataByPrefix(this.element,this._data$prefix)}},n.prototype._field=function(t,e){return o.grid.dataPrefix(this.element,this._data$prefix,t,e)},n.prototype._removeField=function(t){var e=this._data$prefix+t;this.element.removeData(e)},n.prototype._setOption=function(t,e){var i,n,o=this["_preset_"+t],s=this.options[t];void 0!==o&&(e=o.apply(this,[e,s])),i=e!==s,r.prototype._setOption.apply(this,[t,e]),i&&void 0!==(n=this["_postset_"+t])&&n.apply(this,[e,s])},n.prototype._postset_headerText=function(t,e,i){this._refreshHeaderCell()},n.prototype._postset_allowSort=function(t,e,i){this._refreshHeaderCell()},n.prototype._owner=function(){return this._field("owner")},n.prototype._canSize=function(){return this.options.allowSizing&&this._owner().options.allowColSizing},n.prototype._canDrag=function(){return!0===this.options.allowMoving},n.prototype._canDropTo=function(t){return t instanceof i.gcui.c1groupedfield&&!o.grid.isChildOf(this._owner().options.columns,t,this)},n.prototype._canSort=function(){var t=this._owner();return t&&t.options.allowSorting&&this.options.allowSort&&0<=this.options.dataIndex},n.prototype._refreshHeaderCell=function(){var t=this._owner().options.uiCSS,e=i('<span class="gcui-gcuigrid-group-button-close '+t.stateDefault+" "+t.cornerAll+'"><span class="'+t.icon+" "+t.iconClose+'"></span></span>').bind("click."+this.widgetName,this,this._onCloseClick);if(this.element.html(this.options.headerText||"").prepend(e).bind("click."+this.widgetName,this,i.proxy(this._onHrefClick,this)),this._canSort())switch(this.options.sortDirection){case"ascending":this.element.append(i('<span class="gcui-gcuigrid-group-button-sort '+t.icon+" "+t.iconArrowUp+'"></span>'));break;case"descending":this.element.append(i('<span class="gcui-gcuigrid-group-button-sort '+t.icon+" "+t.iconArrowDown+'"></span>'))}},n.prototype._onCloseClick=function(t){return t.data.options.disabled||t.data._owner()._handleUngroup(t.data.options.travIdx),!1},n.prototype._onHrefClick=function(t){var e,i=t.data._owner(),n=t.data.options;return!n.disabled&&n.allowSort&&(e=(e=o.grid.search(i.columns(),function(t){return t.options.travIdx===n.travIdx})).found?e.found.options:o.grid.getColumnByTravIdx(i.options.columns,n.travIdx).found)&&i._handleSort(e,t.ctrlKey),!1},n.prototype._isDestroyed=function(){return this._destroyed},n);function n(){r.apply(this,arguments)}(t.c1groupedfield=e).prototype._data$prefix="c1groupedfield",e.prototype.options=i.extend(!0,{},o.gcuiWidget.prototype.options,{uiCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},allowMoving:!0,allowSort:!0,headerText:void 0,sortDirection:"none"}),i.gcui.registerWidget("c1groupedfield",e.prototype)}(o.grid||(o.grid={}));o.grid}(gcui=gcui||{}),function(r){!function(t){"use strict";var c=jQuery,e=(i.prototype.generateSpanTable=function(t,e){return this._height=this._width=this._inc=this._shift=0,this._table=[],this._traverseList=[],this._savedXPos=[],this._generateSpanTable(t,e,!0)},i.prototype._generateSpanTable=function(t,e,i){var n,o,s=this;for(this._height=this.getVisibleHeight(t,i),e=e||[],r.grid.traverse(t,function(t){t.isLeaf&&e.push(t),s._traverseList.push(t)}),this._width=e.length,n=0;n<this._height;n++)for(this._table[n]=[],o=0;o<this._width;o++)this._table[n][o]={column:null,colSpan:0,rowSpan:0};return this._setTableValues(t,0,0),this._table},i.prototype.getVisibleHeight=function(t,e){var i,n,o,s,r=0;if(c.isArray(t))for(i=0,n=t.length;i<n;i++)s=this.getVisibleHeight(t[i],e),r=Math.max(r,s);else if(o=void 0===t.visible||t.visible,t.parentVis=o&&e,t.isBand){for(i=0,n=t.columns.length;i<n;i++)s=this.getVisibleHeight(t.columns[i],t.parentVis),r=Math.max(r,s);if(!t.parentVis)return r;t.isLeaf=0===r,r++}else t.isLeaf=!0,t.parentVis&&(r=1);return r},i.prototype._getVisibleParent=function(t){for(;t;)if((t=this._traverseList[t.parentIdx])&&(t.parentVis||void 0===t.parentVis))return t;return null},i.prototype._setTableValues=function(t,e,i){var n,o,s,r,a,l;if(c.isArray(t))for(n=0,o=t.length;n<o;n++)this._setTableValues(t[n],e,i);else{if(void 0===t.travIdx)throw"undefined travIdx";if(s=i+this._shift,t.parentVis&&(r=s+this._inc,this._table[e][r].column=t,this._savedXPos[t.travIdx]=r),t.isBand)for(n=0,o=t.columns.length;n<o;n++)this._setTableValues(t.columns[n],e+1,i);t.parentVis?this._shift-s==0?(this._table[e][this._savedXPos[t.travIdx]].rowSpan=this._height-e,this._shift++):this._table[e][this._savedXPos[t.travIdx]].colSpan=this._shift-s:!t.isBand&&0<this._height&&((a=!!(l=this._getVisibleParent(t))&&l.isLeaf)&&this._inc++,e>=this._height&&(e=this._height-1),r=i+this._shift+this._inc,this._table[e][r].column=t,a||(l&&this._savedXPos[l.travIdx]===r&&this._shiftTableElements(r,e),this._inc++))}},i.prototype._shiftTableElements=function(t,e){var i;for(i=0;i<e;i++)this._table[i][t+1]=this._table[i][t],this._table[i][t]={column:null,colSpan:0,rowSpan:0},this._table[i][t+1].column&&this._savedXPos[this._table[i][t+1].column.travIdx]++},i);function i(){}t.bandProcessor=e,t.getAllLeaves=function(t){var e=[];return function t(e,i){var n,o,s,r;if(e)for(n=0,o=e.length;n<o;n++)(s=e[n]).options&&(s=s.options),(r=s.columns)&&r.length?t(r,i):i.push(s)}(t,e),e},t.getColumnByTravIdx=function(t,e){var i,n,o,s=null;if(t&&0<=e)for(i=0,n=t.length;i<n&&!s;i++){if((o=t[i]).options&&(o=o.options),o.travIdx===e)return{found:o,at:t};o.columns&&(s=this.getColumnByTravIdx(o.columns,e))}return s},t.isChildOf=function(t,e,i){if(e.options&&(e=e.options),i.options&&(i=i.options),i.isBand&&0<=e.parentIdx){if(e.parentIdx===i.travIdx)return!0;if(e.parentIdx>i.travIdx)for(var n=this.flatten(t);;){if((e=n[e.parentIdx]).travIdx===i.travIdx)return!0;if(-1===e.parentIdx)break}}return!1},t.getLeaves=function(t){var e=[];return function t(e,i){var n,o,s;if(e)for(n=0,o=e.length;n<o;n++)(s=e[n]).isLeaf&&i.push(s),s.columns&&t(s.columns,i)}(t,e),e},t.setTraverseIndex=function(t){return function t(e,i,n){var o,s,r;if(e)for(o=0,s=e.length;o<s;o++)(r=e[o]).options&&(r=r.options),r.linearIdx=o,r.travIdx=i++,r.parentIdx=n,r.columns&&(i=t(r.columns,i,i-1));return i}(t,0,-1)},t.flatten=function(t){var e=[];return r.grid.traverse(t,function(t){e.push(t)}),e},t.traverse=function(t,e){var i,n,o;if(t&&c.isFunction(e))for(i=0;i<t.length;i++)(o=t[i]).options&&(o=o.options),n=t.length,e(o,t),t.length===n?o.columns&&r.grid.traverse(o.columns,e):i--}}(r.grid||(r.grid={}));r.grid}(gcui=gcui||{}),function(u){!function(t){"use strict";var p=jQuery,e=(i.prototype.compareSettings=function(){var t,e,i,n,o=!0;if(!(o=(t=this.DVPagingSettings())===(e=this.WGPagingSettings()))&&t&&e&&(o=t.pageSize===e.pageSize&&t.pageIndex===e.pageIndex),o&&!(o=(t=this.DVSortingSettings())===(e=this.WGSortingSettings()))&&t&&e&&(n=t.length)===e.length)for(o=!0,i=0;i<n&&o;i++)o=t[i].dataKey===e[i].dataKey&&t[i].sortDirection===e[i].sortDirection;return o&&(t=this.DVFilteringSettings(),e=this.WGFilteringSettings(),o=u.grid.compareObj(t,e)),o},i.prototype.DVFilteringSettings=function(){if(void 0===this._dvFilteringSettings){var n=[],t=this._dataView.filter();t&&p.each(t,function(t,e){var i={dataKey:t};p.isArray(e)?(i.filterValue=[],i.filterOperator=[],function i(t,n){var o;p.each(t,function(t,e){"string"==typeof e?o=e:p.isArray(e)?i(e,n):(n.filterValue.push(e.value),n.filterOperator.push({name:e.originalOperator||e.operator,condition:o}))})}(e,i)):p.isPlainObject(e)?(i.filterValue=e.value,i.filterOperator=e.originalOperator||e.operator||"Equals"):(i.filterValue=e,i.filterOperator="Equals"),n.push(i)}),this._dvFilteringSettings=n.length?n:null}return this._dvFilteringSettings},i.prototype.DVPagingSettings=function(){if(void 0===this._dvPagingSettings){var t=u.grid.asPagedDataView(this._dataView);if(t){var e=t.pageSize();this._dvPagingSettings=0<e?{pageSize:t.pageSize(),pageIndex:t.pageIndex()}:null}}return this._dvPagingSettings},i.prototype.DVSortingSettings=function(){if(void 0===this._dvSortingSettings){var i=[],t=u.data.sorting.compile(this._dataView.sort()).normalized;t&&p.each(t,function(t,e){null!==e&&i.push({dataKey:"string"==typeof e?e:e.property,sortDirection:e.asc||void 0===e.asc?"ascending":"descending"})}),this._dvSortingSettings=i.length?i:null}return this._dvSortingSettings},i.prototype.WGFilteringSettings=function(){if(void 0===this._wgFilteringSettings){var s=[],t=this._grid._field("leaves"),r=this;t&&p.each(t,function(t,e){if(u.grid.validDataKey(e.dataKey)&&e.filterOperator){var i=u.grid.deepExtend({},{foo:e.filterValue}).foo,n=u.grid.deepExtend({},{foo:e.filterOperator}).foo,o=u.grid.filterHelper.verify(n,i,e.dataType,r._filterCache);o&&s.push({owner:e,dataKey:e.dataKey,filterValue:o.filterValue,filterOperator:o.filterOperator})}}),this._wgFilteringSettings=s.length?s:null}return this._wgFilteringSettings},i.prototype.WGPagingSettings=function(){return void 0===this._wgPagingSettings&&(this._wgPagingSettings=this._grid.options.allowPaging?{pageSize:this._grid.options.pageSize,pageIndex:this._grid.options.pageIndex}:null),this._wgPagingSettings},i.prototype.WGSortingSettings=function(){if(void 0===this._wgSortingSettings){var i={},n=[],t=this._grid._groupedColumns(!0),e=this._grid._field("leaves")||[],o=function(t){return!t.isBand&&t.allowSort&&u.grid.validDataKey(t.dataKey)},s=0;this._grid.options.allowSorting&&(p.each(t,function(t,e){o(e)&&("none"===e.sortDirection&&(e.sortDirection="ascending"),i[e.dataKey]={dataKey:e.dataKey,sortDirection:e.sortDirection,sortOrder:s++})}),s++,p.each(e,function(t,e){o(e)&&("ascending"!==e.sortDirection&&"descending"!==e.sortDirection||i[e.dataKey]||(i[e.dataKey]={dataKey:e.dataKey,sortDirection:e.sortDirection,sortOrder:(e.sortOrder||0)+s}))}),p.each(i,function(t,e){n.push(e)}),n.sort(function(t,e){return t.sortOrder-e.sortOrder}),p.each(n,function(t,e){delete e.sortOrder})),this._wgSortingSettings=n.length?n:null}return this._wgSortingSettings},i.prototype.MapWGToDV=function(){var t,i=this,n={};return this._mapPagingParams()&&(t=this.WGPagingSettings())?(n.pageIndex=t.pageIndex,n.pageSize=t.pageSize):n.pageSize=-1,this._mapSortingParams()&&(n.sort=[],(t=this.WGSortingSettings())&&(n.sort=[],p.each(t,function(t,e){n.sort.push({property:e.dataKey,asc:"ascending"===e.sortDirection})}))),this._grid.deficientFilters={},this._mapFilteringParams()&&(p.each(this._grid._field("leaves"),function(t,e){u.grid.validDataKey(e.dataKey)&&void 0===e.filterOperator^void 0===e.filterValue&&(i._grid.deficientFilters[e.dataKey]={filterOperator:e.filterOperator,filterValue:e.filterValue})}),n.filter={},(t=this.WGFilteringSettings())&&(n.filter=this._convertFilterToDV(t)),p.isEmptyObject(n.filter)&&(n.filter=null)),n},i.prototype.MapDVToWG=function(){var t,n={},i=this._mapSortingParams(),e=this._mapPagingParams(),o=this._mapFilteringParams(),s=u.grid.asPagedDataView(this._dataView),r=this;p.each(this._grid._field("leaves"),function(t,e){i&&(e.sortOrder=0,e.sortDirection="none"),o&&(e.filterOperator="nofilter",e.filterValue=void 0),n[e.dataKey]=e}),e&&s&&(this._grid.options.pageSize=s.pageSize(),this._grid.options.pageIndex=s.pageIndex()),i&&(t=this.DVSortingSettings())&&p.each(t,function(t,e){var i;(i=n[e.dataKey])&&(i.sortDirection=e.sortDirection,i.sortOrder=t)}),o&&((t=this.DVFilteringSettings())&&p.each(t,function(t,e){var i;(i=n[e.dataKey])&&(i.filterValue=e.filterValue,i.filterOperator=e.filterOperator,p.isPlainObject(i.filterOperator)&&(i.filterOperator=i.filterOperator.name),delete r._grid.deficientFilters[i.dataKey])}),p.each(this._grid.deficientFilters,function(t,e){n[t].filterOperator=e.filterOperator,n[t].filterValue=e.filterValue}))},i.prototype._mapPagingParams=function(){return this._grid.options.allowPaging&&!this._grid._customPagingEnabled()&&!this._grid._serverShaping()},i.prototype._mapSortingParams=function(){return this._grid.options.allowSorting&&!this._grid._serverShaping()},i.prototype._mapFilteringParams=function(){return!this._grid._serverShaping()},i.prototype.makeProxyFilter=function(i,t,e,n){e=e.toLowerCase();var o=this,s="datetime"===i.dataType,r={originalOperator:void 0,property:t,operator:e,value:n},a=this._filterCache.getByNameInt(e),l=u.data.filtering.ops[e];if("nofilter"!==e&&(a.isCustom||s))if(r.originalOperator=r.operator,a.isCustom)r.operator=p.extend(!0,{},a.op),r.operator.apply=r.operator.operator;else{r.operator=p.extend(!0,{},l);var c=i.inputType?u.grid.TimeUnitConverter.convertInputType(i.inputType):u.grid.TimeUnitConverter.convertFormatString(i.dataFormatString||"d");r.operator.apply=function(t,e){return t instanceof Date||(t=o._grid.parse(i,t)),e instanceof Date||(e=o._grid.parse(i,e)),u.grid.TimeUnitConverter.cutDate(t,c),u.grid.TimeUnitConverter.cutDate(e,c),l.apply(t,e)}}return r},i.prototype._convertFilterToDV=function(t){var i={},h=this;return p.each(t,function(t,s){var r,e,a,l,c=s.dataKey,u=[],d="and";if(p.isPlainObject(s)&&(e=s.filterOperator,a=s.filterValue,null!=e)){if(p.isArray(e)||(e=[e]),p.isArray(a)||(a=[a]),e.length!=a.length)throw"The number of filter operators must match the number of filter values";0!=e.length&&(p.each(e,function(t,e){var i;if("string"==typeof e&&(e={name:e}),!p.isPlainObject(e)||!e.name)throw"Invalid filter operator";function n(){1<l.length?l.splice(0,0,"or"):l=l[0]}function o(){null==d&&(d=r,u.splice(0,0,r))}i=a[t],p.isArray(i)||(i=[i]),l=p.map(i,function(t){return h.makeProxyFilter(s.owner,c,e.name,t)}),d=null,r=e.condition||"or",u.length<=1||d==r?1==l.length||u.length<=1||"or"==d?u=u.concat(l):(n(),u.push(l)):(n(),u=[u,l]),o()}),p.each(u,function(t,e){p.isArray(e)&&2==e.length&&(u[t]=e[1])}),2==u.length&&(u[0],1)&&u.shift(),1==u.length&&(u=u[0]),i[c]=u)}}),i},i);function i(t){if(this._dvFilteringSettings=void 0,this._dvPagingSettings=void 0,this._dvSortingSettings=void 0,this._wgFilteringSettings=void 0,this._wgPagingSettings=void 0,this._wgSortingSettings=void 0,!t)throw"exception";this._grid=t,this._dataView=t._dataViewWrapper.dataView(),this._filterCache=new u.grid.filterOperatorsCache(t)}t.settingsManager=e}(u.grid||(u.grid={}));u.grid}(gcui=gcui||{}),function(c){!function(t){"use strict";var l=jQuery,e=(i.prototype.data=function(){var t=this._getDataViewInst(),e=c.grid.asPagedDataView(t);return{data:this._getSharedDataItems(),totalRows:null!=e?e.totalItemCount():(t.getSource()||[]).length,totals:this._getTotals(),emptyData:this.isBoundedToDOM()?this._domSource.emptyData:null}},i.prototype.dataView=function(){return this._getDataViewInst()},i.prototype.dispose=function(){var t=this._getDataViewInst();this._propChangeListener.dispose(),l.each(this._toDispose,function(t,e){e.dispose()}),t&&this._isOwnDataView&&t.dispose(),this._grid._dataView=null},i.prototype.ignoreChangeEvent=function(t){if(!arguments.length)return this._ignoreChangeEvent;this._ignoreChangeEvent=!0===t},i.prototype.ignoreCurrentChangedEvent=function(t){if(!arguments.length)return this._ignoreCurrentChangedEvent;this._ignoreCurrentChangedEvent=!0===t},i.prototype.isDataLoaded=function(){return this._getDataViewInst().isLoaded()},i.prototype.isOwnDataView=function(){return this._isOwnDataView},i.prototype.getFieldsInfo=function(){var t=this._getDataViewInst();return this._propDescriptorsToFieldsInfo(t.getProperties())},i.prototype._propDescriptorsToFieldsInfo=function(t){var i={};return t&&l.each(t,function(t,e){"$$hash"!==e.name&&(i[e.name]={name:e.name,type:e.type||"string"})}),i},i.prototype.isBoundedToDOM=function(){return null!==this._domSource},i.prototype.load=function(t){this._userData=t;var e=this._getDataViewInst();e||(this._createDataViewWrapper(),e=this._getDataViewInst()),this._onDataViewLoading();var i=new c.grid.settingsManager(this._grid);if(this._needToLoad(i)){var n=i.MapWGToDV(),o=!1;this._isGCDataSource&&!this._isDynamicDataSource&&e.isLoaded()&&(o=!0),this.ignoreCurrentChangedEvent(!0),e.refresh(n,o)}else this.isDataLoaded()&&(this._onDataViewLoaded(),this._onDataViewReset())},i.prototype.currentPosition=function(t){var e=this._getDataViewInst();if(!arguments.length)return e.currentPosition();this.ignoreCurrentChangedEvent(!0);try{e.currentPosition(t)}finally{this.ignoreCurrentChangedEvent(!1)}},i.prototype.getValue=function(t,e){return"number"==typeof e&&(e+=""),this._getDataViewInst().getProperty(t,e)},i.prototype.setValue=function(t,e,i){var n=this._getDataViewInst();this.ignoreChangeEvent(!0);try{"number"==typeof e&&(e+=""),n.setProperty(t,e,i)}finally{this.ignoreChangeEvent(!1)}},i.prototype.makeDirty=function(){this._propChangeListener.removeAll(),this._totals=null,this._sharedDataItems=null},i.prototype._createDataViewWrapper=function(){var t,e=this._grid.options.data,i=this._getDataViewInst();if(!i){if(e||(this._domSource=this._processDOM(this._grid.element,this._grid.options.readAttributesFromData),e=this._domSource.items),t="undefined"!=typeof gcuidatasource&&e instanceof gcuidatasource,this._isOwnDataView=l.isArray(e)||t,this._isGCDataSource=!(!this._isOwnDataView||!t),this._isDynamicDataSource=!!(this._isOwnDataView&&t&&e.dynamic),this._isOwnDataView){!this._domSource&&this._grid.options.readAttributesFromData&&this._moveAttributesToExpando(e);var n=this.isBoundedToDOM()&&c.grid.getTableSection(this._grid.element,c.grid.rowScope.body);i=c.grid.GridDataView.create(c.data.asDataView(this._parseOwnData(e,n)))}else i=e;this._grid._dataView=i,this._toDispose.push(i.isLoading.subscribe(l.proxy(this._onDataViewLoadingInternal,this))),this._toDispose.push(i.isLoaded.subscribe(l.proxy(this._onDataViewLoadedInternal,this))),this._toDispose.push(i.subscribe(l.proxy(this._onDataViewChangeInternal,this))),this._toDispose.push(i.currentPosition.subscribe(l.proxy(this._onDataViewCurrentChangedInternal,this))),this._propChangeListener=new c.grid.propChangeListener(l.proxy(this._onPropertyChanged,this))}},i.prototype._parseOwnData=function(t,i){var n=this;if(t&&t.length){var e=l.extend(!0,[],this._grid.options.columns),o=c.data.ArrayDataViewBase._getProps(t[0])||[],s=this._propDescriptorsToFieldsInfo(o),r=[];this._grid._prepareColumnOptions(e,"merge",s,!0,!0),c.grid.traverse(e,function(t){c.grid.validDataKey(t.dataKey)&&r.push(t)}),e.length&&l.each(t,function(t,e){c.grid.dataViewWrapper._parseDataItem(n._grid,e,i&&i.rows[t],r)})}return t},i._parseDataItem=function(s,r,a,t){return l.each(t,function(t,e){if("string"!==c.grid.getDataType(e)&&c.grid.validDataKey(e.dataKey)){var i=r[e.dataKey],n=s.parse(e,i);if(isNaN(n)){var o=null;a&&(o=a.cells[e.dataKey]),n=s.parseFailed(e,i,r,o)}r[e.dataKey]=n}}),r},i.prototype._getDataViewInst=function(){return this._grid._dataView},i.prototype._needToLoad=function(t){var e=this._getDataViewInst();return!!(this._isDynamicDataSource||this._isGCDataSource&&!e.isLoaded())||!(!this._isOwnDataView||this._isGCDataSource||!this.isDataLoaded())||!this.isDataLoaded()&&!e.isLoading()||!t.compareSettings()},i.prototype._validateSettings=function(t){if(!this._isOwnDataView&&this._grid.options.allowPaging&&(t.DVPagingSettings()||{}).pageSize!==(t.WGPagingSettings()||{}).pageSize)throw"The pageSize option of the external dataView can't be changed."},i.prototype._onDataViewLoadingInternal=function(t){this._ignoreAllEvents||t&&(this._userData||this._onDataViewLoading())},i.prototype._onDataViewLoadedInternal=function(t){this._ignoreAllEvents||t&&this._onDataViewLoaded()},i.prototype._onDataViewChangeInternal=function(t){var i=this;if(!this._ignoreAllEvents&&!this._ignoreChangeEvent){if(t.changes){if(t.length&&"detached"===t[0].entityState())return;l.each(t.changes,function(t,e){switch(e.changeType){case"remove":i._propChangeListener.remove(e.index);break;case"add":i._propChangeListener.insert(e.index,e.element)}})}this._onDataViewChange.apply(this,arguments)}},i.prototype._onDataViewCurrentChangedInternal=function(){this._ignoreAllEvents||this._ignoreCurrentChangedEvent||this._onDataViewCurrentChanged.apply(this,arguments)},i.prototype._onDataViewReset=function(){try{this.ignoreCurrentChangedEvent(!1),this.makeDirty(),this._grid._onDataViewReset(this._userData)}finally{this._userData=null}},i.prototype._onPropertyChanged=function(t){var e=this;0<this._changeTimer&&(window.clearTimeout(this._changeTimer),this._changeTimer=0),-1!=this._changeTimer&&(this._changeTimer=window.setTimeout(function(){e._changeTimer=-1,e._grid._destroyed||e._onDataViewChange(),e._changeTimer=0},100))},i.prototype._onDataViewChange=function(t){this._onDataViewReset()},i.prototype._onDataViewCurrentChanged=function(t,e){this._grid._onDataViewCurrentPositionChanged(t,e)},i.prototype._onDataViewLoading=function(){this._grid._onDataViewLoading()},i.prototype._onDataViewLoaded=function(){this._grid._onDataViewLoaded()},i.prototype._getSharedDataItems=function(){if(!this._sharedDataItems){var t=this._getDataViewInst(),e=t.count();this._sharedDataItems=[];for(var i=!0,n=0;n<e;n++){var o=t.item(n);i&&(this._propChangeListener.insert(n,o)||0!==n||(i=!1)),this._sharedDataItems.push(this._wrapDataItem(o,n))}}return this._sharedDataItems||(this._sharedDataItems=[]),this._sharedDataItems},i.prototype._getTotals=function(){if(!this._totals){var t=this._getDataViewInst();this._totals=this._prepareTotals(t,this._grid._prepareTotalsRequest(!0))}return this._totals||(this._totals={}),this._totals},i.prototype._prepareTotals=function(t,e){if(!e||0===e.length)return{};var i,n,o,s,r=[],a={};for(i=0,n=e.length;i<n;i++)r.push(new c.grid.tally);for(i=0,n=t.count();i<n;i++)for(o=0,s=r.length;o<s;o++)r[o].add(this._grid.parse(e[o].column,this.getValue(i,e[o].column.dataKey)));for(i=0,n=r.length;i<n;i++)a[e[i].column.dataKey]=r[i].getValueString(e[i].column);return a},i.prototype._processDOM=function(t,e){var i={items:[],emptyData:[],header:c.grid.readTableSection(t,c.grid.rowScope.head)};return 1===c.grid.getTableSectionLength(t,2)&&l(c.grid.getTableSectionRow(t,2,0)).hasClass("gcui-gcuigrid-emptydatarow")?i.emptyData=c.grid.readTableSection(t,c.grid.rowScope.body):i.items=c.grid.readTableSection(t,c.grid.rowScope.body,e),i},i.prototype._moveAttributesToExpando=function(t){l.each(t,function(t,i){var n,e=c.data.Expando.getFrom(i,!0);n=e[c.grid.EXPANDO]={cellsAttributes:{},rowAttributes:{}},i.rowAttributes&&(n.rowAttributes=i.rowAttributes,delete i.rowAttributes),l.each(i,function(t,e){l.isArray(e)&&(n.cellsAttributes[t]=e[1],i[t]=e[0])})})},i.prototype._wrapDataItem=function(t,e){return{values:t,originalRowIndex:e}},i.prototype._refreshSilent=function(){var t=this._getDataViewInst();if(t)try{this._ignoreAllEvents=!0,t.refresh()}finally{this._ignoreAllEvents=!1}},i.prototype._unsafeReplace=function(t,e){var i=this._getDataViewInst();c.grid.GridDataView,i._unsafeReplace(t,e)},i.prototype._unsafeSplice=function(t,e,i){var n=this._getDataViewInst();c.grid.GridDataView,2===arguments.length?n._unsafeSplice(t,e):n._unsafeSplice(t,e,i)},i.prototype._unsafePush=function(t){var e=this._getDataViewInst();c.grid.GridDataView,e._unsafePush(t)},i);function i(t){this._domSource=null,this._ignoreAllEvents=!1,this._ignoreChangeEvent=!1,this._ignoreCurrentChangedEvent=!1,this._sharedDataItems=null,this._userData=null,this._totals=null,this._changeTimer=0,this._toDispose=[],this._isOwnDataView=!1,this._isGCDataSource=!1,this._isDynamicDataSource=!1,this._grid=t,this._createDataViewWrapper()}t.dataViewWrapper=e,t.asPagedDataView=function(t){return t&&"pageCount"in t?t:null},t.asEditableDataView=function(t){return t&&"commitEdit"in t?t:null};var n=(o.prototype.insert=function(t,e){var i=null,n=this;return l.each(e,function(t,e){n._isValidPropName(t)&&e&&l.isFunction(e.subscribe)&&(i=i||[]).push(e.subscribe(n._callback))}),!!i&&(this._subscriptions.length<t&&(this._subscriptions.length=t),this._subscriptions.splice(t,0,i),!0)},o.prototype.remove=function(t){var i=this._subscriptions[t];i&&l.each(i,function(t,e){e.dispose(),i[t]=null}),this._subscriptions[t]=null,this._subscriptions.splice(t,1)},o.prototype.removeAll=function(){for(var t;t=this._subscriptions.length;)this.remove(t-1);this._subscriptions=[]},o.prototype.dispose=function(){this.removeAll()},o.prototype._isValidPropName=function(t){return!t||"string"!=typeof t||null===t.match(/^entityState|jQuery/)},o);function o(t){this._subscriptions=[],this._callback=t}t.propChangeListener=n}(c.grid||(c.grid={}));c.grid}(gcui=gcui||{}),function(b){!function(i){"use strict";var p=jQuery,t=(e.prototype.isSubRange=function(t){return this.cr.r1>=t.cr.r1&&this.cr.r2<=t.cr.r2},e.prototype.toString=function(){return this.cr.r1+"-"+this.cr.r2},e.prototype.getHeaderImageClass=function(t){var e=this.owner;return e?t?e.expandedImageClass||i.c1field.prototype.options.groupInfo.expandedImageClass:e.collapsedImageClass||i.c1field.prototype.options.groupInfo.collapsedImageClass:null},e.prototype.collapse=function(){var t,e,i,n,o;(t=this.owner)&&(e=t.owner)&&(i=e.owner)&&(n=i._field("leaves"),b.grid.groupHelper.isParentExpanded(n,this.cr,t.level)&&"footer"!==t.position&&"none"!==t.outlineMode&&(o=b.grid.groupHelper.getGroupedColumnsCount(n),this._collapse(i._rows(),n,this,o,i._field("viewRenderBounds").start)))},e.prototype.expand=function(t){var e,i,n,o,s;(e=this.owner)&&(i=e.owner)&&(n=i.owner)&&(o=n._field("leaves"),b.grid.groupHelper.isParentExpanded(o,this.cr,e.level)&&(s=b.grid.groupHelper.getGroupedColumnsCount(o),this._expand(n._rows(),o,this,s,t,!0,n._field("viewRenderBounds").start)))},e.prototype._collapse=function(t,e,i,n,o){var s,r,a,l,c,u=i.owner,d=i.cr.r1,h=i.cr.r2;switch(u.position){case"header":case"headerAndFooter":this._toggleRowVisibility(t.item(i.cr.r1-o),void 0,!1),d++}for(s=d;s<=h;s++)this._toggleRowVisibility(t.item(s-o),!1);for(i.isExpanded=!1,this._updateHeaderIcon(t,i,o),s=u.level+1;s<=n;s++)for(c=0,r=(a=b.grid.groupHelper.getChildGroupRanges(e,i.cr,s-1)).length;c<r;c++){switch((l=a[c]).isExpanded=!1,l.owner.position){case"header":case"headerAndFooter":this._toggleRowVisibility(t.item(l.cr.r1-o),void 0,!1)}this._updateHeaderIcon(t,l,o)}},e.prototype._expand=function(t,e,i,n,o,s,r){var a,l,c,u,d,h=i.owner,p=i.cr.r1,f=i.cr.r2;switch(h.position){case"header":this._toggleRowVisibility(t.item(p-r),!0,s||o),p++;break;case"footer":this._toggleRowVisibility(t.item(f-r),!0),f--;break;case"headerAndFooter":this._toggleRowVisibility(t.item(p-r),!0,s||o),s&&this._toggleRowVisibility(t.item(f-r),!0),p++,f--}if(s)if(i.isExpanded=!0,this._updateHeaderIcon(t,i,r),i.owner.level===n)for(a=p;a<=f;a++)this._toggleRowVisibility(t.item(a-r),!0);else{if((c=b.grid.groupHelper.getChildGroupRanges(e,i.cr,i.owner.level)).length&&p!==c[0].cr.r1)for(a=p;a<c[0].cr.r1;a++)this._toggleRowVisibility(t.item(a-r),!0);if(o)for(a=0,l=c.length;a<l;a++)u=c[a],this._expand(t,e,u,n,o,!0,r);else for(a=0,l=c.length;a<l;a++)d="footer"===(u=c[a]).owner.position||"none"===u.owner.outlineMode,this._expand(t,e,u,n,!1,d,r)}},e.prototype._toggleRowVisibility=function(t,e,i){t&&(t[0]&&(void 0!==e&&(t[0].style.display=e?"":"none",t[0]["aria-hidden"]=e?"false":"true"),void 0!==i&&(t[0]["aria-expanded"]=i?"true":"false")),t[1]&&(void 0!==e&&(t[1].style.display=e?"":"none",t[1]["aria-hidden"]=e?"false":"true"),void 0!==i&&(t[1]["aria-expanded"]=i?"true":"false")))},e.prototype._updateHeaderIcon=function(t,n,e){if("footer"!==n.owner.position){var i=t.item(n.cr.r1-e);i&&p.each(i,function(t,e){if(e){var i=p(e).find("div.gcui-gcuigrid-grouptogglebtn:first-child");i&&i.length&&(i.toggleClass(n.getHeaderImageClass(!n.isExpanded),!1),i.toggleClass(n.getHeaderImageClass(n.isExpanded),!0))}})}},e);function e(t,e,i,n,o){this.cr=new b.grid.cellRange(-1,-1),this.isExpanded=!1,this._value=-1,this._sum=-1,this._position="none",this._hasHeaderOrFooter=!0,void 0!==t&&(this.isExpanded=t),void 0!==e&&(this.cr=e),void 0!==i&&(this._sum=i),void 0!==n&&(this._position=n),void 0!==o&&(this._hasHeaderOrFooter=o)}i.groupRange=t;var n=(o.prototype.group=function(t,e,i){var n=this;this._grid=t,this._data=e,this._leaves=i,this._groupRowIdx=0,p.each(i,function(t,e){e.groupInfo&&(delete e.groupInfo.level,delete e.groupInfo.expandInfo)});var o=this._grid._groupedColumns(!0),s=1;p.each(o,function(t,e){n._groupRowIdx=0,e.groupInfo&&e.groupInfo.position&&"none"!==e.groupInfo.position&&0<=e.dataIndex&&(e.groupInfo.level=s,e.groupInfo.expandInfo=[],n._processRowGroup(e,s++))}),delete this._grid,delete this._data,delete this._leaves},o.prototype._processRowGroup=function(t,e){var i,n,o,s,r,a,l,c,u,d=0,h=!0;for(p.each(this._leaves,function(t,e){if(e.parentVis)return d=t,!1}),i=0;i<this._data.length;i++)if(this._data[i].rowType&b.grid.rowType.data){if(n=this._getGroupCellRange(i,t,e),o=!0,"startCollapsed"===t.groupInfo.outlineMode||b.grid.groupHelper.isParentCollapsed(this._leaves,n,e)){if(!1===t.groupInfo.groupSingleRow&&n.r1===n.r2)continue;o=!1}if(e&&this._grid.options.groupIndent)for(s=n.r1;s<=n.r2;s++)this._addIndent(this._data[s][d],e);switch(h=!(!1===t.groupInfo.groupSingleRow&&n.r1===n.r2),t.groupInfo.position){case"header":for(r=this._addGroupRange(t.groupInfo,n,o,h),u=n.r1;u<=n.r2;u++)this._data[u].__attr["aria-level"]=e+1,o||(this._data[u].__style.display="none",this._data[u].__attr["aria-hidden"]=!0);if(!h)break;this._updateByGroupRange(r,e),a=b.grid.groupHelper.isParentCollapsed(this._leaves,r.cr,e),l=this._buildGroupRow(r,n,!0,a),this._data.splice(n.r1,0,l),l.__attr["arial-level"]=e,l.__attr["aria-expanded"]=o,a&&(l.__style.display="none",l.__attr["aria-hidden"]=!0),i=n.r2+1;break;case"footer":if(r=this._addGroupRange(t.groupInfo,n,!0,h),!h)break;this._updateByGroupRange(r,e),(c=this._buildGroupRow(r,n,!1,!1)).__attr["aria-level"]=e,this._data.splice(n.r2+1,0,c),i=n.r2+1,(a=b.grid.groupHelper.isParentCollapsed(this._leaves,r.cr,e))&&(c.__style.display="none",c.__attr["aria-hidden"]=!0);break;case"headerAndFooter":for(r=this._addGroupRange(t.groupInfo,n,o,h),u=n.r1;u<=n.r2;u++)this._data[u].__attr["aria-level"]=e+1,o||(this._data[u].__style.display="none",this._data[u].__attr["aria-hidden"]=!0);if(!h)break;this._updateByGroupRange(r,e),a=b.grid.groupHelper.isParentCollapsed(this._leaves,r.cr,e),l=this._buildGroupRow(r,n,!0,a),c=this._buildGroupRow(r,n,!1,!1),this._data.splice(n.r2+1,0,c),c.__attr["aria-level"]=e,!a&&o||(c.__style.display="none",c.__attr["aria-hidden"]=!0),this._data.splice(n.r1,0,l),l.__attr["aria-level"]=e,l.__attr["aria-expanded"]=o,a&&(l.__style.display="none",l.__attr["aria-hidden"]=!0),i=n.r2+2;break;default:throw b.grid.stringFormat('Unknown Position value: "{0}"',t.groupInfo.position)}this._groupRowIdx++}},o.prototype._buildGroupRow=function(t,e,i,n){var o,s,r,a,l,c,u,d,h=t.owner,p=h.owner,f=p.owner,g=[],m="",v="";for(g.__style={},g.__attr={},g.__attr.id=(i?"GH":"GF")+this._groupRowIdx+"-"+h.level,g.rowType=i?b.grid.rowType.groupHeader:b.grid.rowType.groupFooter,0<=p.dataIndex&&null!==(o=this._data[e.r1][p.dataIndex].value)&&(m=f.toStr(p,o)),this._grid._showRowHeader()&&g.push({html:"&nbsp;"}),s={html:"",__attr:{},__style:{}},i&&"none"!==h.outlineMode&&(t.isExpanded?s.html='<div class="'+f.options.uiCSS.icon+" "+t.getHeaderImageClass(!0)+' gcui-gcuigrid-grouptogglebtn">&nbsp;</div>':s.html='<div class="'+f.options.uiCSS.icon+" "+t.getHeaderImageClass(!1)+' gcui-gcuigrid-grouptogglebtn">&nbsp;</div>'),g.push(s),p.aggregate&&"none"!==p.aggregate&&(v=this._getAggregate(e,p,p,i,m)),"custom"===(r=i?h.headerText:h.footerText)?(a={data:this._data,column:p,groupByColumn:h.owner,groupText:m,text:"",groupingStart:e.r1,groupingEnd:e.r2,isGroupHeader:i,aggregate:v},this._grid._trigger("groupText",null,a)&&(r=a.text)):(null==r&&(i&&(r="{1}: {0}"),!v&&0!==v||(r=r?r+" {2}":"{2}")),r=b.grid.stringFormat(r,m,p&&p.headerText?p.headerText:"",v.toString())),r=r||"&nbsp;",s.html+="<span>"+r+"</span>",this._addIndent(s,h.level-1),l=1,c=this._grid._showRowHeader()?1:0,u=!0;c<this._leaves.length;c++)if((o=this._leaves[c]).parentVis){if(u){u=!1;continue}if(!0!==o.dynamic&&o.aggregate&&"none"!==o.aggregate)break;l++}for(;c<this._leaves.length;c++)(o=this._leaves[c]).parentVis&&((d=this._getAggregate(e,o,h.owner,i,m))||0===d||(d="&nbsp;"),g.push({html:d.toString(),__attr:{groupInfo:{leafIndex:o.leavesIdx,purpose:b.grid.groupRowCellPurpose.aggregateCell}}}));return s.__attr.colSpan=l,s.__attr.groupInfo={leafIndex:p.leavesIdx,purpose:b.grid.groupRowCellPurpose.groupCell},g},o.prototype._getAggregate=function(t,e,i,n,o){var s,r,a,l="";if(!e.aggregate||"none"===e.aggregate)return l;if("custom"===e.aggregate)s={data:this._data,column:e,groupByColumn:i,groupText:o,text:"",groupingStart:t.r1,groupingEnd:t.r2,isGroupHeader:n},this._grid._trigger("groupAggregate",null,s)&&(l=s.text);else{for(r=new b.grid.tally,a=t.r1;a<=t.r2;a++)r.add(this._data[a][e.dataIndex].value);l=r.getValueString(e)}return l},o.prototype._getGroupCellRange=function(t,e,i){var n,o,s,r=e.leavesIdx,a=new b.grid.cellRange(t,r),l=b.grid.groupHelper.getParentGroupRange(this._leaves,a,i);if(this._data[t].rowType&b.grid.rowType.data)for((n=this._data[t][e.dataIndex].value)instanceof Date&&(n=n.getTime()),a.r2=t,s=this._data.length-1;a.r2<s&&this._data[a.r2+1].rowType&b.grid.rowType.data&&!(l&&a.r2+1>l.cr.r2)&&((o=this._data[a.r2+1][e.dataIndex].value)instanceof Date&&(o=o.getTime()),n===o);a.r2++);return a},o.prototype._addGroupRange=function(t,e,i,n){var o,s,r,a=null,l=b.grid.groupHelper.getChildGroupIndex(e,t.expandInfo);return 0<=l&&l<t.expandInfo.length?a=t.expandInfo[l]:(o=new b.grid.cellRange(e.r1,e.r1,e.r2,e.r2),s="footer"===t.position||!n||i&&"startCollapsed"!==t.outlineMode,((a=new b.grid.groupRange(s,o,-1,t.position,n)).owner=t).expandInfo.push(a)),a&&n&&(e.r1,r=e.r2,"headerAndFooter"===t.position&&(r+=2),"headerAndFooter"!==t.position&&r++,a.cr.r2=r),a},o.prototype._updateByGroupRange=function(t,e){var i,n,o,s,r,a,l;for(i=0,n=this._leaves.length;i<n;i++)if((o=this._leaves[i].groupInfo)&&o.level<e)for(s=o.expandInfo?o.expandInfo.length:0,r=0;r<s;r++)a=o.expandInfo[r],l="headerAndFooter"===t.position?2:1,a.cr.r1>=t.cr.r1&&(a.cr.r1!==t.cr.r1||"footer"!==a.position)&&(a.cr.r1+=l),a.cr.r2>=t.cr.r1&&(a.cr.r2+=l)},o.prototype._addIndent=function(t,e){var i;0<e&&(i=this._grid.options.groupIndent)&&(t.__style.paddingLeft=i*e+"px")},o);function o(){this._groupRowIdx=0}i.grouper=n}(b.grid||(b.grid={}));b.grid}(gcui=gcui||{}),function(c){!function(t){"use strict";jQuery;var e=(i._getGroupInfoRegExp=new RegExp(".*G([HF]){1}(\\d+)-(\\d+)$"),i.getGroupInfo=function(t){if(t){var e,i,n,o=c.grid.groupHelper._getGroupInfoRegExp.exec(t.id);if(o)return e=parseInt(o[3],10),i=parseInt(o[2],10),n="H"===o[1],{level:e,index:i,isHeader:n,toString:function(){return(n?"GH":"GF")+i+"-"+e}}}return null},i.getColumnByGroupLevel=function(t,e){var i,n,o;for(i=0,n=t.length;i<n;i++)if((o=t[i]).groupInfo&&o.groupInfo.level===e)return o;return null},i.getGroupedColumnsCount=function(t){var e,i,n,o=0;for(e=0,i=t.length;e<i;e++)!(n=t[e].groupInfo)||"header"!==n.position&&"headerAndFooter"!==n.position&&"footer"!==n.position||o++;return o},i.getChildGroupIndex=function(t,e){for(var i,n,o=0,s=e.length-1;o<=s;){if(0==(n=e[i=(s-o>>1)+o].cr.r1-t.r1))return i;n<0?o=i+1:s=i-1}return o},i.getParentGroupIndex=function(t,e){var i=c.grid.groupHelper.getChildGroupIndex(t,e);return 0<i&&i--,i<e.length?i:-1},i.getChildGroupRanges=function(t,e,i){var n,o,s,r,a=[],l=c.grid.groupHelper.getColumnByGroupLevel(t,i+1);if(l)for(n=l.groupInfo.expandInfo,s=c.grid.groupHelper.getChildGroupIndex(e,n),r=n.length;s<r&&(o=n[s]).cr.r2<=e.r2;s++)a.push(o);return a},i.getParentGroupRange=function(t,e,i){var n,o,s;if(void 0===i&&(i=65535),0<=i-2)for(n=t.length-1;0<=n;n--)if((o=t[n].groupInfo)&&o.expandInfo&&!(o.level<0)&&o.level===i-1&&0<=(s=c.grid.groupHelper.getParentGroupIndex(e,o.expandInfo)))return o.expandInfo[s];return null},i.isParentCollapsed=function(t,e,i){var n,o;if(1===i)return!1;for(n=i;1<n;n--){if((o=c.grid.groupHelper.getParentGroupRange(t,e,n))&&!o.isExpanded)return!0;e=o.cr}return!1},i.isParentExpanded=function(t,e,i){var n,o;if(1===i)return!0;for(n=i;1<n;n--){if((o=c.grid.groupHelper.getParentGroupRange(t,e,n))&&o.isExpanded)return!0;e=o.cr}return!1},i);function i(){}t.groupHelper=e}(c.grid||(c.grid={}));c.grid}(gcui=gcui||{}),function(u){!function(t){"use strict";jQuery;var e=(i.prototype.isSingleCell=function(){return this.r1===this.r2&&this.c1===this.c2},i);function i(t,e,i,n){switch(arguments.length){case 2:this.r1=this.r2=t,this.c1=this.c2=e;break;case 4:this.r1=t,this.r2=i,this.c1=e,this.c2=n;break;default:this.r1=0,this.r2=0,this.c1=0,this.c2=0}}t.cellRange=e;var n=(o.prototype.merge=function(t,e){var i,n,o;for(this._leaves=e,this._data=t,i=0,n=this._leaves.length;i<n;i++)0<=(o=this._leaves[i]).dataIndex&&!o.isBand&&("free"===o.rowMerge||"restricted"===o.rowMerge)&&this._mergeColumn(o);delete this._data,delete this._leaves},o.prototype._mergeColumn=function(t){var e,i,n,o,s,r=t.dataIndex;for(e=0,i=this._data.length;e<i;e++)if(this._data[e].rowType&u.grid.rowType.data){if((n=this._getCellRange(e,t)).r1!==n.r2)for(o=n.r2-n.r1+1,this._data[n.r1][r].__attr.rowSpan=o,s=n.r1+1;s<=n.r2;s++)this._data[s][r].visible=!1;e=n.r2}},o.prototype._getCellRange=function(t,e){var i,n,o,s,r=e.dataIndex,a=new u.grid.cellRange(t,r),l=(this._data[t][r].value||"").toString(),c=this._data.length;for(a.r2=t;a.r2<c-1&&(i=this._data[a.r2+1]).rowType&u.grid.rowType.data&&(i[r].value||"").toString()===l;a.r2++);return 0<(n=e.leavesIdx)&&"restricted"===e.rowMerge&&0<=(o=this._leaves[n-1]).dataIndex&&(s=this._getCellRange(t,o),a.r1=Math.max(a.r1,s.r1),a.r2=Math.min(a.r2,s.r2)),a},o);function o(){}t.merger=n}(u.grid||(u.grid={}));u.grid}(gcui=gcui||{}),function(p){!function(e){"use strict";var t,c=jQuery;e.EXPANDO="__gcuigrid",(t=e.rowType||(e.rowType={}))._map=[],t.header=1,t.data=2,t.dataAlt=4,t.filter=8,t.groupHeader=16,t.groupFooter=32,t.footer=64,t.emptyDataRow=128;var i;e.rowType;(i=e.renderState||(e.renderState={}))._map=[],i.none=0,i.rendering=1,i.current=2,i.hovered=4,i.selected=8;var n;e.renderState;(n=e.rowScope||(e.rowScope={}))._map=[],n.table=0,n.head=1,n.body=2,n.foot=3;var o;e.rowScope;(o=e.cellRangeExtendMode||(e.cellRangeExtendMode={}))._map=[],o.none=0,o.column=1,o.row=2;var s;e.cellRangeExtendMode;(s=e.objectMode||(e.objectMode={}))._map=[],s.createIfNull=0,s.createAlways=1,s.dispose=2;var r;e.objectMode;(r=e.groupRowCellPurpose||(e.groupRowCellPurpose={}))._map=[],r.groupCell=0,r.aggregateCell=1;e.groupRowCellPurpose;e.compareObj=function(t,e){var i,n,o;if(c.isArray(t)&&c.isArray(e)){if(t.length===e.length){for(o=!0,i=0,n=t.length;i<n&&o;i++)o=p.grid.compareObj(t[i],e[i]);return o}}else{if(c.isPlainObject(t)&&c.isPlainObject(e)){for(i in t)if(t.hasOwnProperty(i)&&!p.grid.compareObj(t[i],e[i]))return!1;for(i in e)if(e.hasOwnProperty(i)&&!p.grid.compareObj(t[i],e[i]))return!1;return!0}t instanceof Date&&(t=t.getTime()),e instanceof Date&&(e=e.getTime())}return t===e},e.stringFormat=function(t){for(var e,i,n=[],o=0;o<arguments.length-1;o++)n[o]=arguments[o+1];if(!t)return"";for(e=0,i=n.length;e<i;e++)t=t.replace(new RegExp("\\{"+e+"\\}","gm"),n[e]);return t},e.validDataKey=function(t){return t&&!(t<0)||0===t},e.validDate=function(t){return!!(t&&t instanceof Date)&&!isNaN(t.getTime())},e.getDataType=function(t){return t.dataType||t._underlyingDataType||"string"},e.iterateChildrenWidgets=function(t,n){t&&n&&t.find(".ui-widget").each(function(i,t){return c.each(c(t).data(),function(t,e){e.widgetName&&n(i,e)}),!0})},e.remove$dataByPrefix=function(i,e){var n=[];c.each(i.data(),function(t){0===t.indexOf(e)&&n.push(t)}),c.each(n,function(t,e){i.removeData(e)})};var a=(l.prototype.getSelection=function(){var t,e=0,i=0;return void 0!==this._dom.selectionStart?(e=this._dom.selectionStart,i=this._dom.selectionEnd):document.selection&&(i=(t=document.selection.createRange().duplicate()).text.length,i+=e=Math.abs(t.moveStart("character",-this._dom.value.length))),{start:e,end:i,length:i-e}},l.prototype.setSelection=function(t){if(void 0!==this._dom.selectionStart)this._dom.setSelectionRange(t.start,t.end);else{var e=this._dom.createTextRange();e.collapse(!0),e.moveStart("character",t.start),e.moveEnd("character",t.end),e.select()}},l.prototype.toggleSelection=function(t){var e=c(this._dom),i="onselectstart"in this._dom;t?i?e.unbind(".gcuigrid-disableSelection"):e.css({MozUserSelect:"",WebkitUserSelect:""}):i?e.bind("selectstart.gcuigrid-disableSelection",function(t){t.preventDefault()}):e.css({MozUserSelect:"-moz-none",WebkitUserSelect:"none"})},l);function l(t){this._dom=t}e.domSelection=a,e.createDynamicField=function(t){return c.extend(!0,{},e.c1basefield.prototype.options,e.c1field.prototype.options,{dynamic:!0,isLeaf:!0,isBand:!1,parentIdx:-1},t)},e.bounds=function(t,e){if(t){var i=t.nodeType?c(t):t,n=i.offset();if(n)return e?{top:n.top,left:n.left,width:i[0].clientWidth||0,height:i[0].clientHeight||0}:{top:n.top,left:n.left,width:i.outerWidth(),height:i.outerHeight()}}return null},e._getDOMText=function(t,e,i){if(void 0===e&&(e=3),t&&0!==e){if(!i&&3===t.nodeType)return t.nodeValue;if(1===t.nodeType){switch(t.type){case"button":case"text":case"textarea":case"select-one":return t.value;case"checkbox":return t.checked.toString()}for(var n,o="",s=0;n=t.childNodes[s++];)o+=p.grid._getDOMText(n,e-1);return o}}return""},e.dataPrefix=function(t,e,i,n){var o,s,r,a=t.jquery||c.isArray(t),l=e+i;if(3===arguments.length)return a?c.data(t[0],l):c.data(t,l);if(a){for(o=0,s=t.length;o<s;o++)r=c.data(t[o],l,n);return r}return c.data(t,l,n)},e.shallowMerge=function(t,e){var i,n,o;if(e&&t)for(i in e)e.hasOwnProperty(i)&&("string"!=(o=typeof(n=e[i]))&&"boolean"!=o&&"number"!=o||void 0!==t[i]||(t[i]=n))},e.isCustomObject=function(t){return t&&"object"==typeof t&&!(t instanceof Date)},e.search=function(t,e){var i,n=c.isFunction(e);for(i in t)if(t.hasOwnProperty(i)&&!0===(n?e(t[i]):t[i]===e))return{at:i,found:t[i]};return{at:null,found:null}},e.getAttributes=function(t,e){if(t){var i,n,o,s,r=0,a={};for(i=0,n=t.attributes.length;i<n;i++)!(s=t.attributes[i].name)||e&&e(s)||(o=t.getAttribute(s),"style"===s&&(o="object"==typeof o?o.cssText:o),o||"class"!==s||(o=t.getAttribute("className")),o&&"function"!=typeof o&&(a[s]=o,r++));if(r)return a}return null},e.deepExtend=function(t,e){var i,n,o,s,r;if(t)for(i in"object"==typeof e||c.isFunction(e)||(e={}),t)n=t[i],o=e[o],n!==e&&(n&&(c.isPlainObject(n)||(s=c.isArray(n)))?(r=s?(s=!1,o&&c.isArray(o)?o:[]):o&&c.isPlainObject(o)?o:{},e[i]=p.grid.deepExtend(n,r)):e[i]=n);return e},e.widgetName=function(t,e){if(t&&t.jquery&&(t=t[0]),t)return 1===arguments.length?c.data(t,"gcuigridwidgetName"):c.data(t,"gcuigridwidgetName",e)};var u=(d._requiresExtendedSupport={date:"",datetime:"","datetime-local":"",month:"",time:""},d.isExtendSupportRequired=function(t){return(t=(t||"").toLowerCase())in p.grid.HTML5InputSupport._requiresExtendedSupport},d.getDefaultInputType=function(t,e){var i=e.inputType;if(!i&&(i="text",t))switch(p.grid.getDataType(e)){case"number":case"currency":i="number";break;case"datetime":i="datetime"}return i},d.toStr=function(t,e){var i=t;if(e=(e||"").toLowerCase(),p.grid.HTML5InputSupport.isExtendSupportRequired(e))switch(e){case"datetime":i=t?i=Globalize.format(t,"yyyy-MM-ddTHH:mm:ssZ"):"";break;case"datetime-local":i=t?i=Globalize.format(t,"yyyy-MM-ddTHH:mm:ss"):"";break;case"date":i=t?i=Globalize.format(t,"yyyy-MM-dd"):"";break;case"month":i=t?i=Globalize.format(t,"yyyy-MM"):"";break;case"time":i=t?i=Globalize.format(t,"HH:mm:ss"):""}else i=t+"";return i},d.parse=function(t,e){function i(t){return t=new Date(t),p.grid.validDate(t)||(t=null),t}var n;if(e=(e||"").toLowerCase(),p.grid.HTML5InputSupport.isExtendSupportRequired(e))switch(e){case"datetime":n=Globalize.parseDate(t,"yyyy-MM-ddTHH:mm:ssZ")||Globalize.parseDate(t,"yyyy-MM-ddTHH:mmZ")||i(t);break;case"datetime-local":n=Globalize.parseDate(t,"yyyy-MM-ddTHH:mm:ss")||Globalize.parseDate(t,"yyyy-MM-ddTHH:mm")||i(t);break;case"date":n=Globalize.parseDate(t,"yyyy-MM-dd")||i(t);break;case"month":n=Globalize.parseDate(t,"yyyy-MM");break;case"time":n=Globalize.parseDate(t,"HH:mm:ss")||Globalize.parseDate(t,"HH:mm");break;case"number":n=parseFloat(t)}else n=t;return n},d.extend=function(t,e,i){if(t)switch(i=(i||"").toLowerCase()){case"date":t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate());break;case"month":t.setFullYear(e.getFullYear(),e.getMonth());break;case"time":t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t.setSeconds(e.getSeconds());break;default:t=e}else t=e;return t},d);function d(){}e.HTML5InputSupport=u,e.isOverAxis=function(t,e,i){return e<t&&t<e+i},e.isOver=function(t,e,i,n,o,s){return p.grid.isOverAxis(t,i,o)&&p.grid.isOverAxis(e,n,s)};var h=0;e.getUID=function(){return"uid"+h++},c.extend(c.gcui.gcuigrid,{rowType:p.grid.rowType,renderState:p.grid.renderState,bounds:p.grid.bounds})}(p.grid||(p.grid={}));p.grid}(gcui=gcui||{}),function(o){!function(t){var e;(e=t.TimeUnit||(t.TimeUnit={}))._map=[],e.Millisecond=1,e.Second=2,e.Minute=4,e.Hour=8,e.Day=16,e.Month=32,e.Year=64,e.DATE=e.Year|e.Month|e.Day,e.TIME=e.Hour|e.Minute|e.Second|e.Millisecond,e.ALL=e.DATE|e.TIME;var r=t.TimeUnit,i=(n.convertInputType=function(t){var e=o.grid.TimeUnitConverter.convertInputTypeToFormatString(t);return o.grid.TimeUnitConverter.convertFormatString(e)},n.convertInputTypeToFormatString=function(t){switch((t||"").toLowerCase()){case"datetime":case"datetime-local":return"f";case"date":return"d";case"month":return"Y";case"time":return"t"}return""},n.convertFormatString=function(t){var e=0;if(t){if(1===t.length)switch(t[0]){case"t":return r.Hour|r.Minute;case"T":return r.TIME;case"d":case"D":return r.DATE;case"Y":return r.Month|r.Year;case"M":return r.Month|r.Day;case"S":return r.ALL}var i,n;0<=(i=t.indexOf("'"))&&0<=(n=t.lastIndexOf("'"))&&i!==n&&(t=t.substr(0,i)+t.substring(n+1,t.length-1));for(var o=0,s=t.length;o<s;o++)switch(t[o]){case"d":e|=r.Day;break;case"M":e|=r.Month;break;case"y":e|=r.Year;break;case"m":e|=r.Minute;break;case"h":case"H":e|=r.Hour;break;case"s":e|=r.Second;break;case"f":e|=r.Millisecond}}return e||r.ALL},n.cutDate=function(t,e){return t&&((e=~e)&r.Millisecond&&t.setMilliseconds(0),e&r.Second&&t.setSeconds(0),e&r.Minute&&t.setMinutes(0),e&r.Hour&&t.setHours(0),e&r.Day&&t.setDate(1),e&r.Month&&t.setMonth(0),e&r.Year&&t.setFullYear(0)),t},n);function n(){}t.TimeUnitConverter=i}(o.grid||(o.grid={}));o.grid}(gcui=gcui||{}),function(c){!function(t){"use strict";var l=jQuery,e=(i.NoFilterOp={applicableTo:null,name:"NoFilter",arity:1,operator:function(){return!0}},i);function i(){}var n=(o.prototype.getByName=function(t){var e=this.getByNameInt(t);return e?e.op:null},o.prototype.getByNameInt=function(t){return this._cache[(t||"").toLowerCase()]},o.prototype.getByDataType=function(n){var o=[];switch(l.each(this._cache,function(t,e){var i=e.op;(!i.applicableTo||0<=l.inArray(n,i.applicableTo))&&o.push(e)}),this._grid.options.filterOperatorsSortMode.toLowerCase()){case"alphabetical":o.sort(this._sortAlpha);break;case"alphabeticalcustomfirst":o.sort(this._sortAlphaCustomFirst);break;case"alphabeticalembeddedFirst":o.sort(this._sortAlphaEmbeddedFirst)}return l.map(o,function(t,e){return t.op})},o.prototype._addOperator=function(t,e,i){void 0===i&&(i=!1),t&&!e.name&&(e.name=t),t=(t||e.name).toLowerCase(),this._cache[t]||(this._cache[t]={op:e,isCustom:!0===i})},o.prototype._sortAlpha=function(t,e){var i=t.op.name.toLowerCase(),n=e.op.name.toLowerCase();if(i!==n){if("nofilter"===i)return-1;if("nofilter"===n)return 1}return i===n?0:i<n?-1:1},o.prototype._sortAlphaEmbeddedFirst=function(t,e){var i=t.op.name.toLowerCase(),n=e.op.name.toLowerCase();if(i!==n){if("nofilter"===i)return-1;if("nofilter"===n)return 1}if(t.isCustom!==e.isCustom){if(t.isCustom)return 1;if(e.isCustom)return-1}return i===n?0:i<n?-1:1},o.prototype._sortAlphaCustomFirst=function(t,e){var i=t.op.name.toLowerCase(),n=e.op.name.toLowerCase();if(i!==n){if("nofilter"===i)return-1;if("nofilter"===n)return 1}if(t.isCustom!==e.isCustom){if(t.isCustom)return-1;if(e.isCustom)return 1}return i===n?0:i<n?-1:1},o);function o(t){this._cache={};var i=this;this._grid=t,this._addOperator(null,e.NoFilterOp),l.each(c.data.filtering.ops,function(t,e){i._addOperator(t,e)}),l.each(t.options.customFilterOperators,function(t,e){i._addOperator(null,e,!0)})}t.filterOperatorsCache=n;var s=(r.marker="_gcuigrid",r.getSingleValue=function(t){return l.isArray(t)&&(t=t[0],l.isArray(t)&&(t=t[0])),t},r.getSingleOperatorName=function(t){return l.isArray(t)&&(t=t[0]),t.name||t||""},r.verify=function(t,e,i,n){if(t)if(l.isArray(t)){var o,s,r=[],a=[];for(l.isArray(e)||(e=[e]),o=0,s=t.length;o<s;o++)c.grid.filterHelper._verifySingleOp(t[o],e[o],i,n)&&(r.push({name:t[o].name||t[o],condition:t[o].condition||"or"}),a.push(e?e[o]:void 0));if(r.length)return{filterOperator:r,filterValue:a}}else if(c.grid.filterHelper._verifySingleOp(t,e,i,n))return{filterOperator:t,filterValue:e};return null},r._verifySingleOp=function(t,e,i,n){var o;return!(!(t=t&&(t.name||t))||"nofilter"===(t=(t||"").toLowerCase())&&void 0===e||!(o=n.getByName(t))||!(null===o.applicableTo||0<=l.inArray(i||"string",o.applicableTo))||!(1===o.arity||1<o.arity&&void 0!==c.grid.filterHelper.getSingleValue(e)))},r);function r(){}t.filterHelper=s}(c.grid||(c.grid={}));c.grid}(gcui=gcui||{}),function(f){!function(t){"use strict";var p=jQuery;t.getTableSection=function(t,e){if(t&&!t.nodeType&&(t=t[0]),t)switch(e){case f.grid.rowScope.head:return t.tHead;case f.grid.rowScope.body:if(t.tBodies)return t.tBodies[0]||null;break;case f.grid.rowScope.foot:return t.tFoot;default:return t}return null},t.getTableSectionLength=function(t,e){var i;return t&&!t.nodeType&&(t=t[0]),t&&(i=this.getTableSection(t,e))?i.rows.length:0},t.getTableSectionRow=function(t,e,i){var n;return t&&!t.nodeType&&(t=t[0]),t&&(n=this.getTableSection(t,e))&&n.rows[i]||null},t.readTableSection=function(t,e,i){function n(t){return"rowspan"===(t=t.toLowerCase())||"colspan"===t}var o,s,r,a,l,c,u,d,h=[];if(t&&!t.nodeType&&(t=t[0]),t&&(d=this.getTableSection(t,e)))for(o=0,s=d.rows.length;o<s;o++){for(l=d.rows[o],c=[],i&&(u=f.data.Expando.getFrom(c,!0)[f.grid.EXPANDO]={cellsAttributes:{},rowAttributes:f.grid.getAttributes(l)||{}}),r=0,a=l.cells.length;r<a;r++)c[r]=p.trim(l.cells[r].innerHTML),i&&(u.cellsAttributes[r]=f.grid.getAttributes(l.cells[r],n)||{});h[o]=c}return h};var e=(i.prototype.element=function(){return this._table},i.prototype.width=function(){return this._width},i.prototype.getCellIdx=function(t,e){return t<this._width?this._offsets[e][t].cellIdx:-1},i.prototype.getColumnIdx=function(t,e){if("number"!=typeof t){var i=t;t=i.cellIndex,e=i.parentNode.rowIndex}return t<this._width?this._offsets[e][t].colIdx:-1},i.prototype.clearSection=function(t){var e,i,n=f.grid.getTableSection(this._table,t);switch(t){case f.grid.rowScope.body:i=(e=this.getSectionLength(f.grid.rowScope.table))+this.getSectionLength(t)-1;break;case f.grid.rowScope.foot:i=(e=this.getSectionLength(f.grid.rowScope.table)+this.getSectionLength(f.grid.rowScope.head))+this.getSectionLength(t)-1;break;default:e=0,i=this.getSectionLength(t)-1}for(;n.rows.length;)n.deleteRow(0);this._offsets.splice(e,i-e+1)},i.prototype.getSectionLength=function(t){return f.grid.getTableSectionLength(this._table,t)},i.prototype.getSectionRow=function(t,e){return f.grid.getTableSectionRow(this._table,e,t)},i.prototype.forEachColumnCellNatural=function(t,e,i){var n,o,s,r;for(n=0,o=this._table.rows.length;n<o;n++)if(t<(s=this._table.rows[n]).cells.length&&!0!==(r=e(s.cells[t],n,i)))return r;return!0},i.prototype.forEachColumnCell=function(t,e,i){var n,o,s,r,a;for(n=0,o=this._offsets.length;n<o;n++)if(s=this._table.rows[n],0<=(r=this.getCellIdx(t,n))&&!0!==(a=e(s.cells[r],n,i)))return a;return!0},i.prototype.forEachRowCell=function(t,e,i){var n,o,s,r=this._table.rows[t];for(n=0,o=r.cells.length;n<o;n++)if(!0!==(s=e(r.cells[n],n,i)))return s;return!0},i.prototype.colGroupTag=function(){var t=this._table.getElementsByTagName("colgroup");return t&&t[0]||null},i.prototype.colTags=function(){var t=this.colGroupTag();return t&&t.getElementsByTagName("col")||[]},i.prototype.ensureTBody=function(){return this._table.tBodies&&this._table.tBodies[0]||this._table.appendChild(document.createElement("tbody"))},i.prototype.ensureTHead=function(){return this._table.tHead&&this._table.tHead[0]||this._table.createTHead()},i.prototype.ensureTFoot=function(){return this._table.tFoot&&this._table.tFoot[0]||this._table.createTFoot()},i.prototype.ensureColGroup=function(){var t=this._table.getElementsByTagName("colgroup");return t&&t[0]||this._table.appendChild(document.createElement("colgroup"))},i.prototype.appendCol=function(t){var e=this.ensureColGroup();return t&&e.appendChild(t)||e.appendChild(document.createElement("col"))},i.prototype.removeOffset=function(t){0<=t&&t<this._offsets.length&&((t<0||!t&&0!==t)&&(t=this._offsets.length-1),this._offsets.splice(t,1))},i.prototype.insertOffset=function(t){var e,i;if(0<this._width){for(e=[],i=0;i<this._width;i++)e.push({cellIdx:i,colIdx:i});(t<0||!t&&0!==t)&&(t=this._offsets.length),this._offsets.splice(t,0,e)}},i.prototype.rebuildOffsets=function(){this._offsets=[],this._width=0,this._buildOffsets()},i.prototype._buildOffsets=function(){var t,e,i,n,o,s,r,a,l,c,u=[];for(e=0,i=this._table.rows.length;e<i;e++){for(t=[],this._offsets[e]=t,s=o=0,r=(n=this._table.rows[e]).cells.length;o<r;o++,s++){for(a=n.cells[o];1<u[s];s++)u[s]--,t[s]={cellIdx:-1,colIdx:-1};for(1<u[s]||(u[s]=a.rowSpan),t[s]={cellIdx:o,colIdx:-1},t[o].colIdx=s,l=a.colSpan;1<l;l--)t[++s]={cellIdx:-1,colIdx:-1}}for(c=u.length;s<c;s++)u[s]--,t[s]={cellIdx:-1,colIdx:-1};this._width=Math.max(this._width,c)}},i);function i(t,e,i,n){this._width=0,this._table=t,this._offsets=[],n&&this.ensureColGroup(),i&&this.ensureTBody(),e||this._buildOffsets()}t.htmlTableAccessor=e}(f.grid||(f.grid={}));f.grid}(gcui=gcui||{}),function(r){!function(t){"use strict";var i=jQuery,e=(n.outsideValue=new n(-1,-1,null,!0),n.prototype.cellIndexAbs=function(t){if(0===arguments.length)return this._ensureCia(),this._cia;this._ci=void 0,this._cia=t},n.prototype.rowIndexAbs=function(t){if(0===arguments.length)return this._ensureRia(),this._ria;this._ri=void 0,this._ria=t},n.prototype.cellIndex=function(t){if(0===arguments.length)return this._ensureCi(),this._ci;this._cia=void 0,this._ci=t},n.prototype.column=function(){return this._grid&&this._isValid()?this._grid._field("visibleLeaves")[this.cellIndexAbs()]:null},n.prototype.container=function(){var t,e=this.tableCell();return e&&(t=i(e).children("div.gcui-gcuigrid-innercell"))?t:null},n.prototype.isEqual=function(t){return t&&t.rowIndex()===this.rowIndex()&&t.cellIndex()===this.cellIndex()},n.prototype.row=function(){var t=null,e=null;return this._grid&&(t=this._grid._view().rows().item(this.rowIndexAbs()))&&t.length&&(e=this._grid._view()._getRowInfo(t)),e},n.prototype.rowIndex=function(t){if(0===arguments.length)return this._ensureRi(),this._ri;this._ria=void 0,this._ri=t},n.prototype.tableCell=function(){return this._grid&&this._isValid()?this._grid._view().getCell(this.cellIndexAbs(),this.rowIndexAbs()):null},n.prototype.value=function(t){var e,i,n;if(this._grid&&this._isValid()&&(i=this._grid._view()._getRowInfo(this._grid._rows().item(this.rowIndex()))).type&r.grid.rowType.data){if(e=this.column(),0===arguments.length)return n=this._grid._dataViewWrapper.getValue(i.data,e.dataKey),this._grid.parse(e,n);if(null===(t=this._grid.parse(e,t))&&e.valueRequired||"string"!==r.grid.getDataType(e)&&isNaN(t))throw"invalid value";this._grid._dataViewWrapper.setValue(i.dataItemIndex,e.dataKey,t)}},n.prototype.toString=function(){return this.cellIndex()+":"+this.rowIndex()},n.prototype._clip=function(t,e){void 0===e&&(e=!1);var i,n=!1;return e?(this.cellIndexAbs()<(i=t.topLeft().cellIndexAbs())&&(n=!0,this._cia=i,this._ci=void 0),this.cellIndexAbs()>(i=t.bottomRight().cellIndexAbs())&&(n=!0,this._cia=i,this._ci=void 0),this.rowIndexAbs()<(i=t.topLeft().rowIndexAbs())&&(n=!0,this._ria=i,this._ri=void 0),this.rowIndexAbs()>(i=t.bottomRight().rowIndexAbs())&&(n=!0,this._ria=i,this._ri=void 0)):(this.cellIndex()<(i=t.topLeft().cellIndex())&&(n=!0,this._ci=i,this._cia=void 0),this.cellIndex()>(i=t.bottomRight().cellIndex())&&(n=!0,this._ci=i,this._cia=void 0),this.rowIndex()<(i=t.topLeft().rowIndex())&&(n=!0,this._ri=i,this._ria=void 0),this.rowIndex()>(i=t.bottomRight().rowIndex())&&(n=!0,this._ri=i,this._ria=void 0)),n},n.prototype._clone=function(){return new r.grid.cellInfo(this.cellIndex(),this.rowIndex(),this._grid)},n.prototype._isValid=function(){return 0<=this.cellIndex()&&0<=this.rowIndex()},n.prototype._isEdit=function(t){if(!arguments.length)return this.__isEdit;this.__isEdit=t},n.prototype._setGridView=function(t){this._grid=t},n.prototype._ensureCia=function(){if(void 0===this._cia){if(null===this._ci)throw"relative index value is undefined";if(0<=this._ci){if(!this._grid)throw"gcuigrid is null";this._cia=this._ci+this._grid._getDataToAbsOffset().x}else this._cia=this._ci;this._cia<0&&(this._cia=-1)}},n.prototype._ensureRia=function(){if(void 0===this._ria){if(void 0===this._ri)throw"relative index value is undefined";if(0<=this._ri){if(!this._grid)throw"gcuigrid is null";this._ria=this._ri+this._grid._getDataToAbsOffset().y}else this._ria=this._ri;this._ria<0&&(this._ria=-1)}},n.prototype._ensureCi=function(){if(void 0===this._ci){if(void 0===this._cia)throw"absolute index value is undefined";if(0<=this._cia){if(!this._grid)throw"gcuigrid is null";this._ci=this._cia-this._grid._getDataToAbsOffset().x}else this._ci=this._cia;this._ci<0&&(this._ci=-1)}},n.prototype._ensureRi=function(){if(void 0===this._ri){if(void 0===this._ria)throw"relative index value is undefined";if(0<=this._ria){if(!this._grid)throw"gcuigrid is null";this._ri=this._ria-this._grid._getDataToAbsOffset().y}else this._ri=this._ria;this._ri<0&&(this._ri=-1)}},n);function n(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=!1),this.__isEdit=!1,this._grid=i,n?(this._cia=t,this._ria=e):(this._ci=t,this._ri=e)}t.cellInfo=e;var o=(s.prototype.bottomRight=function(){return this._bottomRight},s.prototype.isEqual=function(t){return t&&this._topLeft.isEqual(t.topLeft())&&this._bottomRight.isEqual(t.bottomRight())},s.prototype.topLeft=function(){return this._topLeft},s.prototype.toString=function(){return this._topLeft.toString()+" - "+this._bottomRight.toString()},s.prototype._isIntersect=function(t){var e,i,n,o;return!!(t&&(e=t.bottomRight().rowIndex()-t.topLeft().rowIndex()+1,i=this._bottomRight.rowIndex()-this._topLeft.rowIndex()+1,t.topLeft().rowIndex()+e-this._topLeft.rowIndex()<e+i))&&(n=t.bottomRight().cellIndex()-t.topLeft().cellIndex()+1,o=this._bottomRight.cellIndex()-this._topLeft.cellIndex()+1,t.topLeft().cellIndex()+n-this._topLeft.cellIndex()<n+o)},s.prototype._isValid=function(){return this._topLeft._isValid()&&this._bottomRight._isValid()},s.prototype._clip=function(t,e){void 0===e&&(e=!1);var i=this._topLeft._clip(t,e),n=this._bottomRight._clip(t,e);return i||n},s.prototype._clone=function(){return new s(this._topLeft._clone(),this._bottomRight._clone())},s.prototype._containsCellInfo=function(t){return t&&t.cellIndex()>=this._topLeft.cellIndex()&&t.cellIndex()<=this._bottomRight.cellIndex()&&t.rowIndex()>=this._topLeft.rowIndex()&&t.rowIndex()<=this._bottomRight.rowIndex()},s.prototype._containsCellRange=function(t){return t&&this._containsCellInfo(t.topLeft())&&this._containsCellInfo(t.bottomRight())},s.prototype._extend=function(t,e){return t===r.grid.cellRangeExtendMode.column?(this._topLeft.rowIndex(e.topLeft().rowIndex()),this._bottomRight.rowIndex(e.bottomRight().rowIndex())):t===r.grid.cellRangeExtendMode.row&&(this._topLeft.cellIndex(e.topLeft().cellIndex()),this._bottomRight.cellIndex(e.bottomRight().cellIndex())),this},s.prototype._normalize=function(){var t=this._topLeft.cellIndex(),e=this._topLeft.rowIndex(),i=this._bottomRight.cellIndex(),n=this._bottomRight.rowIndex();this._topLeft.cellIndex(Math.min(t,i)),this._topLeft.rowIndex(Math.min(e,n)),this._bottomRight.cellIndex(Math.max(t,i)),this._bottomRight.rowIndex(Math.max(e,n))},s.prototype._height=function(){return this._bottomRight.rowIndex()-this._topLeft.rowIndex()},s.prototype._width=function(){return this._bottomRight.cellIndex()-this._topLeft.cellIndex()},s);function s(t,e){if(!t||!e)throw"invalid arguments";this._topLeft=t._clone(),this._bottomRight=e._clone()}t.cellInfoRange=o,i.extend(i.gcui.gcuigrid,{cellInfo:r.grid.cellInfo,cellInfoRange:r.grid.cellInfoRange})}(r.grid||(r.grid={}));r.grid}(gcui=gcui||{}),function(u){!function(t){"use strict";var p=jQuery,e=(i.prototype.dispose=function(){this.toggleDOMSelection(!0),this._grid.element.removeClass("gcui-gcuigrid-table")},i.prototype.ensureDisabledState=function(){var n="gcui-gcuigrid-disabled "+this._grid.options.uiCSS.stateDisabled,o=this._grid.options.disabled,s=this;p.each(this.subTables(),function(t,e){if(e){var i=p(e.element());o?(i.addClass(n),s._grid._setAttr(i,"aria-disabled",!0)):(i.removeClass(n),s._grid._setAttr(i,"aria-disabled",!1))}})},i.prototype.ensureWidth=function(t,e,i){this._setColumnWidth(t,e)},i.prototype.ensureHeight=function(t){},i.prototype.getScrollValue=function(){return null},i.prototype.getVisibleAreaBounds=function(){throw"not implemented"},i.prototype.getFixedAreaVisibleBounds=function(){throw"not implemented"},i.prototype.render=function(){this._ensureRenderBounds(),this._preRender();var t=this._grid.outerDiv.css("display");this._grid.outerDiv.css("display","none"),this._renderContent(),this._grid.outerDiv.css("display",t),this._postRender()},i.prototype.toggleDOMSelection=function(i){p.each(this.subTables(),function(t,e){new u.grid.domSelection(e.element()).toggleSelection(i)}),new u.grid.domSelection(this._grid.outerDiv).toggleSelection(i)},i.prototype.updateSplits=function(t){throw"not implemented"},i.prototype.bodyRows=function(){return this._bodyRowsAccessor||(this._bodyRowsAccessor=new u.grid.rowAccessor(this,u.grid.rowScope.body,0,0)),this._bodyRowsAccessor},i.prototype.filterRow=function(){if(this._grid.options.showFilter){var t=new u.grid.rowAccessor(this,u.grid.rowScope.head,0,0);return t.item(t.length()-1)}return null},i.prototype.headerRows=function(){var t;return this._headerRowsAccessor||(t=this._grid.options.showFilter?1:0,this._headerRowsAccessor=new u.grid.rowAccessor(this,u.grid.rowScope.head,0,t)),this._headerRowsAccessor},i.prototype.rows=function(){return this._rowsAccessor||(this._rowsAccessor=new u.grid.rowAccessor(this,u.grid.rowScope.table,0,0)),this._rowsAccessor},i.prototype.focusableElement=function(){throw"not implemented"},i.prototype.forEachColumnCell=function(t,e,i){throw"not implemented"},i.prototype.forEachRowCell=function(t,e,i){throw"not implemented"},i.prototype.getAbsoluteCellInfo=function(t){throw"not implemented"},i.prototype.getAbsoluteRowIndex=function(t){throw"not implemented"},i.prototype.getCell=function(t,e){throw"not implemented"},i.prototype.getColumnIndex=function(t){throw"not implemented"},i.prototype.getHeaderCell=function(t){throw"not implemented"},i.prototype.getJoinedCols=function(t){throw"not implemented"},i.prototype.getJoinedRows=function(t,e){throw"not implemented"},i.prototype.getJoinedTables=function(t,e){throw"not implemented"},i.prototype.subTables=function(){throw"not implemented"},i.prototype._getMappedScrollMode=function(){var t="auto",e="auto";switch(this._grid.options.scrollMode){case"horizontal":t="hidden",e="visible";break;case"vertical":t="visible",e="hidden";break;case"both":e=t="visible"}return{vScrollBarVisibility:t,hScrollBarVisibility:e}},i.prototype._postRender=function(){if(this.ensureDisabledState(),this._sizesAdjCache.col=0,this._sizesAdjCache.th=0,(this._sizesAdjCache.subTable=0)<this._grid._field("visibleLeaves").length){var t=this.getHeaderCell(0),e=this.getJoinedCols(0);t&&(this._sizesAdjCache.th=p(t).leftBorderWidth()+p(t).rightBorderWidth()),e&&e.length&&(this._sizesAdjCache.col=p(e[0]).leftBorderWidth()+p(e[0]).rightBorderWidth())}var i=this.subTables()[0];this._sizesAdjCache.subTable=p(i.element()).leftBorderWidth()+p(i.element()).rightBorderWidth()},i.prototype._preRender=function(){throw"not implemented"},i.prototype._ensureRenderBounds=function(){var t=this._grid._getDataCellsRange();this._bounds.start=0,this._bounds.end=t.bottomRight().rowIndex()},i.prototype._renderContent=function(){this._renderCOLS(),this._renderHeader(),this._grid.options.showFilter&&this._renderFilter(),this._renderBody(),this._grid.options.showFooter&&this._renderFooter()},i.prototype._renderCOLS=function(){var t,e,i,n,o=this._grid._field("visibleLeaves");for(i=0,n=o.length;i<n;i++)t=o[i],e=this._createCol(t,i),this._appendCol(e,t,i)},i.prototype._renderHeader=function(){var t,e,i,n=u.grid.rowType,o=this._grid._columnsHeadersTable();if(o&&(e=o.length))for(t=0;t<e;t++)i=this._insertEmptyRow(n.header,t,-1,-1,-1),this._renderRow(i,null,o[t])},i.prototype._renderFilter=function(){var t=this._insertEmptyRow(u.grid.rowType.filter,-1,-1,-1,-1);this._renderRow(t,this._grid._field("visibleLeaves"),null)},i.prototype._renderBody=function(){var t,e,i,n,o=u.grid.rowType,s=this._grid._field("visibleLeaves"),r=this._grid.sketchTable,a=-1,l=0,c=this._grid._dataOffset;if(0<=this._bounds.start)for(t=this._bounds.start;t<=this._bounds.end;t++)n=0!=((i=r[t-c]).rowType&o.data),e=this._insertEmptyRow(i.rowType,l++,n?++a:-1,n?i.originalRowIndex:-1,n?0+i.originalRowIndex:-1),this._renderRow(e,s,i)},i.prototype._renderFooter=function(){var t=this._insertEmptyRow(u.grid.rowType.footer,-1,-1,-1,-1);this._renderRow(t,this._grid._field("visibleLeaves"),null)},i.prototype._insertEmptyRow=function(t,e,i,n,o){var s=this._grid._onViewInsertEmptyRow.apply(this._grid,arguments),r=this._insertRow(t,e,s);return this._createRowInfo(r,t,u.grid.renderState.rendering,e,i,n,o)},i.prototype._createEmptyCell=function(t,e,i){u.grid.rowType;var n=this._grid._onViewCreateEmptyCell.apply(this._grid,arguments);return this._createCell(t.type,n)},i.prototype._insertRow=function(t,e,i){throw"not implemented"},i.prototype._createCell=function(t,e){var i,n=u.grid.rowType;if(e=e||(t===n.header?document.createElement("th"):document.createElement("td")),t!==n.filter){if((i=document.createElement("div")).className="gcui-gcuigrid-innercell",e.firstChild)for(;e.firstChild;)i.appendChild(e.firstChild);e.appendChild(i)}return p(e)},i.prototype._appendCell=function(t,e,i){throw"not implemented"},i.prototype._createCol=function(t,e){throw"not implemented"},i.prototype._appendCol=function(t,e,i){throw"not implemented"},i.prototype._renderRow=function(t,e,i){var n,o,s=u.grid.rowType;switch(t.type){case s.filter:this._renderFilterRow(t,e);break;case s.footer:this._renderFooterRow(t,e);break;case s.header:this._renderHeaderRow(t,i);break;case s.data:case s.data|s.dataAlt:this._renderDataRow(t,e,i),n=i.__attr,o=i.__style;break;case s.emptyDataRow:case s.groupHeader:case s.groupFooter:this._renderSpannedRow(t,e,i),n=i.__attr,o=i.__style;break;default:throw"unknown rowType"}this._rowRendered(t,n,o)},i.prototype._renderCell=function(t,e,i,n,o,s,r){var a=this._createEmptyCell(t,o.dataIndex,o),l=t.type===u.grid.rowType.filter?a:p(a[0].firstChild);this._appendCell(t,e,a),n?l.html(i):this._grid.cellFormatter.format(l,o,i,t),this._cellRendered(t,a,e,o,s,r)},i.prototype._renderDataRow=function(t,e,i){var n,o,s,r,a,l,c;for(n=0,o=e.length;n<o;n++)0<=(r=(s=e[n]).dataIndex)&&(!i[r]||!1===i[r].visible)||(a=0<=r?this._grid.toStr(s,i[r].value):null,l=0<=r?i[r].__attr:null,c=0<=r?i[r].__style:null,this._renderCell(t,n,a,!1,s,l,c))},i.prototype._renderFilterRow=function(t,e){var i,n,o;for(i=0,n=e.length;i<n;i++)o=e[i],this._renderCell(t,i,u.grid.filterHelper.getSingleValue(o.filterValue),!1,o)},i.prototype._renderFooterRow=function(t,e){var i,n;for(i=0,n=e.length;i<n;i++)this._renderCell(t,i,"",!1,e[i])},i.prototype._renderHeaderRow=function(t,e){var i,n,o,s=0;for(i=0,n=e.length;i<n;i++)(o=e[i]).column&&o.column.parentVis&&(o.column.thX=s++,o.column.thY=t.sectionRowIndex,this._renderCell(t,i,o.column.headerText,!1,o.column,{colSpan:o.colSpan,rowSpan:o.rowSpan}))},i.prototype._renderSpannedRow=function(t,e,i){var n,o=Math.min(e.length,i.length);for(n=0;n<o;n++)this._renderCell(t,n,i[n].html,!0,e[n],i[n].__attr,i[n].__style)},i.prototype._cellRendered=function(t,e,i,n,o,s){this._grid.cellStyleFormatter.format(e,i,n,t,u.grid.renderState.rendering,o,s),this._changeCellRenderState(e,u.grid.renderState.rendering,!1),this._grid._onViewCellRendered(t,e,i,n)},i.prototype._rowRendered=function(t,e,i){this._grid.rowStyleFormatter.format(t,e,i),t.state&=~u.grid.renderState.rendering,this._setRowInfo(t.$rows,t),this._grid._onViewRowRendered(t)},i.prototype._isBodyRow=function(t){var e=u.grid.rowType,i=t.type;return i&e.data||i===e.groupHeader||i===e.groupFooter||i===e.emptyDataRow},i.prototype._changeRowRenderState=function(t,e,i){i?t.state|=e:t.state&=~e,this._setRowInfo(t.$rows,t)},i.prototype._changeCellRenderState=function(t,e,i){var n=u.grid.dataPrefix,o=this._grid._data$prefix,s=n(t,o,"renderState");return n(t,o,"renderState",i?e|=s:e=s&~e),e},i.prototype._adjustWidthArray=function(t,e,i,n){var o,s,r,a=this._sumWidthArray(t),l=this._sumWidthArray(e),c=[],u=0,d=!0;if(a<=i){if(p.extend(!0,c,t),a===i||n)return c;o=i-a}else{if(p.extend(!0,c,e),i<=l)return c;o=i-l}return p.each(c,function(t,e){e.real||u++}),0!==u&&(s=Math.floor(o/u),r=o-s*u,p.each(c,function(t,e){e.real||(e.width+=s,d&&(e.width+=r,d=!1))})),c},i.prototype._getColumnWidth=function(t){var e,i,n,o,s,r,a,l,c,u,d;if(void 0!==(i=this._grid._field("visibleLeaves")[t])._realWidth)e={width:i._realWidth,real:!0};else if(i.isRowHeader)e={width:this._rowHeaderSize,real:!0};else{var h=0;for(o=(n=this.getJoinedTables(!0,t))[2],s=0;s<2;s++)if(null!==(r=n[s])&&(d=(a=r.element().rows).length)){for(u=d-1,c=null;0<=u;u--)if(a[u].cells.length===r.width()){c=a[u];break}c&&(l=c.cells[o],h=Math.max(h,p(l).outerWidth()))}e={width:h,real:!1}}return e},i.prototype._setColumnWidth=function(t,i){var n,e=this.getHeaderCell(t),o=this.getJoinedCols(t);if(i){var s=this;e&&((n=i-this._sizesAdjCache.th)<0&&(n=0),e.style.width=n+"px"),p.each(o,function(t,e){e&&((n=i-s._sizesAdjCache.col)<0&&(n=0),e.style.width=n+"px")})}},i.prototype._setTableWidth=function(t,i,e,n){var o,s=this;p.each(t,function(t,e){e[0].style.tableLayout="fixed",e[0].style.width=i-s._sizesAdjCache.subTable+"px"}),0!=(o=t[0].outerWidth()-i)&&this._setColumnWidth(n,e-o)},i.prototype._sumWidthArray=function(t,i,n){var o=0;return p.each(t,function(t,e){if(void 0!==i&&void 0!==n&&(t<i||n<t))return!0;o+=e.width}),o},i.prototype._clearBody=function(){p.each(this.subTables(),function(t,e){e.clearSection(2)})},i.prototype._rebuildOffsets=function(){p.each(this.subTables(),function(t,e){e.rebuildOffsets()})},i.prototype._removeBodyRow=function(t,e){var i,n,o,s,r,a=u.grid.rowType,l=this._grid._rows();if(0<=t&&t<(n=l.length())){if(e)for(i=0;i<n;i++)(o=this._getRowInfo(l.item(i))).sectionRowIndex,o.sectionRowIndex>t&&(o.sectionRowIndex--,o.type&a.data&&(o.type&a.dataAlt?o.type&=~a.dataAlt:o.type|=a.dataAlt,o.dataItemIndex--,o.dataRowIndex--,o.virtualDataItemIndex--),this._setRowInfo(o.$rows,o));o=this._getRowInfo(l.item(t),!1),s=this.getAbsoluteRowIndex(o.$rows[0]),o.$rows.remove(),(r=this.getJoinedTables(!1,s))[0]&&r[0].removeOffset(r[2]),r[1]&&r[1].removeOffset(r[2])}},i.prototype._insertBodyRow=function(t,e,i,n){var o,s,r,a=this._grid._field("visibleLeaves"),l=u.grid.rowType,c=(this._grid._view(),this._grid._rows().length());return t.rowType,l.data,(e<0||c<=e||!e&&0!==e)&&(e=c),o=this._insertEmptyRow(t.rowType,e,-1,i,n),this._renderRow(o,a,t),s=this.getAbsoluteRowIndex(o.$rows[0]),(r=this.getJoinedTables(!1,s))[0]&&r[0].insertOffset(s),r[1]&&r[1].insertOffset(s),o},i.prototype._findRowInfo=function(t){var e,i=this.bodyRows(),n=0,o=i.length();if(p.isFunction(t))for(n=0;n<o;n++)if(!0===t(e=this._getRowInfo(i.item(n))))return e;return null},i.prototype._setRowInfo=function(t,e){var i,n,o="$rows"in e,s="data"in e;o&&(i=e.$rows,delete e.$rows),s&&(n=e.data,delete e.data),u.grid.dataPrefix(t,this._grid._data$prefix,"rowInfo",e),o&&(e.$rows=i),s&&(e.data=n)},i.prototype._getRowInfo=function(t,e){void 0===e&&(e=!0);var i=this._grid,n=t[1]?p(t):p(t[0]),o=u.grid.dataPrefix(n,i._data$prefix,"rowInfo");if(o.$rows=n,e&&0<=o.dataItemIndex&&o.type&u.grid.rowType.data)try{o.data=i._getDataItem(o.dataItemIndex)}catch(t){o.data=null}return o},i.prototype._createRowInfo=function(t,e,i,n,o,s,r){var a={type:e,state:i,sectionRowIndex:n,dataRowIndex:o,dataItemIndex:s,virtualDataItemIndex:r,$rows:p(t)};return 0<=s&&e&u.grid.rowType.data&&(a.data=this._grid._getDataItem(s)),a},i);function i(t,e){if(this._rowHeaderSize=22,this._sizesAdjCache={th:0,col:0,subTable:0},!t)throw"'gcuigrid' must be specified";this._grid=t,this._bounds=e,this._grid.element.addClass("gcui-gcuigrid-table")}t.baseView=e}(u.grid||(u.grid={}));u.grid}(gcui=gcui||{}),function(r){!function(t){"use strict";var s,h=jQuery,e=(s=t.baseView,__extends(i,s),i.prototype.dispose=function(){this._grid.outerDiv.unbind("scroll",this._onScroll),s.prototype.dispose.call(this)},i.prototype.ensureWidth=function(t,e,i){var n=h(this._dataTable.element()),o=n.width()+e-i;s.prototype.ensureWidth.call(this,t,e,i),this._setTableWidth([n],o,e,t)},i.prototype.getVisibleAreaBounds=function(){var t,e=r.grid.bounds(this._dataTable.element());return"none"===this._grid.options.scrollMode?e:(t=r.grid.bounds(this._grid.outerDiv.find(".gcui-gcuigrid-split-area-se:first")[0]),{top:e.top,left:e.left,width:Math.min(t.width,e.width),height:Math.min(t.height,e.height)})},i.prototype.updateSplits=function(t){var e,i,n,o=this,s=this._grid,r=s.options,a=s.element,l=[],c=[],u=s._field("visibleLeaves"),d=s.outerDiv;a.css({"table-layout":"",width:""}),h.each(u,function(t,e){var i=e.width;!i&&0!==i||(i="string"==typeof i&&1<i.length&&"%"===i[i.length-1]?d.width()*parseFloat(i)/100:parseFloat(i),(e.ensurePxWidth||void 0===e.ensurePxWidth&&r.ensureColumnsPxWidth)&&(e._realWidth=i),o._setColumnWidth(t,i))}),h.each(u,function(t,e){l.push(o._getColumnWidth(t))}),a.css("width","1px"),h.each(u,function(t,e){c.push(o._getColumnWidth(t))}),i=d.width(),e=this._adjustWidthArray(l,c,i,r.ensureColumnsPxWidth),h.each(e,function(t,e){var i=u[t];void 0===i._realWidth?o._setColumnWidth(t,e.width):delete i._realWidth}),-1!=(n=e.length-1)&&this._setTableWidth([a],this._sumWidthArray(e,0,n),e[n].width,n)},i.prototype.focusableElement=function(){return h(this._dataTable.element())},i.prototype.forEachColumnCell=function(t,e,i){return this._dataTable.forEachColumnCell(t,e,i)},i.prototype.forEachRowCell=function(t,e,i){return this._dataTable.forEachRowCell(t,e,i)},i.prototype.getAbsoluteCellInfo=function(t){return new r.grid.cellInfo(this.getColumnIndex(t),t.parentNode.rowIndex,this._grid,!0)},i.prototype.getAbsoluteRowIndex=function(t){return t.rowIndex},i.prototype.getCell=function(t,e){var i,n=this._dataTable.getCellIdx(t,e);return 0<=n&&(i=this.getJoinedRows(e,0))[0]?i[0].cells[n]:null},i.prototype.getColumnIndex=function(t){return this._dataTable.getColumnIdx(t)},i.prototype.getHeaderCell=function(t){var e,i=this._grid._field("visibleLeaves")[t];return i&&(e=this._grid._headerRows())?r.grid.rowAccessor.getCell(e.item(i.thY),i.thX):null},i.prototype.getJoinedCols=function(t){var e=h(this._dataTable.element()).find("> colgroup");return e.length&&t<e[0].childNodes.length?[e[0].childNodes[t],null]:[null,null]},i.prototype.getJoinedRows=function(t,e){return[this._dataTable.getSectionRow(t,e),null]},i.prototype.getJoinedTables=function(t,e){return[this._dataTable,null,e]},i.prototype.subTables=function(){return[this._dataTable]},i.prototype._preRender=function(){this._dataTable=new r.grid.htmlTableAccessor(this._grid.element[0],!0,!0,!0)},i.prototype._postRender=function(){this._grid.element.find("> tbody").addClass(this._grid.options.uiCSS.content+" gcui-gcuigrid-data"),this._dataTable=new r.grid.htmlTableAccessor(this._grid.element[0]),this._grid._setAttr(this._grid.element,{role:"grid",cellpadding:"0",border:"0",cellspacing:"0"}),this._grid.element.css("border-collapse","separate"),this._grid.outerDiv.bind("scroll",{gcuigrid:this._grid},h.proxy(this._onScroll,this)),s.prototype._postRender.call(this)},i.prototype._insertRow=function(t,e,i){var n,o=r.grid.rowType;switch(t){case o.header:case o.filter:n=this._dataTable.ensureTHead();break;case o.footer:n=this._dataTable.ensureTFoot();break;default:n=this._dataTable.ensureTBody()}return i?[n.appendChild(i)]:(e>n.rows.length&&(e=-1),[n.insertRow(e)])},i.prototype._rowRendered=function(t,e,i){var n=t.$rows[0];!n.cells.length&&this._isBodyRow(t)?n.parentNode.removeChild(n):s.prototype._rowRendered.call(this,t,e,i)},i.prototype._appendCell=function(t,e,i){t.$rows[0].appendChild(i[0])},i.prototype._createCol=function(t,e){return[document.createElement("col")]},i.prototype._appendCol=function(t,e,i){this._dataTable.appendCol(t[0])},i.prototype._onScroll=function(t){t.data.gcuigrid.$superPanelHeader&&t.data.gcuigrid.$superPanelHeader.css("left",t.target.scrollLeft),t.data.gcuigrid.$bottomPagerDiv&&t.data.gcuigrid.$bottomPagerDiv.css("left",t.target.scrollLeft)},i);function i(t,e){s.call(this,t,e),this._dataTable=null,this._contentArea=null}t.flatView=e}(r.grid||(r.grid={}));r.grid}(gcui=gcui||{}),function(l){!function(t){"use strict";var g,C=jQuery,e=(g=t.baseView,__extends(i,g),i.prototype.dispose=function(){g.prototype.dispose.call(this),this._grid.outerDiv.unbind("mousewheel",this._mouseWheelHandler)},i.prototype.ensureWidth=function(t,e,i){var n=this._grid,o=n.options,s=this._staticColumnIndex,r=t<=s,a=C(this._viewTables.nw.element()),l=C(this._viewTables.ne.element()),c=C(this._viewTables.sw.element()),u=C(this._viewTables.se.element()),d=r?[a,c]:[l,u],h=(r?a.width():l.width())+e-i,p=n._field("frozener"),f=this.getScrollValue();this._destroySuperPanel(),g.prototype.ensureWidth.call(this,t,e,i),this._setTableWidth(d,h,e,t);try{o.splitDistanceX=0<=s?a[0].offsetWidth:0}catch(t){}this._updateSplitAreaBounds(0),this._adjustRowsHeights();try{0<=this._staticRowIndex?o.splitDistanceY=Math.max(a[0].offsetHeight,l[0].offsetHeight):o.splitDistanceY=0}catch(t){}this._updateSplitAreaBounds(1),this.refreshPanel(f),p.refresh()},i.prototype.ensureHeight=function(t){var e,i,n=this._grid,o=n.options,s=C(this._viewTables.nw.element()),r=C(this._viewTables.ne.element()),a=C(this._viewTables.sw.element()),l=C(this._viewTables.se.element()),c=n._field("frozener"),u=this.getScrollValue();this._destroySuperPanel(),0<arguments.length&&(e=this.getJoinedRows(t,2),this._setRowHeight(e,this._getRowHeight(e))),l.css("height",""),a.css("height",""),i=Math.max(l.height(),a.height()),l.height(i),a.height(i);try{0<=this._staticRowIndex?o.splitDistanceY=Math.max(s[0].offsetHeight,r[0].offsetHeight):o.splitDistanceY=0}catch(t){}this._updateSplitAreaBounds(1),this.refreshPanel(u),c.refresh()},i.prototype.getScrollValue=function(){var t=this._getSuperPanel();return t?{x:t.options.hScroller.scrollValue,y:t.options.vScroller.scrollValue}:null},i.prototype.getVisibleAreaBounds=function(){var t=l.grid.bounds(this._grid.outerDiv.find(".gcui-superpanel-contentwrapper:first"));return t=t||l.grid.bounds(this._grid.outerDiv)},i.prototype.getFixedAreaVisibleBounds=function(){var t=this.getVisibleAreaBounds(),e=l.grid.bounds(this._splitAreas.ne),i=l.grid.bounds(this._splitAreas.nw),n=null,o=null;return(e.height||i.height)&&(n={left:t.left,top:t.top,width:t.width,height:Math.min(e.height||i.height,t.height)}),i.width&&(o={left:i.left,top:t.top,width:Math.min(i.width,t.width),height:t.height}),[n,o]},i.prototype.refreshPanel=function(t){var n=this,o=this._grid,s=o.options,e=this._getGridWidth(s.scrollMode),i=this._getMappedScrollMode(),r=this._testNeedVBar(o.outerDiv,o.element,C(this._viewTables.ne.element()),s.scrollMode,o._autoHeight)&&!a,a=(t&&t.x,t&&t.y,C.support.isTouchEnabled&&C.support.isTouchEnabled());this._scroller.width(e),this._splitAreas.ne.width(e-s.splitDistanceX-(r?this._verScrollBarSize:0)),"right"===s.staticColumnsAlignment&&(this._splitAreas.nw.css({left:"",right:r?this._verScrollBarSize:0}),this._splitAreas.sw.css({left:"",right:r?this._verScrollBarSize:0})),this._scroller.data("gcui-superpanel")?this._scroller.superpanel("paintPanel"):(this._allowVirtualScrolling&&(this.vsUI=new l.grid.uiVirtualScroller(o,this._splitAreas.se,s.splitDistanceY)),this._scroller.superpanel({disabled:o.options.disabled,scroll:C.proxy(this._onScroll,this),bubbleScrollingEvent:!0,customScrolling:this._allowVirtualScrolling,vScroller:{scrollBarVisibility:i.vScrollBarVisibility,scrollValue:t?t.y:null},hScroller:{scrollBarVisibility:i.hScrollBarVisibility,scrollValue:t?t.x:null},hScrollerActivating:function(t,e){var i;if(o._autoHeight&&0<(i=o.element.height()+s.splitDistanceY-e.contentLength))return n._scroller.height(n._scroller.height()+i),n._scroller.superpanel("paintPanel"),!1;n._splitAreas.sw.height(e.contentLength-s.splitDistanceY)}}),this._allowVirtualScrolling&&this.vsUI.attach(this._scroller)),this._scroller.find(".gcui-superpanel-hbarcontainer, .gcui-superpanel-vbarcontainer").css("zIndex",5)},i.prototype.scrollTo=function(t){if(t.tableCell()){var e=this._grid,i=e.options,n=this._getSuperPanel(),o=t.tableCell(),s=o.nodeType?C(o):o,r=null,a=null;if(n&&s.is(":visible")){var l=n.getContentElement(),c=l.parent(),u=-1*parseInt((l.css("left")+"").replace("px",""),10),d=-1*parseInt((l.css("top")+"").replace("px",""),10),h=c.outerWidth()-i.splitDistanceX,p=c.outerHeight()-i.splitDistanceY,f=s.position(),g=f.left,m=f.top,v=s.outerWidth(),b=s.outerHeight(),_=e._getStaticIndex(!0),y=e._getStaticIndex(!1),w=t.rowIndex(),x=t.cellIndex();w<=_?a=x<=y?r=0:(u+h<(g+=u)+v&&(u=r=g+v-h),g<u&&(r=g),0):x<=y?(d+p<(m+=this._splitAreas.sw.scrollTop())+b&&(d=a=m+b-p),m<d&&(a=m),r=0):(d+p<m+b&&(d=a=m+b-p),u+h<(g-=i.splitDistanceX)+v&&(u=r=g+v-h),m<d&&(a=m),g<u&&(r=g)),null!==r&&n.hScrollTo(r),null!==a&&(this._allowVirtualScrolling||n.vScrollTo(a))}}},i.prototype.updateSplits=function(t){var e,i,n,o,s,r=this._grid,a=r.options,l=this,c=[],u=[],d=[],h=this._staticColumnIndex,p=a.scrollMode,f=r._field("visibleLeaves"),g=C(this._viewTables.se.element()),m=C(this._viewTables.ne.element()),v=C(this._viewTables.sw.element()),b=C(this._viewTables.nw.element()),_=r.outerDiv;if(this._destroySuperPanel(),_.unbind("mousewheel",this._mouseWheelHandler),(n=l._viewTables.se.element().tBodies)&&(n=n[0])){for(s=!1,o=0;o<n.rows.length;o++)if(!C(n.rows[o]).hasClass("gcui-gcuigrid-groupheaderrow")){s=!0;break}s||r.element.css("width","100%")}C.each([g,m,v,b],function(t,e){e.css({"table-layout":"",width:""})}),C.each(f,function(t,e){var i=e.width;!i&&0!==i||(i="string"==typeof i&&1<i.length&&"%"===i[i.length-1]?_.width()*parseFloat(i)/100:parseFloat(i),(e.ensurePxWidth||void 0===e.ensurePxWidth&&a.ensureColumnsPxWidth)&&(e._realWidth=i),l._setColumnWidth(t,i))}),C.each(f,function(t,e){d.push(l._getColumnWidth(t))}),C.each([b,m,v,g],function(t,e){e.css({width:"1px"})}),C.each(f,function(t,e){u.push(l._getColumnWidth(t))}),e=_.width(),c=this._adjustWidthArray(d,u,e,a.ensureColumnsPxWidth),C.each(c,function(t,e){var i=f[t];void 0===i._realWidth?l._setColumnWidth(t,e.width):delete i._realWidth}),0<=h&&(i=h,this._setTableWidth([b,v],this._sumWidthArray(c,0,i),c[i].width,i));try{a.splitDistanceX=0<=h?b[0].offsetWidth:0}catch(t){}this._updateSplitAreaBounds(0),a.ensureColumnsPxWidth||m.parent().width(e-a.splitDistanceX),-1!=(i=c.length-1)&&this._setTableWidth([m,g],this._sumWidthArray(c,h+1,i),c[i].width,i),this._adjustRowsHeights();try{0<=this._staticRowIndex?a.splitDistanceY=Math.max(b[0].offsetHeight,m[0].offsetHeight):a.splitDistanceY=0}catch(t){}if(this._updateSplitAreaBounds(1),!a.ensureColumnsPxWidth&&this._testNeedVBar(r.outerDiv,g,m,p,r._autoHeight)){e-=this._verScrollBarSize,c=this._adjustWidthArray(d,u,e,a.ensureColumnsPxWidth),C.each(c,function(t,e){e.real||l._setColumnWidth(t,e.width)}),0<=h&&(i=h,this._setTableWidth([b,v],this._sumWidthArray(c,0,i),c[i].width,i));try{a.splitDistanceX=0<=h?b[0].offsetWidth:0}catch(t){}this._updateSplitAreaBounds(0),m.parent().width(e-a.splitDistanceX),-1!=(i=c.length-1)&&this._setTableWidth([m,g],this._sumWidthArray(c,h+1,i),c[i].width,i),this._adjustRowsHeights();try{0<=this._staticRowIndex?a.splitDistanceY=Math.max(b[0].offsetHeight,m[0].offsetHeight):a.splitDistanceY=0}catch(t){}this._updateSplitAreaBounds(1)}this.refreshPanel(t),_.bind("mousewheel",C.proxy(this._mouseWheelHandler,this))},i.prototype._clearBody=function(){g.prototype._clearBody.call(this)},i.prototype.bodyRows=function(){return g.prototype.bodyRows.call(this)},i.prototype.focusableElement=function(){return this._grid.outerDiv},i.prototype.forEachColumnCell=function(t,e,i){var n,o,s=this.getJoinedTables(!0,t);if(null!==s[0]){if(n=s[2],!0!==(o=s[0].forEachColumnCell(n,e,i)))return o;if(null!==s[1]&&!0!==(o=s[1].forEachColumnCell(n,e,i)))return o}return!0},i.prototype.forEachRowCell=function(t,e,i){var n,o,s=this.getJoinedTables(!1,t),r=s[0],a=s[1];if(null!==r){if((n=s[2])<r.element().rows.length&&!0!==(o=r.forEachRowCell(n,e,i)))return o;if(null!==a&&n<a.element().rows.length&&!0!==(o=a.forEachRowCell(n,e,i)))return o}return HTMLTableCellElement,!0},i.prototype.getAbsoluteCellInfo=function(t){return new l.grid.cellInfo(this.getColumnIndex(t),this.getAbsoluteRowIndex(t.parentNode),this._grid,!0)},i.prototype.getAbsoluteRowIndex=function(t){for(var e=t.rowIndex,i=t.parentNode;"table"!==i.tagName.toLowerCase();)i=i.parentNode;return i===this._viewTables.nw.element()||i===this._viewTables.ne.element()?e:e+this._staticRowIndex+1},i.prototype.getCell=function(t,e){var i,n,o,s,r,a=this.getJoinedTables(!1,e);return null!==a[0]&&null!==(i=this.getJoinedTables(!0,t))[0]&&(n=a[2],o=i[2],0<=(r=(s=(s=null)===a[1]||t===o?a[0]:a[1]).getCellIdx(o,n)))?s.element().rows[n].cells[r]:null},i.prototype.getColumnIndex=function(t){var e,i=null,n=null,o=!1;for(i=t.parentNode;"table"!==i.tagName.toLowerCase();i=i.parentNode);return null!==i&&(i===this._viewTables.nw.element()?n=this._viewTables.nw:i===this._viewTables.ne.element()?(n=this._viewTables.ne,o=!0):i===this._viewTables.sw.element()?n=this._viewTables.sw:i===this._viewTables.se.element()&&(n=this._viewTables.se,o=!0),null!==n)?(e=n.getColumnIdx(t),o&&(e+=this._staticColumnIndex+1),e):-1},i.prototype.getHeaderCell=function(t){var e,i=this._grid._field("visibleLeaves")[t];return i&&(e=this._grid._headerRows())?l.grid.rowAccessor.getCell(e.item(i.thY),i.thX):null},i.prototype.getJoinedCols=function(t){var i=[],e=this.getJoinedTables(!0,t),n=e[2];return e.splice(e.length-1,1),C.each(e,function(t,e){i.push(e?C(e.element()).find("col")[n]:null)}),i},i.prototype.getJoinedRows=function(t,e){var i=null,n=null,o=null,s=null,r=this._staticRowIndex,a=this._staticColumnIndex,l=this._grid._field("visibleLeaves").length-1,c=r===this._rowsCountRaw()-1,u=r<0,d=!c&&!u,h=0;return(c||d)&&(0<=a&&a<l?(o=this._viewTables.nw,s=this._viewTables.ne):o=a<0?this._viewTables.ne:this._viewTables.nw,t<(h=o.getSectionLength(e))&&(i=o.getSectionRow(t,e),null!==s&&(n=s.getSectionRow(t,e)))),(u||d&&null===i)&&(u||(t-=h),0<=a&&a<l?(o=this._viewTables.sw,s=this._viewTables.se):o=a<0?this._viewTables.se:this._viewTables.sw,i=o.getSectionRow(t,e),null!==s&&(n=s.getSectionRow(t,e))),null===i&&null===n?null:[i,n]},i.prototype.getJoinedTables=function(t,e){var i=null,n=null,o=e,s=this._grid,r=this._staticRowIndex,a=this._staticColumnIndex;return t?(e<=a?(i=this._viewTables.nw,n=this._viewTables.sw):(i=this._viewTables.ne,n=this._viewTables.se,o-=a+1),r<0&&(i=null),r===this._rowsCountRaw()-1&&(n=null)):(e<=r?(i=this._viewTables.nw,n=this._viewTables.ne):(i=this._viewTables.sw,n=this._viewTables.se,o-=r+1),a<0&&(i=null),a===s._field("leaves").length-1&&(n=null)),null===i&&(i=n,n=null),[i,n,o]},i.prototype.subTables=function(){return[this._viewTables.nw,this._viewTables.ne,this._viewTables.sw,this._viewTables.se]},i.prototype._getGridWidth=function(t){var e=this._grid,i=e.element.outerWidth(!0)+e.options.splitDistanceX,n=e.outerDiv.innerWidth();return this._testNeedVBar(e.outerDiv,e.element,C(this._viewTables.ne.element()),t,e._autoHeight)&&(i+=this._verScrollBarSize),n<i&&(i=n),i},i.prototype._getSuperPanel=function(){return this._scroller?this._scroller.data("gcui-superpanel"):null},i.prototype._ensureRenderBounds=function(){this._grid._allowVirtualScrolling()?(this._grid._ensureRenderBounds(this._bounds),this._grid._serverSideVirtualScrolling(),this._bounds.end=this._bounds.start+this._grid.options.pageSize-1,this._grid._ensureRenderBounds(this._bounds)):g.prototype._ensureRenderBounds.call(this)},i.prototype._renderContent=function(){g.prototype._renderContent.call(this)},i.prototype._preRender=function(){var t=document.createDocumentFragment(),e=l.grid.htmlTableAccessor;this._grid.outerDiv.wrapInner('<div class="gcui-gcuigrid-fixedview"><div class="gcui-gcuigrid-scroller"><div class="gcui-gcuigrid-split-area-se gcui-gcuigrid-content-area"></div></div></div>'),this._scroller=this._grid.outerDiv.find(".gcui-gcuigrid-scroller"),this._scroller.css("padding",0),this._scroller.after(this._splitAreas.nw=C('<div class="gcui-gcuigrid-split-area gcui-gcuigrid-split-area-nw" style="overflow:hidden;position:absolute;z-index:4;top:0px;left:0px;"></div>')),this._scroller.after(this._splitAreas.ne=C('<div class="gcui-gcuigrid-split-area gcui-gcuigrid-split-area-ne" style="overflow:hidden;position:absolute;z-index:4;top:0px;left:0px;"></div>')),this._scroller.after(this._splitAreas.sw=C('<div class="gcui-gcuigrid-split-area gcui-gcuigrid-split-area-sw" style="overflow:hidden;position:absolute;z-index:4;top:0px;left:0px;"></div>')),this._splitAreas.se=this._scroller.find(".gcui-gcuigrid-split-area-se:first"),this._viewTables={nw:new e(t.appendChild(document.createElement("table")),!0,!0,!0),ne:new e(t.appendChild(document.createElement("table")),!0,!0,!0),sw:new e(t.appendChild(document.createElement("table")),!0,!0,!0),se:new e(t.appendChild(this._grid.element[0]),!0,!0,!0)}},i.prototype._postRender=function(){var t,e,i,n,o=l.grid.htmlTableAccessor,s=this;this._viewTables={nw:new o(t=this._viewTables.nw.element()),ne:new o(e=this._viewTables.ne.element()),sw:new o(i=this._viewTables.sw.element()),se:new o(n=this._viewTables.se.element())},this._splitAreas.nw.empty().append(t),this._splitAreas.ne.empty().append(e),this._splitAreas.sw.empty().append(i),this._splitAreas.se.empty().append(n),C.each(this._viewTables,function(t,e){var i=C(e.element());s._grid._setAttr(i,{role:"grid",border:"0",cellpadding:"0",cellspacing:"0"}),i.addClass("gcui-gcuigrid-table").css("border-collapse","separate").find("> tbody").addClass(s._grid.options.uiCSS.content+" gcui-gcuigrid-data")}),g.prototype._postRender.call(this)},i.prototype._rowsCountRaw=function(){var t=this._viewTables.nw.element(),e=this._viewTables.ne.element(),i=this._viewTables.sw.element(),n=this._viewTables.se.element();return Math.max(t.rows.length,e.rows.length)+Math.max(i.rows.length,n.rows.length)},i.prototype._createCol=function(t,e){return[document.createElement("col"),document.createElement("col")]},i.prototype._appendCol=function(t,e,i){i<=this._staticColumnIndex?(this._viewTables.nw.appendCol(t[0]),this._viewTables.sw.appendCol(t[1])):(this._viewTables.ne.appendCol(t[0]),this._viewTables.se.appendCol(t[1]))},i.prototype._insertRow=function(t,e,i){var n,o,s=l.grid.rowType,r=this._viewTables;switch(t){case s.header:case s.filter:n=r.nw.ensureTHead(),o=r.ne.ensureTHead();break;case s.footer:n=r.sw.ensureTFoot(),o=r.se.ensureTFoot();break;default:o=e<=this._staticDataRowIndex?(n=r.nw.ensureTBody(),r.ne.ensureTBody()):(e-=this._staticDataRowIndex+1,n=r.sw.ensureTBody(),r.se.ensureTBody())}return i?[n.appendChild(i),o.appendChild(i.cloneNode(!1))]:[n.insertRow(e>n.rows.length?-1:e),o.insertRow(e>o.rows.length?-1:e)]},i.prototype._rowRendered=function(t,e,i){var n=t.$rows[0],o=t.$rows[1];!n.cells.length&&this._isBodyRow(t)&&(n.parentNode.removeChild(n),n=null),!o.cells.length&&this._isBodyRow(t)&&(o.parentNode.removeChild(o),o=null),(n||o)&&(n&&o||(t.$rows=C(n||o)),g.prototype._rowRendered.call(this,t,e,i))},i.prototype._appendCell=function(t,e,i){e<=(t.type!==l.grid.rowType.header?this._staticColumnIndex:this._staticAllColumnIndex)?t.$rows[0].appendChild(i[0]):t.$rows[1].appendChild(i[0])},i.prototype._getRowHeight=function(t,e){if(t[0]&&t[1]){var i,n,o,s=t[0],r=t[1],a=C(s),l=C(r),c=function(t){var e,i,n=t[0];for(e=0;e<n.cells.length;e++)if(!(i=n.cells[e]).rowSpan||1===i.rowSpan)return C(i).outerHeight();return t.height()};return(o=C.data(s,"customHeight"))?i=n=parseInt(o):(a.css("height",""),l.css("height",""),n=e?(i=c(a),c(l)):(i=a.height(),l.height())),Math.max(i,n)}return null},i.prototype._setRowHeight=function(t,i){if(t[0]&&t[1]){var n,e=[C(t[0]),C(t[1])];if(null===i)return;i+=1,C.each(e,function(t,e){e.height(i),(n=i-e.height())&&e.height(i+n)})}},i.prototype._adjustRowHeight=function(){var t,e,i,n,o,s,r,a,l,c,u,d,h,p,f,g,m=this._grid,v=this._staticColumnIndex,b=m._field("visibleLeaves").length-1,_=[];if(-1<v&&v<b){if(t=this._staticRowIndex,e=this._rowsCountRaw()-1,i=this._viewTables,-1<t&&t<=e)for(o=(n=i.ne.element()).parentNode,r=(s=i.nw.element()).parentNode,f=s.rows,g=n.rows,d=f.length,h=0;h<d;h++)_.push(this._getRowHeight([f[h],g[h]],!0));if(-1<=t&&t<e)for(l=(a=i.se.element()).parentNode,u=(c=i.sw.element()).parentNode,f=c.rows,g=a.rows,d=f.length,h=0;h<d;h++)_.push(this._getRowHeight([f[h],g[h]]));if(-1<t&&t<=e&&(r.removeChild(s),o.removeChild(n)),-1<=t&&t<e&&(u.removeChild(c),l.removeChild(a)),-1<t&&t<=e)for(f=s.rows,g=n.rows,d=f.length,p=h=0;h<d;h++)this._setRowHeight([f[h],g[h]],_[p++]);if(-1<=t&&t<e)for(f=c.rows,g=a.rows,d=f.length,h=0;h<d;h++)this._setRowHeight([f[h],g[h]],_[p++]);-1<t&&t<=e&&(r.appendChild(s),o.appendChild(n)),-1<=t&&t<e&&(u.appendChild(c),l.appendChild(a))}},i.prototype._adjustRowsHeights=function(){var t,e=C(this._viewTables.sw.element()),i=C(this._viewTables.se.element());i.css("height",""),e.css("height",""),this._adjustRowHeight(),t=Math.max(i.height(),e.height()),e.height(t),i.height(t)},i.prototype._destroySuperPanel=function(){this._scroller.data("gcui-superpanel")&&(this.vsUI&&this.vsUI.dispose(),this._scroller.superpanel("destroy"))},i.prototype._onScroll=function(t,e){var i=this._getSuperPanel();this._allowVirtualScrolling?"h"===e.dir&&(this._setFixedAreaPosition(i.getContentElement(),e.dir,e.position,e.animationOptions,!1),this._setFixedAreaPosition(this._splitAreas.ne,e.dir,e.position,e.animationOptions,!0)):this._setFixedAreaPosition("h"===e.dir?this._splitAreas.ne:this._splitAreas.sw,e.dir,e.position,e.animationOptions,!0),this._grid._trackScrollingPosition(i.options.hScroller.scrollValue,i.options.vScroller.scrollValue)},i.prototype._onMouseWheel=function(i,t){var e,n,o=0<t?"top":"bottom",s=!1;this._grid._canInteract()&&(e=this.getFixedAreaVisibleBounds(),C.each(e,function(t,e){if(e&&l.grid.isOver(i.pageY,i.pageX,e.top,e.left,e.height,e.width))return!(s=!0)}),s&&this._scroller.data("gcui-superpanel")&&(n=this._scroller.superpanel("option","vScroller").scrollValue,this._scroller.superpanel("doScrolling",o),n!==this._scroller.superpanel("option","vScroller").scrollValue&&(i.stopPropagation(),i.preventDefault())))},i.prototype._setFixedAreaPosition=function(t,e,i,n,o){var s,r={};s="h"===e?o?"scrollLeft":"left":o?"scrollTop":"top",o||(i=-i),n?(r[s]=i,t.animate(r,n)):o?t[0][s]=i:t.css(s,i)},i.prototype._testNeedVBar=function(t,e,i,n,o){var s,r=this._grid,a=i.width()+r.options.splitDistanceX,l=e.height()+r.options.splitDistanceY,c=t.width(),u=t.height(),d=0,h=0;return!!(this._allowVirtualScrolling&&1<r._totalRowsCount())||(null!==r.$superPanelHeader&&(d=r.$superPanelHeader.outerHeight(!0)),null!==r.$bottomPagerDiv&&(h=r.$bottomPagerDiv.outerHeight(!0)),s=u-d-h,"both"===n||"vertical"===n||"auto"===n&&(s<l||!o&&c<a&&l>s-this._verScrollBarSize))},i.prototype._updateSplitAreaBounds=function(t){var e,i,n=this._grid,o=n.options,s=0,r=0;0!==t&&2!==t||(this._splitAreas.nw.width(o.splitDistanceX),this._splitAreas.sw.width(o.splitDistanceX),"right"===n.options.staticColumnsAlignment?(this._splitAreas.se.css("marginRight",o.splitDistanceX),this._splitAreas.ne.css("marginRight",o.splitDistanceX)):(this._splitAreas.se.css("marginLeft",o.splitDistanceX),this._splitAreas.ne.css("marginLeft",o.splitDistanceX))),1!==t&&2!==t||(this._scroller.css("height",""),this._splitAreas.se.css("marginTop",0),e=n.outerDiv.height(),n._autoHeight?this._scroller.height(e+o.splitDistanceY):this._scroller.height(e),this._splitAreas.nw.height(o.splitDistanceY),this._splitAreas.ne.height(o.splitDistanceY),null!==n.$superPanelHeader&&(s=n.$superPanelHeader.outerHeight(!0)),null!==n.$bottomPagerDiv&&(r=n.$bottomPagerDiv.outerHeight(!0)),i=e-s-r,null!==n.$superPanelHeader&&(this._splitAreas.nw.css("top",s+"px"),this._splitAreas.ne.css("top",s+"px")),n._autoHeight?this._splitAreas.sw.height(i):this._splitAreas.sw.height(i-o.splitDistanceY),this._splitAreas.sw.css("top",o.splitDistanceY+s),this._splitAreas.se.css("marginTop",o.splitDistanceY))},i);function i(t,e){g.call(this,t,e),this._verScrollBarSize=18,this._viewTables={},this._splitAreas={},this.element=t.element,this._allowVirtualScrolling=t._allowVirtualScrolling(),this._staticDataRowIndex=t._getStaticIndex(!0),this._staticRowIndex=t._getRealStaticRowIndex(),this._staticColumnIndex=t._getRealStaticColumnIndex(),this._staticAllColumnIndex=-1===this._staticColumnIndex?-1:t._field("visibleLeaves")[this._staticColumnIndex].leavesIdx,this._mouseWheelHandler=C.proxy(this._onMouseWheel,this)}t.fixedView=e}(l.grid||(l.grid={}));l.grid}(gcui=gcui||{}),function(g){!function(t){"use strict";var f=jQuery,e=(i.prototype.selectedCells=function(){return this._selectedCells},i.prototype.addColumns=function(t,e){e||0===e||(e=t),this.addRange(t,0,e,16777215)},i.prototype.addRange=function(t,e,i,n){if(!t&&1===arguments.length)throw"invalid argument";var o=4===arguments.length?new g.grid.cellInfoRange(new g.grid.cellInfo(t,e),new g.grid.cellInfo(i,n)):t._clone();if(o._normalize(),!o._isValid())throw"invalid argument";this.beginUpdate(),this._startNewTransaction(this._grid._field("currentCell")),this._selectRange(o,!1,!0,g.grid.cellRangeExtendMode.none,null),this.endUpdate()},i.prototype.addRows=function(t,e){e||0===e||(e=t),this.addRange(0,t,16777215,e)},i.prototype.removeRange=function(t,e,i,n){if(!t&&1===arguments.length)throw"invalid argument";var o=4===arguments.length?new g.grid.cellInfoRange(new g.grid.cellInfo(t,e),new g.grid.cellInfo(i,n)):t._clone();if(o._normalize(),!o._isValid())throw"invalid argument";this.beginUpdate(),this._startNewTransaction(this._grid._field("currentCell")),this._clearRange(o,g.grid.cellRangeExtendMode.none),this.endUpdate()},i.prototype.removeColumns=function(t,e){e||0===e||(e=t),this.removeRange(t,0,e,16777215)},i.prototype.removeRows=function(t,e){e||0===e||(e=t),this.removeRange(0,t,16777215,e)},i.prototype.clear=function(){this.beginUpdate(),this._removedCells._clear(),this._removedCells._addFrom(this._selectedCells),this.endUpdate()},i.prototype.selectAll=function(){this.beginUpdate(),this._selectRange(this._grid._getDataCellsRange(),!1,!1,g.grid.cellRangeExtendMode.none,null),this.endUpdate()},i.prototype.beginUpdate=function(){this._updates++},i.prototype.endUpdate=function(){0<this._updates&&(this._updates--,0===this._updates&&(this.doSelection(),(this._addedCells.length()||this._removedCells.length())&&(null!==this._selectedColumns&&this._selectedColumns.UnderlyingDataChanged(),null!==this._selectedRows&&this._selectedRows.UnderlyingDataChanged(),this._grid._trigger("selectionChanged",null,{addedCells:this._addedCells,removedCells:this._removedCells})),this._addedCells=new g.grid.cellInfoOrderedCollection(this._grid),this._removedCells._clear()))},i.prototype._multipleRangesAllowed=function(){var t=this._grid.options.selectionMode;return t&&("multicolumn"===(t=t.toLowerCase())||"multirow"===t||"multirange"===t)},i.prototype._anchorCell=function(){return this.__anchorCell},i.prototype._startNewTransaction=function(t){t&&(this.__anchorCell=t._clone(),this._addedDuringCurTransactionCells=new g.grid.cellInfoOrderedCollection(this._grid))},i.prototype._clearRange=function(t,e){var i,n,o,s,r=this._grid.options.selectionMode.toLowerCase(),a=this._grid._getDataCellsRange();if(t._isValid()&&"none"!==r&&0<this._selectedCells.length()){if((i=t._clone())._normalize(),i._clip(a),!t._isValid())return;for(i._extend(this._extend_rules[r][e],a),this.beginUpdate(),n=0,o=this._selectedCells.length();n<o;n++)s=this._selectedCells.item(n),i._containsCellInfo(s)&&this._removedCells._add(s);this.endUpdate()}},i.prototype._selectRange=function(t,e,i,n,o){var s,r=this._grid.options.selectionMode.toLowerCase(),a=this._grid._getDataCellsRange();if("none"!==r&&t._isValid()){if((s=t._clone())._normalize(),s._clip(a),!s._isValid())return;switch(this.beginUpdate(),this._multipleRangesAllowed()&&(e||i)?i&&(this._removedCells._clear(),this._removedCells._addFrom(this._addedDuringCurTransactionCells)):this.clear(),r){case"singlecell":case"singlecolumn":case"singlerow":s=null===o?new g.grid.cellInfoRange(s.topLeft(),s.topLeft()):new g.grid.cellInfoRange(o,o)}s._extend(this._extend_rules[r][n],a),this.doRange(s,!0),this.endUpdate()}},i.prototype.doSelection=function(){var t,e,i,n,o,s,r,a,l=this._grid._getDataToAbsOffset(),c=l.x,u=l.y,d=this._grid._view(),h=g.grid.renderState,p=-1;for(t=0,e=this._removedCells.length();t<e;t++)i=this._removedCells.item(t),this._addedCells.indexOf(i)<0?((n=d.getCell(i.cellIndex()+c,i.rowIndex()+u))&&(p!==i.rowIndex()&&(r=i.row(),p=i.rowIndex()),o=f(n),a=d._changeCellRenderState(o,h.selected,!1),this._grid.cellStyleFormatter.format(o,i.cellIndex(),i.column(),r,a)),this._selectedCells._remove(i),this._addedDuringCurTransactionCells._remove(i)):(this._removedCells._removeAt(t),t--,e--);for(p=-1,t=0,e=this._addedCells.length();t<e;t++)i=this._addedCells.item(t),(s=this._selectedCells.indexOf(i))<0?((n=d.getCell(i.cellIndex()+c,i.rowIndex()+u))&&(p!==i.rowIndex()&&(r=i.row(),p=i.rowIndex()),o=f(n),a=d._changeCellRenderState(o,h.selected,!0),this._grid.cellStyleFormatter.format(o,i.cellIndex(),i.column(),r,a)),this._selectedCells._insertUnsafe(i,~s),this._addedDuringCurTransactionCells._add(i)):(this._addedCells._removeAt(t),t--,e--)},i.prototype.doRange=function(t,e){var i,n,o,s,r,a=t.topLeft().cellIndex(),l=t.topLeft().rowIndex(),c=t.bottomRight().cellIndex(),u=t.bottomRight().rowIndex(),d=this._grid._view();if(e){for(i=this._addedCells.length(),r=this._grid._rows(),n=l;n<=u;n++)if(d._getRowInfo(r.item(n)).type&g.grid.rowType.data)for(o=a;o<=c;o++)s=new g.grid.cellInfo(o,n),0===i?this._addedCells._appendUnsafe(s):this._addedCells._add(s)}else for(i=this._removedCells.length(),n=l;n<=u;n++)for(o=a;o<=c;o++)s=new g.grid.cellInfo(o,n),0===i?this._removedCells._appendUnsafe(s):this._removedCells._add(s)},i);function i(t){if(this._updates=0,this._selectedColumns=null,this._selectedRows=null,this._extend_rules={singlecell:[0,0,0],singlecolumn:[1,1,1],singlerow:[2,2,2],singlerange:[0,1,2],multicolumn:[1,1,1],multirow:[2,2,2],multirange:[0,1,2]},!t)throw"invalid arguments";this._grid=t,this._addedCells=new n(t),this._removedCells=new n(t),this._selectedCells=new n(t),this._addedDuringCurTransactionCells=new n(t)}t.selection=e;var n=(o.prototype.item=function(t){return this._list[t]},o.prototype.length=function(){return this._list.length},o.prototype.indexOf=function(t,e){1===arguments.length&&(e=t.rowIndex(),t=t.cellIndex());for(var i,n,o,s=0,r=this._list.length-1;s<=r;)if(i=s+(r-s>>1),0==(o=(n=this._list[i]).rowIndex()-e)&&(o=n.cellIndex()-t),o<0)s=i+1;else{if(!(0<o))return i;r=i-1}return~s},o.prototype.toString=function(){var t,e,i="";for(t=0,e=this._list.length;t<e;t++)i+=this._list[t].toString()+"\n";return i},o.prototype._add=function(t){var e=this.indexOf(t);return e<0&&(this._list.splice(~e,0,t),t._setGridView(this._grid),!0)},o.prototype._addFrom=function(t){if(t){var e,i=t.length();if(0===this._list.length)for(this._list.length=i,e=0;e<i;e++)this._list[e]=t.item(e),this._list[e]._setGridView(this._grid);else for(e=0;e<i;e++)this._add(t.item(e))}},o.prototype._appendUnsafe=function(t){(this._list[this._list.length]=t)._setGridView(this._grid)},o.prototype._insertUnsafe=function(t,e){this._list.splice(e,0,t)},o.prototype._remove=function(t){var e=this.indexOf(t);return 0<=e&&(this._list.splice(e,1),!0)},o.prototype._removeAt=function(t){this._list.splice(t,1)},o.prototype._getColumnsIndicies=function(){var t,e,i,n=[],o=this._list.length;if(o){for(t=[],e=0;e<o;e++)t[this._list[e].cellIndex()]=1;for(o=t.length,e=i=0;e<o;e++)t[e]&&(n[i++]=e)}return n},o.prototype._getSelectedRowsIndicies=function(){var t,e,i,n=[],o=this._list.length;if(o){for(t=[],e=0;e<o;e++)t[this._list[e].rowIndex()]=1;for(o=t.length,e=i=0;e<o;e++)t[e]&&(n[i++]=e)}return n},o.prototype._rectangulate=function(){var t,e,i=this._list.length,n=4294967295,o=4294967295,s=0,r=0;if(i){for(t=0;t<i;t++)e=this._list[t],n=Math.min(n,e.cellIndex()),o=Math.min(o,e.rowIndex()),s=Math.max(s,e.cellIndex()),r=Math.max(r,e.rowIndex());return new g.grid.cellInfoRange(new g.grid.cellInfo(n,o),new g.grid.cellInfo(s,r))}return null},o);function o(t){if(this._clear=function(){this._list.length=0},!t)throw"invalid arguments";this._grid=t,this._list=[]}t.cellInfoOrderedCollection=n}(g.grid||(g.grid={}));g.grid}(gcui=gcui||{}),function(w){!function(t){"use strict";var y=jQuery,e=(i.prototype.dispose=function(){this._rootElement.unbind(this._eventKey("mousedown"),this._onGridMouseDown),this._detachAdditionalEvents()},i.prototype._onGridMouseDown=function(t){if(this._grid._canInteract()&&"none"!==this._grid.options.selectionMode.toLowerCase()){var e=this._view.getVisibleAreaBounds(),i={x:t.pageX,y:t.pageY},n=t.target&&void 0!==t.target.tagName?t.target.tagName.toLowerCase():void 0,o=y(t.target);(!n||o.is("td.gcuigridtd, th.gcuigridtd, div.gcui-gcuigrid-innercell"))&&i.x>e.left&&i.x<e.left+e.width&&i.y>e.top&&i.y<e.top+e.height&&(this._attachAdditionalEvents(),this._startPos=i,this._startCellInfo=this._coordToDataCellInfo(this._startPos))}},i.prototype._onDocumentMouseMove=function(t){if(this._startCellInfo&&this._startCellInfo._isValid()){var e,i,n,o,s,r,a,l,c,u,d,h,p,f,g,m={x:t.pageX,y:t.pageY},v=this._grid._view(),b=this._grid._rows(),_=w.grid.renderState;if(this._inProgress||(this._inProgress=Math.abs(this._startPos.x-m.x)>this._gap_to_start||Math.abs(this._startPos.y-m.y)>this._gap_to_start),this._inProgress){if(!(e=this._coordToDataCellInfo(m))._isValid())return;if(this._endCellInfo=e,(n=new w.grid.cellInfoRange(this._startCellInfo,this._endCellInfo))._normalize(),n._clip(this._grid._getDataCellsRange()),n._isValid()&&!n.isEqual(this._prevMouseMoveRange)){for(o=this._grid._getDataToAbsOffset(),this._prevMouseMoveRange=n,s=new w.grid.cellInfoOrderedCollection(this._grid),r=n.bottomRight().rowIndex(),a=n.bottomRight().cellIndex(),l=n.topLeft().rowIndex();l<=r;l++)if((p=v._getRowInfo(b.item(l))).type&w.grid.rowType.data)for(c=n.topLeft().cellIndex();c<=a;c++)s._appendUnsafe(new w.grid.cellInfo(c,l));for(f=-1,u=0,d=this._addedCells.length();u<d;u++)i=this._addedCells.item(u),s.indexOf(i)<0&&(this._grid.selection().selectedCells().indexOf(i)<0&&(c=this._view.getCell(i.cellIndex()+o.x,i.rowIndex()+o.y))&&(f!==i.rowIndex()&&(p=i.row(),f=i.rowIndex()),h=y(c),g=v._changeCellRenderState(h,_.selected,!1),this._grid.cellStyleFormatter.format(h,i.cellIndex(),i.column(),p,g)),this._addedCells._removeAt(u),u--,d--);for(f=-1,u=0,d=s.length();u<d;u++)i=s.item(u),this._addedCells.indexOf(i)<0&&this._grid.selection().selectedCells().indexOf(i)<0&&this._addedCells._add(i)&&(c=this._view.getCell(i.cellIndex()+o.x,i.rowIndex()+o.y))&&(f!==i.rowIndex()&&(p=i.row(),f=i.rowIndex()),h=y(c),g=v._changeCellRenderState(h,_.selected,!0),this._grid.cellStyleFormatter.format(h,i.cellIndex(),i.column(),p,g))}}}},i.prototype._onDocumentMouseUp=function(t){if(this._detachAdditionalEvents(),this._inProgress&&(this._inProgress=!1,this._prevMouseMoveRange&&this._prevMouseMoveRange._isValid())){this._grid._changeCurrentCell(t,this._endCellInfo,{changeSelection:!1,setFocus:!1}),t.shiftKey&&(this._grid.selection()._multipleRangesAllowed()||"singleRange"===this._grid.options.selectionMode.toLowerCase())||this._grid.selection()._startNewTransaction(this._startCellInfo),this._grid.selection().beginUpdate(),this._grid.selection()._selectRange(this._prevMouseMoveRange,t.shiftKey,t.ctrlKey,w.grid.cellRangeExtendMode.none,this._endCellInfo),this._grid.selection().endUpdate();var e,i,n,o,s,r,a,l=this._grid._view(),c=this._grid._getDataToAbsOffset(),u=-1,d=w.grid.renderState;for(e=0,i=this._addedCells.length();e<i;e++)n=this._addedCells.item(e),this._grid.selection().selectedCells().indexOf(n)<0&&null!==(o=l.getCell(n.cellIndex()+c.x,n.rowIndex()+c.y))&&(u!==n.rowIndex()&&(r=n.row(),u=n.rowIndex()),s=y(o),a=l._changeCellRenderState(s,d.selected,!1),this._grid.cellStyleFormatter.format(s,n.cellIndex(),n.column(),r,a));return this._addedCells._clear(),this._startCellInfo=this._endCellInfo=this._prevMouseMoveRange=null,!1}},i.prototype._attachAdditionalEvents=function(){if(!this._additionalEventsAttached)try{this._view.toggleDOMSelection(!1),y(document).bind(this._eventKey("mousemove"),y.proxy(this._onDocumentMouseMove,this)).bind(this._eventKey("mouseup"),y.proxy(this._onDocumentMouseUp,this))}finally{this._additionalEventsAttached=!0}},i.prototype._detachAdditionalEvents=function(){if(this._additionalEventsAttached)try{this._view.toggleDOMSelection(!0),y(document).unbind(this._eventKey("mousemove"),this._onDocumentMouseMove).unbind(this._eventKey("mouseup"),this._onDocumentMouseUp)}finally{this._additionalEventsAttached=!1}},i.prototype._eventKey=function(t){return w.grid.stringFormat(this._evntFormat,t)},i.prototype._coordToDataCellInfo=function(t){for(var e,i,n,o,s,r=0,a=this._visLeavesLen-1,l=0,c=-1,u=new w.grid.rowAccessor(this._view,2,0,0);r<=a&&(l=(a-r>>1)+r,(e=w.grid.bounds(this._view.getHeaderCell(l)))||(n=u.item(0),e=w.grid.bounds(w.grid.rowAccessor.getCell(n,l))),e);)if(t.x<e.left)a=l-1;else{if(!(t.x>e.left+e.width)){c=l;break}r=l+1}if(-1===c)return w.grid.cellInfo.outsideValue;for(i=-1,r=0,a=(u=new w.grid.rowAccessor(this._view,0,0,0)).length()-1,l=0;r<=a;)if(l=(a-r>>1)+r,n=u.item(l),e=w.grid.bounds(w.grid.rowAccessor.getCell(n,0)),t.y<e.top)a=l-1;else{if(!(t.y>e.top+e.height)){i=l;break}r=l+1}return-1===i?w.grid.cellInfo.outsideValue:(o=this._grid._getDataToAbsOffset(),(s=new w.grid.cellInfo(c-o.x,i-o.y))._clip(this._grid._getDataCellsRange()),s)},i);function i(t){this._gap_to_start=10,this._inProgress=!1,this._additionalEventsAttached=!1,this._grid=t,this._evntFormat="{0}."+this._grid.widgetName+".selectionui",this._addedCells=new w.grid.cellInfoOrderedCollection(this._grid),this._view=this._grid._view(),this._rootElement=this._view.focusableElement(),this._visLeavesLen=this._grid._field("visibleLeaves").length,this._rootElement.bind(this._eventKey("mousedown"),y.proxy(this._onGridMouseDown,this))}t.uiSelection=e}(w.grid||(w.grid={}));w.grid}(gcui=gcui||{}),function(t){!function(t){"use strict";jQuery;var e=(i.prototype.item=function(t){return t<this.length()?this._view.getJoinedRows(t+this._offsetTop,this._scope):null},i.prototype.length=function(){var t,e=this._view.getJoinedTables(!0,0),i=0;return(t=e[0])&&(i=t.getSectionLength(this._scope)),(t=e[1])&&(i+=t.getSectionLength(this._scope)),(i-=this._offsetTop+this._offsetBottom)<0&&(i=0),i},i.iterateCells=function(t,e,i){if(t&&e){var n,o,s,r,a,l=0;for(n=0,o=t.length;n<o;n++)if(s=t[n])for(r=0,a=s.cells.length;r<a;r++)if(!0!==e(s.cells[r],l++,i))return}},i.getCell=function(t,e){var i,n;if(t&&(i=t[0])){if(e<(n=i.cells.length))return i.cells[e];if(e-=n,(i=t[1])&&e<(n=i.cells.length))return i.cells[e]}return null},i.cellsCount=function(t){var e,i=0;return t&&(e=t[0])&&(i=e.cells.length,(e=t[1])&&(i+=e.cells.length)),i},i);function i(t,e,i,n){this._view=t,this._scope=e,this._offsetBottom=n,this._offsetTop=i}t.rowAccessor=e}(t.grid||(t.grid={}));t.grid}(gcui=gcui||{}),function(v){!function(t){"use strict";var m=jQuery,e=(i.prototype.currentCellEditStart=function(t,e){var i,n,o,s=!1,r=t.currentCell();return t._view(),r._isValid()&&!r._isEdit()&&0<=r.column().dataIndex&&(i=r.row())&&i.type&v.grid.rowType.data&&(n={cell:r,event:e,handled:!1},(s=t._trigger("beforeCellEdit",null,n))&&(n.handled||(s=this._defaultBeforeCellEdit(t,n))),s&&(r._isEdit(!0),t._showRowHeader()&&(o=m(i.$rows[0].cells[0]).children("div.gcui-gcuigrid-innercell")).length&&(o.empty(),o.append(m("<div>&nbsp;</div>").addClass(t.options.uiCSS.icon+" ui-icon-pencil"))))),s},i.prototype.currentCellEditEnd=function(e,t){var i,n,o,s,r,a,l=e.currentCell(),c=l.column(),u=!1,d=(e._view(),v.getKeyCodeEnum());if(l._isValid()&&l._isEdit()){if(i=l.row()){if(!(i.type&v.grid.rowType.data))return u;if(n=t&&t.which===d.ESCAPE,t&&n)u=!0;else{var h={cell:l,value:void 0};if(u=e._trigger("beforeCellUpdate",null,h)){void 0===h.value&&(h.value=this._getCellValue(e,l)),o=h.value,s=l.value();try{a=this._getHTMLInputElementType(l),v.grid.HTML5InputSupport.isExtendSupportRequired(a)?(h.value=v.grid.HTML5InputSupport.parse(h.value,a),h.value=v.grid.HTML5InputSupport.extend(s,h.value,a)):h.value=e.parse(l.column(),h.value),o=h.value}catch(t){h.value=o}if("datetime"===v.grid.getDataType(c)&&(o instanceof Date&&(o=o.getTime()),s instanceof Date&&(s=s.getTime())),o!==s){try{l.value(h.value)}catch(t){var p={cell:l,value:h.value};u=!1,e._trigger("invalidCellValue",null,p)}if(u){var f={cell:l};e._trigger("afterCellUpdate",null,f)}}}}if(u){var g={cell:l,event:t,handled:!1};e._trigger("afterCellEdit",null,g),g.handled||(u=this._defaultAfterCellEdit(e,g)),u&&l._isEdit(!1),e._showRowHeader()&&m(i.$rows[0].cells[0]).children("div.gcui-gcuigrid-innercell").html("&nbsp;"),window.setTimeout(function(){e._destroyed||(l=e.currentCell(),(r=l.tableCell())?m(r).attr("tabIndex",0).focus():m(e._view().focusableElement()).focus())},this._timeout)}}return u}},i.prototype._defaultBeforeCellEdit=function(t,e){var i,n,o,s,r=e.cell.column(),a=!1,l=v.getKeyCodeEnum(),c=v.grid.HTML5InputSupport.getDefaultInputType(t._isMobileEnv(),r);if(0<=r.dataIndex){i=e.cell.value(),a=!0;try{if(n=e.cell.container(),"boolean"===v.grid.getDataType(r)){var u=n.children("span");u.length&&u.prop("disabled")&&(m.data(u[0],"disabledSpan",!0),u.prop("disabled",!1)),(o=n.find(":checkbox")).prop("disabled",!1),o.focus(),e.event&&"keypress"===e.event.type&&o.one("keyup",function(t){t.which===l.SPACE&&(t.preventDefault(),o[0].checked=!i)})}else{if((o=m("<input />").attr("type",c).addClass("gridinput gcui-input "+t.options.uiCSS.stateFocus).bind("keydown",t,m.proxy(this._checkBoxOrInputKeyDown,this))).bind(m.support.selectstart?"selectstart":"mousedown",function(t){t.stopPropagation()}),e.event&&"keypress"===e.event.type&&e.event.which)o.val(String.fromCharCode(e.event.which));else switch(v.grid.getDataType(r)){case"currency":case"number":if(null!==i){o.val(i);break}case"datetime":if(v.grid.HTML5InputSupport.isExtendSupportRequired(c)){o.val(v.grid.HTML5InputSupport.toStr(i,c));break}default:o.val(t.toStr(r,i))}n.empty().append(o),s=o.val().length,"text"===c&&new v.grid.domSelection(o[0]).setSelection({start:s,end:s}),o.focus(),setTimeout(function(){o.focus()},2*this._timeout)}}catch(t){alert(t.message),a=!1}}return a},i.prototype._defaultAfterCellEdit=function(t,e){var i,n,o,s,r,a=e.cell.column(),l=!1;if(0<=a.dataIndex){l=!0,r=t._view();try{if(i=e.cell.container(),n=t.toStr(a,e.cell.value()),s=r._getRowInfo(t._rows().item(e.cell.rowIndex())),"boolean"===v.grid.getDataType(a)){var c=i.children("span"),u=c.length&&m.data(c[0],"disabledSpan");o=i.find(":checkbox"),"true"===n?o.attr("checked","checked"):o.removeAttr("checked"),u&&(c.prop("disabled",!0),o.prop("disabled",!0))}else t.cellFormatter.format(i,a,n,s)}catch(t){alert("defaultAfterCellEdit: "+t.message),l=!1}}return l},i.prototype._checkBoxOrInputKeyDown=function(t){var e=v.getKeyCodeEnum();if(t.which===e.ENTER){var i=t.data;if(i)return i._endEditInternal(t),!1}},i.prototype._getCellValue=function(t,e){var i=e.container().find(":input:first"),n=null;return i.length&&(n="checkbox"===i.attr("type")?i[0].checked:i.val()),n},i.prototype._getHTMLInputElementType=function(t){return t.container().find(":input:first").attr("type")},i);function i(){this._timeout=25}t.cellEditorHelper=e}(v.grid||(v.grid={}));v.grid}(gcui=gcui||{}),function(c){!function(t){"use strict";var l=jQuery,e=(i._div=document.createElement("div"),i.prototype.format=function(t,e,i,n){n.type&c.grid.rowType.footer&&(i=e.aggregate&&"none"!==e.aggregate?c.grid.stringFormat(e.footerText||"{0}",e._totalsValue||""):e.footerText||e._footerTextDOM||"");var o,s=!0,r=null,a={$container:t,column:e,formattedValue:i,row:n,afterDefaultCallback:null};if(l.isFunction(e.cellFormatter)&&(s=!e.cellFormatter(a)),s){switch(c.grid.getDataType(e)){case"boolean":r=this._boolFormatter;break;default:r=this._textFormatter}r&&(r.call(this,a),l.isFunction(o=a.afterDefaultCallback)&&o(a))}},i.prototype._textFormatter=function(t){var e;switch(t.row.type){case c.grid.rowType.filter:this._defFormatFilterCell(t);break;default:if((e=t.$container[0]).firstChild)for(;e.firstChild;)e.removeChild(e.firstChild);for(c.grid.cellFormatterHelper._div.innerHTML=t.formattedValue||"&nbsp;";c.grid.cellFormatterHelper._div.firstChild;)e.appendChild(c.grid.cellFormatterHelper._div.firstChild)}},i.prototype._boolFormatter=function(e){var i,t,n,o,s="disabled='disabled'",r=c.grid.rowType,a=c.getKeyCodeEnum();switch(e.row.type){case r.data:case r.data|r.dataAlt:(t=(i=e.column.owner).options.allowEditing&&!0!==e.column.readOnly)&&(s=""),!0===i.parse(e.column,i._dataViewWrapper.getValue(e.row.data,e.column.dataKey))?e.$container.html("<input class='gridinput' type='checkbox' checked='checked' "+s+" />"):e.$container.html("<input class='gridinput' type='checkbox' "+s+" />"),t&&e.$container.children("input").bind("mousedown",function(t){n=e.$container.parent()[0],(o=i.currentCell()).tableCell()!==n&&i._onClick({target:n}),o._isEdit()||i.beginEdit()}).bind("keydown",function(t){if(t.which===a.ENTER)return i._endEditInternal(t),!1});break;default:this._textFormatter(e)}},i.prototype._defFormatFilterCell=function(t){var e=t.column.owner.options.uiCSS;t.$container.addClass(e.widget+" "+e.stateDefault),0<=t.column.dataIndex&&!t.column.isBand&&t.column.showFilter?t.$container.html('<table cellPadding="0" cellSpacing="0" class="gcui-gcuigrid-filter '+e.cornerAll+'"><tr><td style="width:100%"><input type="text" class="gcui-gcuigrid-filter-input" style="width:100%" /></td><td class="gcui-gcuigrid-filter-trigger '+e.cornerRight+" "+e.stateDefault+'"><span class="'+e.icon+" "+e.iconArrowDown+'"></span></td></tr></table>'):t.$container.html("&nbsp;")},i);function i(){}t.cellFormatterHelper=e}(c.grid||(c.grid={}));c.grid}(gcui=gcui||{}),function(s){!function(t){"use strict";var n=jQuery,e=(i.prototype.addElement=function(t){t&&t.element&&(t.element.bind(this._eventKey("mousemove"),n.proxy(this._onMouseMove,this)).bind(this._eventKey("mousedown"),n.proxy(this._onMouseDown,this)).bind(this._eventKey("mouseout"),n.proxy(this._onMouseOut,this)),this._elements.push(t))},i.prototype.dispose=function(){var i=this;n.each(this._elements,function(t,e){e.element.unbind(i._eventKey("mousemove"),i._onMouseMove).unbind(i._eventKey("mousedown"),i._onMouseDown).unbind(i._eventKey("mouseout"),i._onMouseOut)}),this._detachDocEvents()},i.prototype.inProgress=function(){return this._inProgress},i.prototype._onMouseMove=function(t){if(!this._inProgress){var e=this._getFieldByPos({x:t.pageX,y:t.pageY});e&&e._canSize()&&this._grid._canInteract()?(e.element.css("cursor","e-resize"),this._hoveredField=e,t.stopPropagation()):this._onMouseOut(t)}},i.prototype._onMouseOut=function(t){this._inProgress||this._hoveredField&&(this._hoveredField.element.css("cursor",""),this._hoveredField=null)},i.prototype._onMouseDown=function(t){if(this._hoveredField=this._getFieldByPos({x:t.pageX,y:t.pageY}),this._hoveredField&&this._hoveredField._canSize()&&this._grid._canInteract())try{this._hoveredField.element.css("cursor",""),this._docCursor=document.body.style.cursor,document.body.style.cursor="e-resize",this._startLocation=this._lastLocation=s.grid.bounds(this._hoveredField.element),this._proxy=n('<div class="gcui-gcuigrid-resizehandle '+this._grid.options.uiCSS.stateHightlight+'">&nbsp;</div>');var e=this._grid._view().getVisibleAreaBounds();this._proxy.css({left:t.pageX,top:this._startLocation.top,height:e.height+e.top-this._startLocation.top}),n(document.body).append(this._proxy)}finally{this._attachDocEvents(),this._inProgress=!0,t.stopPropagation()}},i.prototype._onDocumentMouseMove=function(t){var e=this._step*Math.round((t.pageX-this._lastLocation.left)/this._step);this._lastLocation={left:this._lastLocation.left+e,top:t.pageY,width:void 0,height:void 0},this._proxy.css("left",this._lastLocation.left)},i.prototype._onDocumentMouseUp=function(t){try{document.body.style.cursor=this._docCursor,this._proxy.remove(),this._startLocation!==this._lastLocation&&this._grid._fieldResized(this._hoveredField,this._startLocation.width,Math.max(this._lastLocation.left-this._startLocation.left,this.MIN_WIDTH))}finally{this._hoveredField=null,this._proxy=null,this._detachDocEvents(),this._inProgress=!1}},i.prototype._onSelectStart=function(t){t.preventDefault()},i.prototype._attachDocEvents=function(){this._inProgress||(n(document).bind(this._eventKey("mousemove"),n.proxy(this._onDocumentMouseMove,this)).bind(this._eventKey("mouseup"),n.proxy(this._onDocumentMouseUp,this)),n.fn.disableSelection&&n(document.body).disableSelection(),"onselectstart"in document&&n(document.body).bind("selectstart",this._onSelectStart))},i.prototype._detachDocEvents=function(){this._inProgress&&(n(document).unbind(this._eventKey("mousemove"),this._onDocumentMouseMove).unbind(this._eventKey("mouseup"),this._onDocumentMouseUp),n.fn.enableSelection&&n(document.body).enableSelection(),"onselectstart"in document&&n(document.body).unbind("selectstart",this._onSelectStart))},i.prototype._getFieldByPos=function(t){var e,i,n,o;for(e=0,i=this._elements.length;e<i;e++)if(n=this._elements[e],o=s.grid.bounds(n.element),s.grid.isOver(t.y,t.x,o.top,o.left+o.width-this._gap,o.height,this._gap))return n;return null},i.prototype._eventKey=function(t){return s.grid.stringFormat(this._evntFormat,t)},i);function i(t){this.MIN_WIDTH=5,this._elements=[],this._gap=10,this._step=1,this._inProgress=!1,this._hoveredField=null,this._startLocation=null,this._lastLocation=null,this._proxy=null,this._grid=t,this._evntFormat="{0}."+this._grid.widgetName+".resizer"}t.uiResizer=e}(s.grid||(s.grid={}));s.grid}(gcui=gcui||{}),function(u){!function(t){"use strict";var c=jQuery,e=(i.prototype.attachGroupArea=function(n){var i,o=this;c.ui.droppable&&c.ui.draggable&&n.droppable({scope:this._scope_guid,tolerance:"pointer",greedy:!0,accept:function(t){return!(!o._grid.options.allowColMoving||!(i=o._getFieldInstance(t))||i instanceof c.gcui.c1groupedfield&&i.options.groupedIndex===o._grid._groupedColumns().length-1||i.options.isBand||!(void 0===i.options.groupedIndex||i instanceof c.gcui.c1groupedfield))},drop:function(t,e){!o._isInElement(t,e.draggable)&&(i=o._getFieldInstance(e.draggable))&&(o._dragEnd=!0)},over:function(t,e){var i=o._grid._field("groupedWidgets").length;o._dropTargetRedirected=0<i,o._droppableField=0<i?o._grid._field("groupedWidgets")[i-1]:n,n.data("thisDroppableField",o._droppableField)},out:function(t,e){o._droppableField===n.data("thisDroppableField")&&(o._droppableField=null)}})},i.prototype.attach=function(r){var n,i,a=this;c.ui.droppable&&c.ui.draggable&&r&&(n=r.element)&&n.draggable({helper:function(t){return r instanceof c.gcui.c1groupedfield?n.clone().addClass("gcui-gcuigrid-dnd-helper"):n.clone().wrap(a._wrapHtml).width(n.width()).height(n.height()).closest(".gcui-gcuigrid").addClass("gcui-gcuigrid-dnd-helper")},appendTo:"body",scope:a._scope_guid,drag:function(t,e){if(a._hideArrows(),a._droppableField&&!a._isInElement(t,n)){var i=a._droppableField.element;i=i||a._droppableField,a._showArrows(i,a._getPosition(r,a._droppableField,t,e))}},start:function(t,e){if(a._grid._canInteract()&&a._grid.options.allowColMoving&&!a._grid._field("resizer").inProgress()){var i=r.options,n=r.options.travIdx,o=r instanceof c.gcui.c1groupedfield,s=o?"groupArea":"columns";if(o&&(i=(i=u.grid.search(a._grid.columns(),function(t){return t.options.travIdx===n})).found?i.found.options:u.grid.getColumnByTravIdx(a._grid.options.columns,n).found),r._canDrag()&&a._grid._trigger("columnDragging",null,{drag:i,dragSource:s}))return a._grid._trigger("columnDragged",null,{drag:i,dragSource:s}),!0}return!1},stop:function(t,e){a._hideArrows();try{a._dragEnd&&(a._droppableField.element?a._grid._handleDragnDrop(r.options.travIdx,a._droppableField.options.travIdx,a._getPosition(r,a._droppableField,t,e),r instanceof c.gcui.c1groupedfield,a._droppableField instanceof c.gcui.c1groupedfield):a._grid._handleDragnDrop(r.options.travIdx,-1,"left",r instanceof c.gcui.c1groupedfield,!0))}finally{a._droppableField=null,a._dragEnd=!1}}}).droppable({hoverClass:a._css.stateHover,scope:a._scope_guid,tolerance:"pointer",greedy:!0,accept:function(t){return!(!a._grid.options.allowColMoving||n[0]===t[0]||!(i=a._getFieldInstance(t)))&&i._canDropTo(r)},drop:function(t,e){(i=a._getFieldInstance(e.draggable))&&(a._dragEnd=!0)},over:function(t,e){a._dropTargetRedirected=!1,a._droppableField=r,n.data("thisDroppableField",a._droppableField)},out:function(t,e){a._droppableField===r.element.data("thisDroppableField")&&(a._droppableField=null)}})},i.prototype.detach=function(t){var e;t&&(e=t.element)&&(e.data("ui-draggable")&&e.draggable("destroy"),e.data("ui-droppable")&&e.droppable("destroy"))},i.prototype.dispose=function(){this._$topArrow&&(this._$topArrow.remove(),this._$topArrow=null),this._$bottomArrow&&(this._$bottomArrow.remove(),this._$bottomArrow=null)},i.prototype._getFieldInstance=function(t){var e=u.grid.widgetName(t);if(!e)throw"widgetName is undedined";return t.data(e)},i.prototype._showArrows=function(t,e){this._topArrow().show().position({my:"center",at:e+" top",of:t,collision:"none"}),this._bottomArrow().show().position({my:"center",at:e+" bottom",of:t,collision:"none"})},i.prototype._hideArrows=function(){this._topArrow().hide(),this._bottomArrow().hide()},i.prototype._topArrow=function(){return this._$topArrow||(this._$topArrow=c("<div />").addClass("gcui-gcuigrid-dnd-arrow-top").append(c("<span />").addClass(this._css.icon+" ui-icon-arrowthick-1-s")).hide().appendTo(document.body)),this._$topArrow},i.prototype._bottomArrow=function(){return this._$bottomArrow||(this._$bottomArrow=c("<div />").addClass("gcui-gcuigrid-dnd-arrow-bottom").append(c("<span />").addClass(this._css.icon+" ui-icon-arrowthick-1-n")).hide().appendTo(document.body)),this._$bottomArrow},i.prototype._isInElement=function(t,e){var i=u.grid.bounds(e,!1);return t.pageX>i.left&&t.pageX<i.left+i.width&&t.pageY>i.top&&t.pageY<i.top+i.height},i.prototype._getPosition=function(t,e,i,n){if(!e.element)return"left";if(this._dropTargetRedirected)return"right";var o,s=u.grid.bounds(e.element,!1),r=s.width/6,a=s.left+s.width/2,l="right";return i.pageX<a&&(l="left"),e instanceof c.gcui.c1groupedfield?(t instanceof c.gcui.c1groupedfield&&(o=e.options.groupedIndex-t.options.groupedIndex,1===Math.abs(o)&&(l=o<0?"left":"right")),l):(o=e.options.linearIdx-t.options.linearIdx,e.options.isBand&&t.options.parentIdx!==e.options.travIdx&&Math.abs(i.pageX-a)<r?"center":(t.options.parentIdx===e.options.parentIdx&&1===Math.abs(o)&&(l=o<0?"left":"right"),l))},i);function i(t){this._scope_guid="scope_"+u.grid.getUID(),this._dragEnd=!1,this._grid=t,this._css=this._grid.options.uiCSS,this._wrapHtml='<div class="'+this._css.widget+" gcui-gcuigrid "+this._css.content+" "+this._css.cornerAll+'"><table class="gcui-gcuigrid-root gcui-gcuigrid-table"><tr class="gcui-gcuigrid-headerrow"></tr></table></div>'}t.uiDragndrop=e}(u.grid||(u.grid={}));u.grid}(gcui=gcui||{}),function(p){!function(t){"use strict";var h=jQuery,e=(i.prototype.format=function(t,e,i,n,o,s,r){var a,l=p.grid.renderState,c=p.grid.rowType,u=n.type,d=null;0===e&&this._grid._showRowHeader()&&(i=null),u!==c.groupHeader&&u!==c.groupFooter||(i=null,s&&(d=s.groupInfo)&&(i=this._grid._field("leaves")[d.leafIndex],delete s.groupInfo)),a={$cell:t,state:o,row:n,column:i,_cellIndex:e,_purpose:d?d.purpose:void 0},o===l.rendering?this._renderingStateFormatter(a,s,r):(this._currentStateFormatter(a,o&l.current),this._selectedStateFormatter(a,o&l.selected)),h.isFunction(this._grid.options.cellStyleFormatter)&&this._grid.options.cellStyleFormatter(a)},i.prototype._renderingStateFormatter=function(t,e,i){var n,o,s=p.grid.rowType,r=t.column,a=t.row.type;switch(a){case s.header:t.$cell.addClass("gcuigridth");break;default:t.$cell.addClass("gcuigridtd")}if(a&s.data&&r&&r.textAlignment)switch(r.textAlignment.toLowerCase()){case"left":t.$cell.addClass("gcui-align-left");break;case"right":t.$cell.addClass("gcui-align-right");break;case"center":t.$cell.addClass("gcui-align-center")}if(e)for(n in e)if(e.hasOwnProperty(n)){if(o=e[n],!("colSpan"!==n&&"rowSpan"!==n||1<o))continue;"class"===n?t.$cell.addClass(o):t.$cell.attr(n,o)}if(i)for(n in i)if(i.hasOwnProperty(n)){if("paddingLeft"===n){t.$cell.children(".gcui-gcuigrid-innercell").css(n,i[n]);continue}t.$cell.css(n,i[n])}if(0===t._cellIndex&&this._grid._showRowHeader())t.$cell.attr({role:"rowheader",scope:"row"}).addClass(this._grid.options.uiCSS.stateDefault+" "+this._grid.options.uiCSS.content+" gcui-gcuigrid-rowheader");else switch(a){case s.header:t.$cell.attr({role:"columnheader",scope:"col"});break;case s.footer:t.$cell.attr({role:"columnfooter",scope:"col"});break;default:t.$cell.attr("role","gridcell")}a&s.data&&0<=t._cellIndex&&r&&(t.$cell.attr("headers",window.escape(r.headerText)),r.readOnly&&t.$cell.attr("aria-readonly",!0),0<=r.dataIndex&&t.$cell.addClass("gcui-data-type-"+p.grid.getDataType(r))),a!==s.groupHeader&&a!==s.groupFooter||r&&t._purpose===p.grid.groupRowCellPurpose.aggregateCell&&t.$cell.addClass("gcui-data-type-"+p.grid.getDataType(r))},i.prototype._currentStateFormatter=function(t,e){var i=p.grid.rowType;e?(t.$cell.addClass(this._grid.options.uiCSS.stateActive),t.row.type===i.header?t.$cell.addClass("gcui-gcuigrid-current-headercell"):t.$cell.addClass("gcui-gcuigrid-current-cell")):(t.$cell.removeClass(this._grid.options.uiCSS.stateActive),t.row.type===i.header?t.$cell.removeClass("gcui-gcuigrid-current-headercell"):t.$cell.removeClass("gcui-gcuigrid-current-cell"))},i.prototype._hoveredStateFormatter=function(t,e){},i.prototype._selectedStateFormatter=function(t,e){e?t.$cell.addClass(this._grid.options.uiCSS.stateHightlight).attr("aria-selected","true"):t.$cell.removeClass(this._grid.options.uiCSS.stateHightlight).removeAttr("aria-selected")},i);function i(t){if(!t)throw"invalid arguments";this._grid=t}t.cellStyleFormatterHelper=e}(p.grid||(p.grid={}));p.grid}(gcui=gcui||{}),function(l){!function(t){"use strict";var a=jQuery,e=(i.prototype.format=function(t,e,i){var n=l.grid.renderState,o=(l.grid.rowType,t.state),s=t;o===n.rendering?this._renderingStateFormatter(s,e,i):(this._currentStateFormatter(s,0!=(o&n.current)),this._hoveredStateFormatter(s,0!=(o&n.hovered)),this._selectedStateFormatter(s,0!=(o&n.selected))),a.isFunction(this._grid.options.rowStyleFormatter)&&this._grid.options.rowStyleFormatter(s)},i.prototype._renderingStateFormatter=function(t,e,i){var n,o="gcui-gcuigrid-row "+this._grid.options.uiCSS.content,s="gcui-gcuigrid-row "+this._grid.options.uiCSS.content,r=l.grid.rowType;if(t.$rows.attr("role","row"),e)for(n in e)e.hasOwnProperty(n)&&("class"===n?t.$rows.addClass(e[n]):(t.$rows.attr(n,e[n]),t.$rows[0].style.height&&t.$rows.each(function(){return a.data(this,"customHeight",this.style.height),!0})));if(i)for(n in i)i.hasOwnProperty(n)&&t.$rows.css(n,i[n]);switch(t.type&~r.dataAlt){case r.header:o="gcui-gcuigrid-headerrow";break;case r.data:o=s+" gcui-gcuigrid-datarow",t.type&r.dataAlt&&(o+=" gcui-gcuigrid-alternatingrow");break;case r.emptyDataRow:o=s+" gcui-gcuigrid-emptydatarow";break;case r.filter:o="gcui-gcuigrid-filterrow";break;case r.groupHeader:o=s+" gcui-gcuigrid-groupheaderrow";break;case r.groupFooter:o=s+" gcui-gcuigrid-groupfooterrow";break;case r.footer:o="gcui-gcuigrid-footerrow "+this._grid.options.uiCSS.stateHightlight;break;default:throw l.grid.stringFormat("unknown rowType: {0}",t.type)}t.$rows.addClass(o)},i.prototype._currentStateFormatter=function(t,e){this._grid._showRowHeader()&&(e?a(t.$rows[0].cells[0]).addClass(this._grid.options.uiCSS.stateActive+" gcui-gcuigrid-current-rowheadercell"):a(t.$rows[0].cells[0]).removeClass(this._grid.options.uiCSS.stateActive+" gcui-gcuigrid-current-rowheadercell"))},i.prototype._hoveredStateFormatter=function(t,e){e?t.$rows.addClass(this._grid.options.uiCSS.stateHover):t.$rows.removeClass(this._grid.options.uiCSS.stateHover)},i.prototype._selectedStateFormatter=function(t,e){},i);function i(t){if(!t)throw"invalid arguments";this._grid=t}t.rowStyleFormatterHelper=e}(l.grid||(l.grid={}));l.grid}(gcui=gcui||{}),function(t){!function(t){"use strict";jQuery;var e=(i.prototype.add=function(t){if(null!==t&&""!==t){var e,i=t instanceof Date?"datetime":typeof t;e=t.toString(),0==this._cntStrings++&&(this._minString=this._maxString=e),e<this._minString&&(this._minString=e),e>this._maxString&&(this._maxString=e),"number"==i?(0==this._cntNumbers++&&(this._min=this._max=t),this._sum+=t,this._sum2+=t*t,t<this._min&&(this._min=t),t>this._max&&(this._max=t)):"datetime"==i&&(e=t.getTime(),0==this._cntDates++&&(this._minDate=this._maxDate=e),e<this._minDate&&(this._minDate=e),e>this._maxDate&&(this._maxDate=e))}},i.prototype.getValueString=function(t){var e=t.owner;if(this._cntNumbers&&("number"===t.dataType||"currency"===t.dataType)){var i=this._getValue(t.aggregate);return e.toStr(t,i)}if(this._cntDates&&"datetime"===t.dataType)switch(t.aggregate){case"max":return e.toStr(t,new Date(this._maxDate));case"min":return e.toStr(t,new Date(this._minDate));case"count":return this._cntStrings+""}if(this._cntStrings)switch(t.aggregate){case"max":return this._maxString;case"min":return this._minString;case"count":return this._cntStrings+""}return""},i.prototype._getValue=function(t){switch(t){case"average":return 0===this._cntNumbers?0:this._sum/this._cntNumbers;case"count":return this._cntStrings;case"max":return this._max;case"min":return this._min;case"sum":return this._sum;case"std":return this._cntNumbers<=1?0:Math.sqrt(this._getValue("var"));case"stdPop":return this._cntNumbers<=1?0:Math.sqrt(this._getValue("varPop"));case"var":return this._cntNumbers<=1?0:this._getValue("varPop")*this._cntNumbers/(this._cntNumbers-1);case"vapPop":if(this._cntNumbers<=1)return 0;var e=this._sum/this._cntNumbers;return this._sum2/this._cntNumbers-e*e}return 0},i);function i(){this._sum=0,this._sum2=0,this._cntNumbers=0,this._cntStrings=0,this._cntDates=0,this._max=0,this._min=0,this._minDate=0,this._maxDate=0}t.tally=e}(t.grid||(t.grid={}));t.grid}(gcui=gcui||{}),function(u){!function(t){"use strict";var r=jQuery,e=(i.prototype.inProgress=function(){return this._inProgress},i.prototype.refresh=function(){this.dispose(),this._$outerDiv=this._grid.outerDiv.find(".gcui-gcuigrid-fixedview"),this._superPanel=this._grid._view()._getSuperPanel(),this._staticOffsetH=this._grid._getStaticOffsetIndex(!1),this._staticOffsetV=this._grid._getStaticOffsetIndex(!0),this._staticColumnIndex=this._grid._getStaticIndex(!1),this._staticRowIndex=this._grid._getStaticIndex(!0),this._visibleBounds=this._grid._view().getVisibleAreaBounds();var t=u.grid.bounds(this._$outerDiv.find(".gcui-gcuigrid-split-area-nw")),e=u.grid.bounds(this._$outerDiv);("right"!==this._grid.options.staticColumnsAlignment||0<=this._staticColumnIndex)&&this._createVBar(this._visibleBounds,t,e),this._grid._serverSideVirtualScrolling()||this._createHBar(this._visibleBounds,t,e)},i.prototype.dispose=function(){this._$hBar&&(this._$hBar.remove(),this._$hBar=null),this._$vBar&&(this._$vBar.remove(),this._$vBar=null),this._$proxy&&(this._$proxy.remove(),this._$proxy=null),this._$outerDiv=null,this._superPanel=null,this._detachDocEvents()},i.prototype._createVBar=function(t,e,i){var n="right"!==this._grid.options.staticColumnsAlignment,o=n?e.width+e.left:e.left-2,s=this;o<=t.left+t.width&&(this._$vBar=r("<div><div></div></div>").addClass("gcui-grid-freezing-handle-v").addClass(n?"":"not-allowed").css({left:o-i.left,top:e.top-i.top,height:t.height+t.top-e.top}).bind("mousedown",function(t){t.data=!0,s._onBarMouseDown.apply(s,arguments)}).appendTo(this._$outerDiv),this._$vBar.find("div").addClass(this._grid.options.uiCSS.header).css({width:0,height:"100%"}))},i.prototype._createHBar=function(t,e,i){var n=e.top+e.height,o="right"!==this._grid.options.staticColumnsAlignment,s=this;n<=t.top+t.height&&(this._$hBar=r("<div><div></div></div>").addClass("gcui-grid-freezing-handle-h").css({left:o?e.left-i.left:0,top:n-i.top,width:o?t.width+t.left-e.left:t.width}).bind("mousedown",function(t){t.data=!1,s._onBarMouseDown.apply(s,arguments)}).appendTo(this._$outerDiv),this._$hBar.find("div").addClass(this._grid.options.uiCSS.header).css({width:"100%",height:0}))},i.prototype._onBarMouseDown=function(t){if(this._grid.options.disabled||"right"===this._grid.options.staticColumnsAlignment&&t.data)return!1;this._visibleBounds=this._grid._view().getVisibleAreaBounds(),this._newStaticIndex=t.data?this._staticColumnIndex:this._staticRowIndex,this._$proxy=r('<div class="gcui-gcuigrid-resizehandle '+this._grid.options.uiCSS.header+'"></div>').appendTo(document.body),this._attachDocEvents(t.data),this._inProgress=!0,t.stopPropagation()},i.prototype._onDocumentMouseMove=function(t){t.data&&this._superPanel.options.hScroller.scrollValue?this._superPanel.hScrollTo(0):!t.data&&this._superPanel.options.vScroller.scrollValue&&this._superPanel.vScrollTo(0),this._showPosition(t)},i.prototype._onDocumentMouseUp=function(t){try{this._$proxy&&this._$proxy.remove(),this._detachDocEvents(),t.data?this._newStaticIndex!==this._staticColumnIndex&&this._grid.option("staticColumnIndex",this._newStaticIndex):this._newStaticIndex!==this._staticRowIndex&&this._grid.option("staticRowIndex",this._newStaticIndex)}finally{this._$proxy=null,this._inProgress=!1}},i.prototype._attachDocEvents=function(t){if(!this._docEventsAttached)try{r.fn.disableSelection&&r(document.body).disableSelection(),this._grid._view().toggleDOMSelection(!1),r(document).bind(this._docEventKey("mousemove"),t,r.proxy(this._onDocumentMouseMove,this)).bind(this._docEventKey("mouseup"),t,r.proxy(this._onDocumentMouseUp,this))}finally{this._docEventsAttached=!0}},i.prototype._detachDocEvents=function(){if(this._docEventsAttached)try{r.fn.enableSelection&&r(document.body).enableSelection(),this._grid._view().toggleDOMSelection(!0),r(document).unbind("."+this._docEventsUID)}finally{this._docEventsAttached=!1}},i.prototype._docEventKey=function(t){return u.grid.stringFormat("{0}.{1}",t,this._docEventsUID)},i.prototype._showPosition=function(t){var e,i,n,o,s,r,a,l,c="right"!==this._grid.options.staticColumnsAlignment;if(t.data){if(l=u.grid.bounds(this._$vBar),Math.abs(t.pageX-(l.left+l.width/2))<l.width)return void this._$proxy.hide();if(e=this._getFieldByPos({x:t.pageX,y:t.pageY})){if(n=(i=u.grid.bounds(e.element)).left+i.width/2,o=e.options.visLeavesIdx-this._staticOffsetV,s=Math.max(o-1,-1),a=(r=t.pageX<n?s!==this._staticColumnIndex:o===this._staticColumnIndex)?i.left:i.left+i.width,!u.grid.isOverAxis(a,this._visibleBounds.left-1,this._visibleBounds.width+2))return;this._newStaticIndex=r?s:o,this._$proxy.show().css({left:a,top:i.top,width:3,height:this._visibleBounds.height+this._visibleBounds.top-i.top})}}else{if(l=u.grid.bounds(this._$hBar),Math.abs(t.pageY-(l.top+l.height/2))<l.height)return void this._$proxy.hide();if(e=this._getRowByPos({x:t.pageX,y:t.pageY})){if(n=(i=u.grid.bounds(e)).top+i.height/2,o=this._grid._view().getAbsoluteRowIndex(e)-this._staticOffsetH,s=Math.max(o-1,-1),a=(r=t.pageY<n?s!==this._staticRowIndex:o===this._staticRowIndex)?i.top:i.top+i.height,!u.grid.isOverAxis(a,this._visibleBounds.top-1,this._visibleBounds.height+2))return;this._newStaticIndex=r?s:o,this._$proxy.show().css({left:c?i.left:this._visibleBounds.left,top:a,width:c?this._visibleBounds.width+this._visibleBounds.left-i.left:this._visibleBounds.width,height:3})}}},i.prototype._getFieldByPos=function(t){var e,i,n,o,s=this._grid.columns();for(e=0,i=s.length;e<i;e++)if((n=s[e]).options.isLeaf&&(o=u.grid.bounds(n.element),u.grid.isOverAxis(t.x,o.left,o.width)))return n;return null},i.prototype._getRowByPos=function(t){var e,i,n,o,s=this._grid._rows();for(e=0,i=s.length();e<i;e++)if(n=s.item(e)[0],o=u.grid.bounds(r(n)),u.grid.isOverAxis(t.y,o.top,o.height))return n;return null},i);function i(t){this._docEventsUID="gcuigridfrozener"+u.grid.getUID(),this._docEventsAttached=!1,this._newStaticIndex=-1,this._staticColumnIndex=-1,this._staticRowIndex=-1,this._staticOffsetH=0,this._staticOffsetV=0,this._inProgress=!1,this._grid=t,this.refresh()}t.uiFrozener=e}(u.grid||(u.grid={}));u.grid}(gcui=gcui||{}),function(l){!function(t){"use strict";var e=jQuery,i=(a.generate=function(t,e,i){switch(t){case"append":a._processAppendMode(e,i);break;case"merge":a._processMergeMode(e,i);break;case"none":break;default:throw l.grid.stringFormat('Unsupported value: "{0}"',t)}},a._processAppendMode=function(t,n){var o={};l.grid.traverse(n,function(t){t.dynamic&&l.grid.validDataKey(t.dataKey)&&(o[t.dataKey]=!0)}),e.each(t,function(t,e){if("name"in e&&!o[e.name]){var i=a._createAutoField(e);n.push(i)}})},a._processMergeMode=function(n,o){var s,r=[];l.grid.traverse(o,function(t){if(t.isLeaf&&!t.isBand){var e=t.dataKey;l.grid.validDataKey(e)?void 0!==n[e]&&delete n[e]:null!==e&&r.push(t)}}),r.length&&(s=0,e.each(n,function(t,e){var i=r[s++];i&&(i.dataKey=e.name,delete n[t])})),e.each(n,function(t,e){var i=a._createAutoField(e);o.push(i)})},a._createAutoField=function(t){return l.grid.createDynamicField({dataKey:t.name})},a);function a(){}t.columnsGenerator=i}(l.grid||(l.grid={}));l.grid}(gcui=gcui||{}),function(t){!function(t){"use strict";var a=jQuery,e=(i.prototype.scrollTo=function(t,e){this._completeListener=e,this._panelInst.vScrollTo(t*this._panelInst.options.vScroller.scrollSmallChange,!0)},i.prototype.attach=function(t){this._$scroller=t,this._panelInst=t.data("gcui-superpanel");var e,i=t.find(".gcui-superpanel-contentwrapper:first"),n=this._panelInst.getContentElement().height(),o=this._fixedAreaHeight+n,s=i.innerHeight(),r=101/(this._N-1)*((o-s)/o);(e=this._panelInst.options.vScroller).scrollSmallChange=r,this._panelInst.option("vScroller",e),t.bind("superpanelscrolled.gcuigrid",a.proxy(this._onSuperpanelScrolled,this)),t.bind("superpanelscrolling.gcuigrid",a.proxy(this._onSuperpanelScrolling,this)),t.bind("superpanelscrolled.gcuigrid",a.proxy(this._onSuperpanelPostScrolled,this))},i.prototype.dispose=function(){this._$scroller.unbind(".gcuigrid"),this._clearTimer()},i.prototype._clearTimer=function(){window.clearTimeout(this._timer),this._timer=0},i.prototype._onSuperpanelScrolling=function(t,e){if(!this._ignoreScrollEvents&&"v"===e.dir)return-1!==this._timer&&void 0},i.prototype._onSuperpanelScrolled=function(t,e){var i=this;if(!this._ignoreScrollEvents&&"v"===e.dir&&(0<this._timer&&this._clearTimer(),-1!==this._timer)){i._timer=-1;var n=Math.round(e.newValue/i._panelInst.options.vScroller.scrollSmallChange),o=i._view._bounds.start;n<0&&(n=0),n>=i._N&&(n=i._N-1),n!==o?i._grid._handleVirtualScrolling(n,a.proxy(i._scrollingCompleted,i)):(i._log(),i._clearTimer())}},i.prototype._scrollingCompleted=function(t){this._grid._trackScrollingIndex(t),this._log(),this._completeListener&&(this._completeListener(),this._completeListener=null),this._clearTimer()},i.prototype._onSuperpanelPostScrolled=function(){a.isFunction(this._postScrolled)&&this._postScrolled.apply(this,arguments)},i.prototype._log=function(){},i);function i(t,e,i){this._timer=0,this._timeout=50,this._ignoreScrollEvents=!1,this._grid=t,this._fixedAreaHeight=i,this._view=this._grid._view(),this._N=this._grid._totalRowsCount();var n=this._grid.outerDiv.height()+20*this._N;e.height(n-i-(0<this._N?20:0)),this._view._splitAreas.sw.height(n)}t.uiVirtualScroller=e}(t.grid||(t.grid={}));t.grid}(gcui=gcui||{}),function(t){function i(t){return function(){return l||r.util.logError(r.errors.noGlobalize.create().message),t.apply(this,arguments)}}var r,a,l;r=t.data||(t.data={}),a=jQuery,l=Globalize,r.convert=function(e,t,i,n){var o=e;function s(t){return n.parser=n.parser||r.defaultParsers[t],n.parser||null==e||r.errors.noParser(t),n.parser}if(n=a.extend({nullString:"",format:""},n),t=t||null!=e&&typeof e,!(i=i||t))return e;if("string"==i)return s(t),n.parser?n.parser.toStr(e,n.culture,n.format,n.nullString,!0):e;if(s(i),!n.parser)return e;if(e=n.parser.parse(e,n.culture,n.format,n.nullString,!0),isNaN(e)&&null!=e&&r.util.isNumeric(e)){if(n.ignoreError)return o;r.errors.cantConvert(i,o)}return e},r.defaultParsers={string:{parse:function(t,e,i,n,o){switch(t){case null:return null;case n:if(o)return null;case void 0:case"&nbsp":return"";default:return""+t}},toStr:function(t,e,i,n,o){return null===t&&o?n:""+t}},number:{parse:function(t,e,i,n,o){return"number"==typeof t?isNaN(t)?NaN:t:!t&&0!==t||"&nbsp;"===t||t===n&&o?null:l.parseFloat(t,10,e.name)},toStr:function(t,e,i,n,o){return null===t&&o?n:l.format(t,i||"n",e.name)}},currency:{parse:function(t,e,i,n,o){var s=typeof t;return"number"==s?isNaN(t)?NaN:t:!t&&0!==t||"&nbsp;"===t||t===n&&o?null:("string"==s&&(t=t.replace(e.numberFormat.currency.symbol,"")),l.parseFloat(t,10,e.name))},toStr:function(t,e,i,n,o){return null===t&&o?n:l.format(t,i||"c",e.name)}},datetime:{parse:function(t,e,i,n,o){var s;if(t instanceof Date)return t;if(!t||"&nbsp;"===t||t===n&&o)return null;if(s=/^\/Date\((\d+)\)\/$/.exec(t))return new Date(parseInt(s[1],10));var r=l.parseDate(t,i,e.name);return null!=r&&!isNaN(r)||(r=Date.parse(t),r=isNaN(r)?NaN:new Date(r)),r},toStr:function(t,e,i,n,o){return null===t&&o?n:l.format(t,i||"d",e.name)}},boolean:{parse:function(t,e,i,n,o){var s=typeof t;if("number"==s)return 0!=t;if("boolean"==s)return t;if("string"==s&&(t=a.trim(t)),!t||"&nbsp;"===t||t===n&&o)return null;switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return NaN},toStr:function(t,e,i,n,o){return null===t&&o?n:t?"true":"false"}}},a.each(r.defaultParsers,function(t,e){e.parse=e.parse&&i(e.parse),e.toStr=e.toStr&&i(e.toStr)})}(gcui=gcui||{}),function(t){var c;(function(a){function i(t){return function o(t){var s=[];if(0===t.length)return s;var r=l.Connective.AND;return c.util.each(t,function(t,e){if(0==t&&c.util.isString(e)){var i=e.toLowerCase();if(i==l.Connective.AND||i==l.Connective.OR)return void(r=i)}if($.isArray(e)){if(!(e=o(e)))return;if(e[0]===r||2==e.length)return e.shift(),void(s=s.concat(e))}else{var n=a.normalizeCondition(e);if(!n)return;n.property=e.property,e=n}s.push(e)}),0==s.length?null:(s.unshift(r),s)}(t)}function e(t){if(!$.isArray(t))return null;var e={original:t,normalized:i(t),func:null};return null==e.normalized?e.func=function(t){return!0}:e.func=function(s){return function n(t){var o=t[0]===l.Connective.AND;return(o?c.util.every:c.util.some)(t,function(t,e){if(0===e)return o;if($.isArray(t))return n(t);var i=c.util.getProperty(s,t.property);return t.op.apply(i,t.value)})}(e.normalized)},e}var l;(l=a.extended||(a.extended={})).Connective={AND:"and",OR:"or"},l.compile=function(t){return e(t)||c.filtering.compile(t)};a.extended})((c=t.data||(t.data={})).filtering||(c.filtering={}))}(gcui=gcui||{}),function(t){function e(t){this.real=t,this._updatingFilter=!1,this._overrideFilter(),this._makeMemberProxies()}var i,s,r,a,n;i=t.grid||(t.grid={}),s=jQuery,r=t.data,a=r.filtering.extended,e.prototype._overrideFilter=function(){var e=this;this.filter=r.observable(this.real.filter()),this.filter.subscribe(function(t){e.real.filter()===t||e._updatingFilter||e.refresh({filter:t})}),this.real.filter.subscribe(function(t){t!==e._lastSetFilter&&e.filter(t)})},e.prototype.refresh=function(t,e){void 0===e&&(e=!1);var i=(t=s.extend({},t)).filter;t.filter=this._coerceFilter(t.filter),this._lastSetFilter=t.filter,this._updatingFilter=!0;try{s.isFunction(t.filter)&&!s.isFunction(i)?this.filter(i):this.filter(t.filter)}finally{this._updatingFilter=!1}return this.real.refresh(t,e)},e.prototype._makeMemberProxies=function(){var i=this;r.util.each(this.real,function(t,e){s.isFunction(e)&&!i[t]&&"_"!==t.charAt(0)&&(i[t]=s.isFunction(e.subscribe)?e:function(){return e.apply(i.real,arguments)})})},e.create=function(t){return new e(t)},e.prototype._convertComplexPropertyFilterToExtendedFilterFormat=function(t){var i=[];return s.each(t,function(n,t){if(s.isArray(t)){var e=r.util.isString(t[0])&&t[0].toLowerCase();if(e===a.Connective.AND||e===a.Connective.OR)return void i.push(t)}else t=[t];var o=[];s.each(t,function(t,e){var i=r.filtering.normalizeCondition(e);i&&(i.property=n,o.push(i))}),0<o.length&&i.push(o)}),0<i.length?i:null},e.prototype._coerceFilter=function(n){if(s.isArray(n))return a.compile(n).func;if(!s.isPlainObject(n))return n;n=s.extend(!0,{},n);var o={};if(s.each(n,function(t,e){if(s.isArray(e)||(e=[e]),o){var i=r.util.isString(e[0])&&e[0].toLowerCase();if(1==e.length||2==e.length&&("and"===i||"or"===i))return void(o[t]=e[e.length-1])}n[t]=e,o=null}),o)return o;var t=this._convertComplexPropertyFilterToExtendedFilterFormat(n);return a.compile(t).func},e.prototype._unsafeReplace=function(t,e){this.real.sourceArray[t]=e,this.real.local[t]=e},e.prototype._unsafeSplice=function(t,e,i){2===arguments.length?(this.real.sourceArray.splice(t,e),this.real.local.splice(t,e)):(this.real.sourceArray.splice(t,e,i),this.real.local.splice(t,e,i))},e.prototype._unsafePush=function(t){this.real.sourceArray.push(t),this.real.local.push(t)},n=e,i.GridDataView=n}(gcui=gcui||{}),function(s){!function(t){"use strict";var e,h=jQuery,d="gcui-ribbon",p=d+"-bigbutton",c=d+"-groups",u=d+"-group",f=d+"-dropdown",g=d+"-dropdowngroup",m=d+"-abbrev",v=m+"group",b=d+"-icon",i=(e=s.gcuiWidget,__extends(n,e),n.prototype._create=function(){var t=this;window.applyTouchUtilEvents&&(h=window.applyTouchUtilEvents(h)),t._ribbonify(),h(window).bind("resize."+this.widgetName,function(){t.updateRibbonSize()}),t.element.is(":hidden")&&t.element.addVisibilityObserver&&t.element.addVisibilityObserver(function(){t.updateRibbonSize(),t.options.disabled&&t._setDisabled(!0),t.element.removeVisibilityObserver&&t.element.removeVisibilityObserver()},"gcuiribbon"),t.options.disabled&&t._setDisabled(!0)},n.prototype._setOption=function(t,e){h.gcui.widget.prototype._setOption.apply(this,arguments),"disabled"===t&&this._setDisabled(e),h(".gcui-ribbon-startmenulink",this.element).unbind("click.tabs")},n.prototype._setDisabled=function(t){var e=this.element,i=e.offset(),n=i.top,o=i.left,s=h("body"),r=this.options.uiCSS,a=this.disabledModal;e.data("gcuiUITabs")&&e.gcuitabs("option","disabled",t),0!==e.closest(".gcui-editor").length&&(o=n=0,s=e.parent()),t?(a||(a=h("<div></div>").addClass(r.stateDisabled+" gcui-ribbon-disabled").css({top:n,left:o,"background-color":"lightgray",position:"absolute"}).appendTo(s).bind("click mousedown mouseup mouseover mouseout focus keydown keypress",function(t){return t.stopPropagation(),t.preventDefault(),!1}),this.disabledModal=a),this.disabledModal.width(e.width()).height(e.outerHeight()).show()):this.disabledModal&&this.disabledModal.hide()},n.prototype._initCustomButtons=function(){var i,n=this;h.each(h("[customtype]",n.element),function(t,e){(i=h(e).attr("customtype"))&&n.options.custombuttons[i]&&n.options.custombuttons[i].create(h(e))})},n.prototype._ribbonify=function(){var t=this,e=this.options.uiCSS;t.buttons={},t.listUis={},t.accessbarBtns={},t._initCustomButtons(),t._createAccessToolBar(),t._getButtonSets(),t._createButtons(),t._createGroup(),t._createSplit(),t._createDropdwon(),t._createInputDropdown(),t._createGallery(),t._hideShowedList(),t._createTab(),h("."+e.helperReset+":not(."+c+", ."+e.tabsNav+", .gcui-menu-list)",t.element).hover(function(){h(this).addClass(e.stateHover)},function(){h(this).removeClass(e.stateHover)}),h("."+e.button,t.element).bind("mouseenter",function(){h("."+e.buttonText,this).addClass(e.stateHover)}).bind("mouseleave",function(){h("."+e.buttonText,this).removeClass(e.stateHover)}),h("button."+e.button,t.element).bind("mousedown",function(){t._addActiveClassToButtonText(this)}).bind("mouseup",function(){t._addActiveClassToButtonText(this)}),h("label."+e.button,t.element).bind("click",function(){h("span",this)&&1===h("span",this).length&&t._addActiveClassToLabelButtonText(this)})},n.prototype._addActiveClassToButtonText=function(t){var e=this.options.uiCSS;t&&(h(t).hasClass(e.stateActive)?h("."+e.buttonText,t).addClass(e.stateActive):h("."+e.buttonText,t).removeClass(e.stateActive))},n.prototype._addActiveClassToLabelButtonText=function(t){var e,i,n,o=this;t&&(i=h(t).attr("for"),(e=h("#"+i,o.element)).is(":checkbox")?o._addActiveClassToButtonText(t):e.is(":radio")&&(n=o.element.find("[name='"+e.attr("name")+"']"),h.each(n,function(){o._updateGroupElementTextState(this)})))},n.prototype._updateGroupElementTextState=function(t){var e,i=this.options.uiCSS;t&&(e=h("[for='"+h(t).attr("id")+"']",h(t).parent()))&&(e.hasClass(i.stateActive)?e.children("."+i.buttonText).addClass(i.stateActive):e.children("."+i.buttonText).removeClass(i.stateActive))},n.prototype._getButtonSets=function(){var i,n=this;n.groups=[],n.splits=[],n.dropdowns=[],n.inputDropdowns=[],h("span>button, span>:checkbox, span>:radio, div>button, div>:checkbox, div>:radio, div>:text",n.element).each(function(t,e){if(!h(e).parents("[customtype]")||0===h(e).parents("[customtype]").length)return i=h(e).parent(),0!==h(">ul",i).length||i.hasClass("gcui-ribbon-accesstoolbar")?2===h(">button",i).length?n.splits.push(i):1===h(">button",i).length?n.dropdowns.push(i):1===h(">input[type='text']",i).length&&n.inputDropdowns.push(i):n.groups.push(i),this}),n.groups=n._unique(n.groups),n.splits=n._unique(n.splits)},n.prototype._unique=function(t){var e=h.makeArray(h.map(t,function(t){return t.get(0)}));return h.map(h.unique(e),function(t){return h(t)})},n.prototype._createButtons=function(){var t=this,e=t.element;h(":checkbox",e).each(function(){if(!h(this).parents("[customtype]")||0===h(this).parents("[customtype]").length)return t._createButton(h(this),"checkbox"),h(this).bind("change",function(){t._addActiveClassToLabelButtonText(h(this).button("widget")[0])}),this}),h(":radio",e).each(function(){if(!h(this).parents("[customtype]")||0===h(this).parents("[customtype]").length)return t._createButton(h(this),"radio"),h(this).bind("change",function(){t._addActiveClassToLabelButtonText(h(this).button("widget")[0])}),this}),h("button",e).each(function(){if(!h(this).parents("[customtype]")||0===h(this).parents("[customtype]").length)return t._createButton(h(this),"button"),this})},n.prototype._createButton=function(t,e){var i,n=this.options.uiCSS,o=this._buildButtonOption(t,e),s=t.data("commandName");t.button(o),o.text||("button"===e?t.children("."+n.buttonText).text(s):(i=h("[for='"+t.attr("id")+"']",t.parent()))&&i.children("."+n.buttonText).text(s)),t.parent().is(".gcui-ribbon-accesstoolbar")&&"true"===t.attr("canlocateonaccesstoolbar")&&t.button("widget").hide(),this._triggerEvent(t)},n.prototype._createGroup=function(){h.each(this.groups,function(t,e){e.buttonset()})},n.prototype._createSplit=function(){var a=this,l=this.options.uiCSS;h.each(a.splits,function(t,e){var n,i=e.children("ul"),o=e.children("button:eq(0)"),s=o.data("commandName"),r=e.children("button:eq(1)");i.children("li").addClass(l.cornerAll),e.addClass(d+"-"+s),r.button({icons:{primary:l.iconArrowDown},text:!1}).data("list",i).unbind("click").bind("click",function(t){t.stopPropagation(),t.preventDefault()}).bind("mouseup",function(t){(i=h(this).data("list")).is(":visible")?(a.showList.hide().css("z-index",""),a.showList=null):(i.show().position({my:"left top",at:"left bottom",of:e}).css("z-index",9999),a.showList=i),t.stopPropagation(),t.preventDefault()}),r.children("."+l.buttonText).text("foo"),e.after(i),i.css("position","absolute").addClass(l.helperReset+" "+l.helperClearFix+" "+l.cornerAll+" "+f).hide(),e.buttonset(),n={ui:o,defaultValue:o.button("option","label"),buttons:[],type:"split",trigger:r,list:i},h("button, :checkbox, :radio",i).bind("click",function(t){i.hide().css("z-index",""),a.showList=null,t.preventDefault()}),i.find(">li>button,>li>:radio,>li>:checkbox").each(function(t,e){var i=h(e).data("commandName");""!==i&&a.buttons[i]&&(a.buttons[i].parent=o,a.buttons[i].type="split"),n.buttons.push(h(e))}),""!==s&&(a.listUis[s]=n)})},n.prototype._createDropdwon=function(){var r=this,a=this.options.uiCSS;r.dropdownLabels={},h.each(r.dropdowns,function(t,e){var i,o=e.children("ul"),s=e.children("button:eq(0)"),n=s.data("commandName");o.children("li").addClass(a.cornerAll),e.addClass(d+"-"+n),s.button({icons:{secondary:a.iconArrowDown}}).unbind("click").bind("click",function(t){t.stopPropagation(),t.preventDefault()}).bind("mouseup",function(t){r._showDropDownList(o,s),t.stopPropagation(),t.preventDefault()}).bind("keydown",function(t){o.is(":visible")&&r._dropdownListKeyHandler(t,o,s)}),i={ui:s,defaultValue:s.button("option","label"),buttons:[],type:"dropdown",list:o},h("button, :checkbox, :radio",o).bind("click",function(t){var e,i=h(this).data("commandName"),n=s.children("."+a.buttonText).width();r.dropdownLabels[i]||(r.dropdownLabels[i]=r._getDropdownLabelSubstr(h(this).button("option","label"),s.children("."+a.buttonText),n)),e=r.dropdownLabels[i],s.button("option","label",e),s.attr("title",h(this).button("option","label")),o.hide().css("z-index",""),r.showList=null,t.preventDefault()}),o.css("position","absolute").addClass(a.helperReset+" "+a.helperClearFix+" "+a.cornerAll+" "+f).hide(),e.buttonset(),r._collectDropDownButtons(o,s,i,n)})},n.prototype._createInputDropdown=function(){var a=this,l=this.options.uiCSS;a.dropdownLabels={},h.each(a.inputDropdowns,function(t,e){var i,n=e.children("ul"),o=e.children("input[type='text']:eq(0)"),s=a._createInputDropDownWrapper(o),r=o.prop("name");e.prepend(s),n.children("li").addClass(l.cornerAll),e.addClass(d+"-"+r),o.removeProp("name").data("commandName",r).addClass(l.stateDefault+" "+l.content+" "+l.cornerLeft),s.find("a").bind("mouseup",function(t){a._showDropDownList(n,o),o.focus(),t.stopPropagation(),t.preventDefault()}).bind("keydown",function(t){a._dropdownListKeyHandler(t,n,s)}),a._bindInputEvent(o,n),i={ui:o,defaultValue:o.val(),buttons:[],type:"dropdown",list:n},h("button, :checkbox, :radio",n).bind("click",function(t){var e=h(this).data("commandName");a.dropdownLabels[e]||(a.dropdownLabels[e]=h(this).button("option","label")),a.dropdownLabels[e],o.val(h(this).button("option","label")).attr("title",h(this).button("option","label")),n.hide().css("z-index",""),a.showList=null,t.preventDefault(),t.stopPropagation()}),n.css("position","absolute").addClass(l.helperReset+" "+l.helperClearFix+" "+l.cornerAll+" "+f).hide(),a._collectDropDownButtons(n,o,i,r)})},n.prototype._collectDropDownButtons=function(t,n,o,e){var s=this;t.find(">li>button,>li>:radio,>li>:checkbox").each(function(t,e){var i=h(e).data("commandName");""!==i&&s.buttons[i]&&(s.buttons[i].parent=n,s.buttons[i].type="dropdown"),o.buttons.push(h(e))}),""!==e&&(s.listUis[e]=o)},n.prototype._showDropDownList=function(t,e){t.is(":visible")&&!t.find("li."+this.options.uiCSS.stateActive)?(this.showList.hide().css("z-index",""),this.showList=null):(this.showList&&(this.showList.hide(),this.showList=null),t.show().position({my:"left top",at:"left bottom",of:e}).css("z-index",9999),this.showList=t,this.isShow=!0,h("#measureWidth")[0].className.indexOf("update-width")<0&&t.css("width",h.gcui.getTextAutoWidth(t)))},n.prototype._bindInputEvent=function(i,e){var n=this;i.bind("change",function(t){var e={name:void 0,commandName:void 0};e.name=i.prop("name"),e.commandName=i.val(),n._trigger("click",t,e)}).bind("keydown",function(t){n._dropdownListKeyHandler(t,e,i)})},n.prototype._dropdownListKeyHandler=function(t,e,i){var n=t.keyCode,o=this._getKeyCodeEnum();switch(n){case o.UP:this._activeDropDownListElement(!1,e,i),t.preventDefault();break;case o.DOWN:this._activeDropDownListElement(!0,e,i),t.preventDefault();break;case o.ENTER:e.find("label."+this.options.uiCSS.stateActive).parent("li").find("input").trigger("click"),t.preventDefault()}},n.prototype._activeDropDownListElement=function(t,e,i){var n,o,s=e.find("li").length;e.is(":visible")?((o=e.find("label."+this.options.uiCSS.stateActive).parent("li"))&&0<o.length&&(n=e.find("li").index(o)),this._changeListItemActiveState(o,!1),void 0===n?n=0:t?++n==s&&(n=void 0):-1==--n&&(n=s-1),this._changeListItemActiveState(h(e.find("li")[n]),!0)):this._showDropDownList(e,i)},n.prototype._changeListItemActiveState=function(t,e){var i=this.options.uiCSS;t&&(e?(h("label",t).addClass(i.stateActive),h("span",t).addClass(i.stateActive)):(h("label",t).removeClass(i.stateActive),h("span",t).removeClass(i.stateActive)))},n.prototype._createGallery=function(){var n=this,o=n.options.uiCSS;h(".gcui-ribbon-gallery",n.element).each(function(t,e){h(e).children("div").each(function(t,i){h(i).bind("mouseenter",function(t){h(i).hasClass(o.stateDisabled)||h(i).addClass(o.stateHover)}).bind("mouseleave",function(t){h(i).hasClass(o.stateDisabled)||h(i).removeClass(o.stateHover)}).bind("click",function(t){if(!h(i).hasClass(o.stateDisabled)){h(i).parent("div.gcui-ribbon-gallery").children("div").removeClass(o.stateActive),h(i).addClass(o.stateActive);var e={name:void 0,commandName:void 0};e.name=h(i).parent("div.gcui-ribbon-gallery").attr("name"),e.commandName=h(i).attr("name"),n._trigger("click",t,e)}}),n.buttons[h(i).attr("name")]={button:h(i),type:"galleryBtn"}})})},n.prototype._getKeyCodeEnum=function(){if(h.ui&&h.ui.keyCode)return h.ui.keyCode;if(h.mobile&&h.mobile.keyCode)return h.mobile.keyCode;throw"keyCode object is not found"},n.prototype._createInputDropDownWrapper=function(t){var e=this.options.uiCSS,i=h("<span class='gcui-ribbon-inputdropdownwrapper'></span>").append(t);return h("<a></a>").appendTo(i).button({icons:{primary:e.iconArrowDown},text:!1}).removeClass(e.cornerAll).addClass("gcui-ribbon-inputdropdownbtn "+e.cornerRight),i},n.prototype._createTab=function(){var i=this,t=this.options.uiCSS,e=i.element;return e.addClass(d),i.tabEle=e,0<h(">ul",e).length?(e.gcuitabs({select:function(t,e){i._hideAllMenus()}}),i._createRibbonGroups(),h(".gcui-ribbon-startmenu")&&0<h(".gcui-ribbon-startmenu").length&&(e.gcuitabs("option","selected",1),i._createStartMenu()),!0):(e.addClass(d+"-simple").addClass(t.stateDefault).addClass(t.helperClearFix),!1)},n.prototype._createAccessToolBar=function(){var e,t,i=this,n=h("<div class='gcui-ribbon-accesstoolbar'></div>");0===h("*[canlocateonaccesstoolbar='true']",i.element).length&&0===h("*[locateonaccesstoolbar='true']",i.element).length||(h("input[canlocateonaccesstoolbar='true'],input[locateonaccesstoolbar='true']",i.element).each(function(){e=h(this).attr("id")+"_accessbar";var t=h("label[for="+h(this).attr("id")+"]");i.accessbarBtns[t.attr("title")]={button:h(this).clone().attr("id",e),type:h(this).attr("type"),labelEle:t.clone().attr("for",e),selected:"true"===h(this).attr("locateonaccesstoolbar")}}),h("button[canlocateonaccesstoolbar='true'],button[locateonaccesstoolbar='true']",i.element).each(function(){e=h(this).attr("id")+"_accessbar",i.accessbarBtns[h(this).attr("title")]={button:h(this).clone(),type:"button",selected:"true"===h(this).attr("locateonaccesstoolbar")}}),h.each(i.accessbarBtns,function(t,e){n.append(e.button),e.labelEle&&n.append(e.labelEle)}),t=h('<button title="Customize Access Toolbar" class ="gcui-ribbon-accesstoolbarbtn '+i.options.uiCSS.iconArrowDown+'" name="quicktoolbar"></button>'),n.append(t),i.accessbarBtns&&i.element.prepend(n),i._createCustomQuickToolbarMenu(t,n))},n.prototype._createCustomQuickToolbarMenu=function(t,e){var i,n,r=this,a=r.options.uiCSS,l=h('<ul class="gcui-ribbon-accesstoolbarmenu"></ul>');h.each(r.accessbarBtns,function(t,e){n=e.selected?" gcui-ribbon-accesstoolbarmenuitemchecked":" gcui-ribbon-accesstoolbarmenuitemunchecked",(i=h('<li><a class="'+a.cornerAll+'" tabindex="-1"><span class="'+a.icon+n+'"></span><span class="gcui-menu-text">'+t+"</span></a></li>")).data("accessbarcommand",t),l.append(i)}),l.prepend("<li class='gcui-ribbon-accesstoolbarmenutitleitem'><a>Customize Access Toolbar</a></li>"),e.append(l),l.gcuimenu({trigger:t,triggerEvent:"click",orientation:"vertical",select:function(t,e){var i=e.item,n=i.element.data("accessbarcommand"),o=h("span."+a.icon,i.element),s=r.accessbarBtns[n].button.button("widget");o.hasClass("gcui-ribbon-accesstoolbarmenuitemchecked")?(o.removeClass("gcui-ribbon-accesstoolbarmenuitemchecked").addClass("gcui-ribbon-accesstoolbarmenuitemunchecked"),s.hide().removeAttr("canlocateonaccesstoolbar").attr("locateonaccesstoolbar","true")):(o.addClass("gcui-ribbon-accesstoolbarmenuitemchecked").removeClass("gcui-ribbon-accesstoolbarmenuitemunchecked"),s.show().removeAttr("locateonaccesstoolbar").attr("canlocateonaccesstoolbar","true")),l.gcuimenu("deactivate",null)}}),l.gcuimenu("setItemDisabled",h(".gcui-ribbon-accesstoolbarmenutitleitem"),!0)},n.prototype.updateRibbonSize=function(){var a,l,c=this,u=this.options.uiCSS;c.tabEle.children("div").not(".gcui-menu").each(function(t,e){var i=h(e),n=i.is(":visible"),o=i.find(">ul>li:not(.gcui-menu-item)"),s=[],r=i.width();return n||(i.removeClass(u.tabsHide),r=i.width()),o.each(function(t,e){var i=h(e),n=i.find(">div:last"),o=c._getGroupLabelText(n);return a=i.children("."+g),l=i.children("."+v),a&&(i.addClass(d+"-"+h.gcui.replaceClassName(o.toLowerCase())).prepend(a.children()),a.remove(),l&&l.remove()),s.push({width:i.outerWidth(!0),contentWidth:i.width(),height:i.outerHeight(!0),text:o}),this}),c._adjustRibbonGroupIfNeeded(o,s,r),n||i.addClass(u.tabsHide),this}),c.options.disabled&&c._setDisabled(!0)},n.prototype._createRibbonGroups=function(){var a=this,l=this.options.uiCSS;a.tabEle.children("div").each(function(t,e){var i,n=h(e),o=n.is(":visible"),s=n.find(">ul:not(.gcui-ribbon-accesstoolbarmenu)>li"),r=[];if(!n.data("destroy.tabs"))return o||n.removeClass(l.tabsHide),i=n.width(),n.addClass("gcui-ribbon-panel"),n.hasClass(l.tabsPanel)||(n.addClass("gcui-ribbon-accesstoolbar"),a.tabEle.prepend(n)),n.find(">ul").addClass(l.helperReset+" "+l.helperClearFix+" "+l.content+" "+l.cornerAll+" "+c),s.each(function(t,e){var i=h(e),n=i.find(">div:last"),o=(n.find("span"),l.stateDefault+" "+u),s=a._getGroupLabelText(n);return n&&(o+=" "+d+"-"+h.gcui.replaceClassName(s.toLowerCase())),i.addClass(o),n.addClass("gcui-ribbon-group-label").bind("click",function(){return!1}),i.wrapInner("<div class = 'gcui-ribbon-group-content'></div>"),i.children().bind("mouseover",function(){h(this).addClass(l.stateHover)}).bind("mouseout",function(){h(this).removeClass(l.stateHover)}),n.appendTo(i),r.push({width:i.outerWidth(!0),text:s}),this}),a._originalGroupInfo=r,a._adjustRibbonGroupIfNeeded(s,r,i),o||n.addClass(l.tabsHide),this;n.remove()})},n.prototype._createStartMenu=function(){var n=this,t=h(".gcui-ribbon-startmenulink",n.element),i=n.options.uiCSS;t.unbind("click"),t.parent("li").addClass("gcui-ribbon-startmenulinkcontainer").hover(function(){h(this).removeClass("gcui-ribbon-startmenulinkcontainer")},function(){h(this).addClass("gcui-ribbon-startmenulinkcontainer")}),h(".gcui-ribbon-startmenuindicator",n.element).addClass(i.icon+" "+i.iconArrowDown),h(".gcui-ribbon-startmenu",n.element).gcuimenu({trigger:h(".gcui-ribbon-startmenulink",n.element).parent(),triggerEvent:"click",orientation:"vertical",select:function(t,e){var i={name:void 0,commandName:void 0};i.commandName=e.item._link.attr("name"),n._trigger("click",t,i)},hidden:function(t,e){e.activeItem&&e.activeItem._link.removeClass(i.stateFocus)}})},n.prototype._getGroupLabelText=function(t){var e,i;return t&&(e=t.find("span"),i=t.attr("displayname")?t.attr("displayname"):e&&0<e.length&&!t.hasClass(v)?h(e[0]).text():h.trim(t.text())),i},n.prototype._adjustRibbonGroupIfNeeded=function(t,e,i){for(var n,o,s,r=t.length-1,a=0,l=0,c=0;0<=r;r--){for(a=c=0;a<r;a++)c+=e[a].width;c+l+e[r].width<=i?(n=h(t[r]).children("."+g),o=h(t[r]).children("."+v),n&&(h(t[r]).addClass(d+"-"+e[r].text.toLowerCase()).prepend(n.children()),n.remove(),o&&o.remove())):(s=e[r],l+=this._createDropDownRibbonGroup(s,t[r],i))}},n.prototype._createDropDownRibbonGroup=function(o,t,e){var s=this,i=o.text,n=d+"-"+h.gcui.replaceClassName(i.toLowerCase()),r=this.options.uiCSS,a=h(t).removeClass(n),l=s._getGroupLabelText(a.find(">div:last"))||i;return a.wrapInner("<div class='"+g+" "+u+"'></div>").children().hide().addClass(n).bind("mouseup."+s.widget,function(t){null!==s.showDrpDwnGroup&&(s.showDrpDwnGroup.hide().css("z-index",""),s.showDrpDwnGroup=null)}),h("<div class='"+v+"'><span class='"+m+h.gcui.replaceClassName(l.toLowerCase())+" "+b+" gcui-ribbon-abbrevicon'></span><span class='gcui-ribbon-text'>"+l+"</span><span class='"+r.icon+" "+r.iconArrowDown+" "+b+"'></span></div>").appendTo(a).unbind(s.widget).bind("mouseover."+s.widget,function(t){h(this).addClass(r.stateHover)}).bind("mouseout."+s.widget,function(t){h(this).removeClass(r.stateHover)}).bind("click."+s.widget,function(t){var e=h(this).siblings("."+g);if(e.is(":visible"))e.hide().css("z-index",""),s.showDrpDwnGroup=null;else{s.showDrpDwnGroup&&s.showDrpDwnGroup.hide().css("z-index","");var i=o.contentWidth+1,n=o.height;e.css({width:i,height:n}),e.show().position({my:"left top",at:"left bottom",of:this}).css("z-index","10000"),s.showDrpDwnGroup=e,t.stopPropagation()}}),a.outerWidth(!0)},n.prototype._hideShowedList=function(){var i=this;h(document).bind("mouseup",function(t){var e=t.target;i.showList&&(h(e).is(document)||e!==i.showList.get(0)&&!h.contains(i.showList.get(0),e))&&(i.showList.hide().css("z-index",""),i.showList=null),i.showDrpDwnGroup&&(!h(e).is(document)&&h.contains(i.showDrpDwnGroup.get(0),e)||(i.showDrpDwnGroup.hide().css("z-index",""),i.showDrpDwnGroup=null))})},n.prototype._buildButtonOption=function(t,e){var i,n,o,s,r,a,l,c=!0,u=t.attr("class");if(u&&""!==u&&u!==p)n=u.split(" ")[0],t.removeClass(n),""===(r=h.trim(t.text()))&&(c=!1);else{if("checkbox"===e||"radio"===e){if(""===h.trim(t.attr("id")))return;if(!(a=h("[for='"+t.attr("id")+"']",t.parent())).is("label"))return;(u=a.attr("class"))&&""!==u&&u!==p?(n=u.split(" ")[0],a.removeClass(n),""===(r=h.trim(a.text()))&&(c=!1)):i=a.children("span,div")}else"button"===e&&(i=t.children("span,div"));i&&(1===i.length?""!==i.eq(0).attr("class")&&(n=(o=i.eq(0)).attr("class"),c=!1):2===i.length?i.eq(0).attr("class")&&(n=(o=i.eq(0)).attr("class"),o.is("span")?s="left":o.is("div")&&(s="top"),r=i.eq(1).text()):"button"===e&&""!==h.trim(t.text())&&(r=h.trim(t.text())))}return"button"===e?(t.empty(),""!==(l=h.trim(t.attr("name")))&&t.removeAttr("name")):""!==(l=h.trim(a.attr("name")))&&a.removeAttr("name"),""!==l&&(t.data("commandName",l),this.buttons[l]||(this.buttons[l]={button:void 0,accessToolbarButton:void 0}),t.parent().is(".gcui-ribbon-accesstoolbar")?this.buttons[l].accessToolbarButton=t:this.buttons[l].button=t),{label:r,icons:{primary:n},position:s,text:c}},n.prototype._triggerEvent=function(s){var r,a,l=this,c=l.options.uiCSS;s.bind("click",function(t){if(l.options.disabled)return t.preventDefault(),void t.stopPropagation();l._hideAllMenus();var e=!0,i=s.data("commandName"),n=l.buttons[i],o={name:void 0,commandName:void 0};n&&n.parent&&(o.name=n.parent.data("commandName")),o.commandName=i,l._trigger("click",t,o),(r=s.parent().is(".gcui-ribbon-accesstoolbar")?l.buttons[i].button:l.buttons[i].accessToolbarButton)&&(a=r.button("widget"),r.is("button")||(a&&a.hasClass(c.stateActive)&&(e=!1),l._setBtnWidgetCheckedStyle(r,e))),s.is("button")&&(t.preventDefault(),t.stopPropagation()),h("."+c.buttonText,this).removeClass(c.stateHover)})},n.prototype._getDropdownLabelSubstr=function(t,e,i){var n,o=0,s=t.length,r=Math.floor((o+s)/2),a=h("<span></span>"),l=t.substr(0,r);for(a.appendTo(e.parent()),n=this._calculateWidth(l,a);n!==i&&o<s;)l=t.substr(0,r+1),i<(n=this._calculateWidth(l,a))?s=r-1:n<i&&(o=r+1),r=Math.floor((o+s)/2);return a.remove(),l},n.prototype._calculateWidth=function(t,e){return e.text(t),e.width()},n.prototype.hideDropdown=function(t){var e=this.listUis[t];e&&e.list&&e.list.hide()},n.prototype._hideAllMenus=function(){h(".gcui-menu",this.tabEle).hide()},n.prototype.setTabPageVisible=function(t,e){var i,n=h("a[href=#"+t+"]",this.element).parent("li"),o=n.parent("ul");n&&0<n.length&&(i=e?(n.show(),h("li",o).index(n)):(n.hide(),h("li",o).index(h('li:visible:not(".gcui-ribbon-startmenulinkcontainer")',o)))),this.element.gcuitabs("option","selected",i)},n.prototype.destroy=function(){this.disabledModal&&this.disabledModal.remove(),h(window).unbind("resize."+this.widgetName),h.Widget.prototype.destroy.call(this)},n.prototype.getDropdownList=function(t){var e=this.listUis[t],i={};return e&&h.each(e.buttons,function(t,e){i[e.data("commandName")]=e.button("option","label")}),i},n.prototype.setButtonDisabled=function(t,e){var i,n,o,s=this.buttons[t],r=this.options.uiCSS,a=!1;if(s&&s.disabled)s.disabled(e);else if(s&&s.button&&"galleryBtn"===s.type&&s.button.addClass(r.stateDisabled),s&&s.button){if(i=s.button,n=s.accessToolbarButton,a=i.is("button"),"galleryBtn"===s.type)return void(e?i.addClass(r.stateDisabled):i.removeClass(r.stateDisabled));i.button("option","disabled",e),n&&n.button("option","disabled",e),a?"save"!==t&&n&&i.children("."+r.buttonText).text(t):h("[for='"+i.attr("id")+"']",i.parent()).children("."+r.buttonText).text(t),(o=this.listUis[t])&&"split"===o.type&&(o.trigger.button("option","disabled",e),o.trigger.children("."+r.buttonText).text(t))}},n.prototype.setButtonsDisabled=function(t){var i=this;h.each(t,function(t,e){i.setButtonDisabled(t,e)})},n.prototype.setButtonsChecked=function(t){var i=this;h.each(t,function(t,e){h.isPlainObject(e)?i.setButtonChecked(t,e.checked,e.name):i.setButtonChecked(t,e,null)})},n.prototype.registerButtonInformation=function(t,e){if(t&&e)return this.buttons[t]=e},n.prototype.ribbonClick=function(t,e){this._trigger("click",t,e)},n.prototype._setBtnWidgetCheckedStyle=function(t,e){var i=this.options.uiCSS;t.is("button")?e?t.addClass(i.stateActive):t.removeClass(i.stateActive):t.is("input[type='text']")||(t.prop("checked",e),t.button("refresh")),this._addActiveClassToButtonText(t.button("widget"))},n.prototype.setButtonChecked=function(t,e,i){var n,o,s,r,a,l=this,c=l.buttons[t],u=this.options.uiCSS;if(c&&c.checked)c.checked(e);else if(c&&c.button){if(o=c.button,s=c.accessToolbarButton,o.is("button"))e?(o.addClass(u.stateActive),s&&s.addClass(u.stateActive)):(o.removeClass(u.stateActive),s&&s.removeClass(u.stateActive));else{if("galleryBtn"===c.type){var d=o.parent("div");return h("div",d).removeClass(u.stateActive),void(e?o.addClass(u.stateActive):o.removeClass(u.stateActive))}o.is("input[type='text']")||(o.prop("checked",e),o.button("refresh"),s&&(s.prop("checked",e),s.button("refresh")))}c.parent?"dropdown"===c.type&&e&&(l.dropdownLabels[t]||(l.dropdownLabels[t]=l._getDropdownLabelSubstr(o.button("option","label"),c.parent.children("."+u.buttonText),c.parent.children("."+u.buttonText).width())),a=l.dropdownLabels[t],c.parent.is("input[type='text']")?(c.parent.val(a),c.parent.attr("title",a)):(c.parent.button("option","label",a),c.parent.attr("title",o.button("option","label"))),(n=h(":radio",c.button.closest("ul")))&&h.each(n,function(){l._updateGroupElementTextState(this)})):(l._addActiveClassToButtonText(o.button("widget")),s&&l._addActiveClassToButtonText(s.button("widget")))}else i&&(r=l.listUis[i])&&(r.ui.is("input[type='text']")?r.ui.val(r.defaultValue):r.ui.button("option","label",r.defaultValue),r.buttons&&h.each(r.buttons,function(t,e){e.prop("checked",!1),e.button("refresh"),l._addActiveClassToButtonText(e.button("widget"))}))},n);function n(){e.apply(this,arguments)}var o=function(){this.initSelector=":jqmData(role='gcuiribbon')",this.uiCSS={tabsHide:"gcui-gcuitabs-hide",dropDownGroupSpace:20},this.click=null,this.custombuttons=null};(t.gcuiribbon=i).prototype.options=h.extend(!0,{},s.gcuiWidget.prototype.options,new o),h.gcui.registerWidget("gcuiribbon",i.prototype)}(s.ribbon||(s.ribbon={}))}(gcui=gcui||{});var spreadHtmlTemplate={"common/assets/spreadjs/spreadSheetsDesigner/formatDialog/designTime/res/formatDialog.tpl.html":'<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n    <title>Format dialog</title>\n</head>\n<body>\n<div class="format-dialog">\n    <div class="tabs main-tab">\n        <ul>\n            <li class="tab-number-li format-tab-li"><a href="#tab-number" data-toggle="tab">{{Res.formatDialog.number}}</a>\n            </li>\n            <li class="tab-alignment-li format-tab-li"><a href="#tab-alignment"\n                                                          data-toggle="tab">{{Res.formatDialog.alignment}}</a>\n            </li>\n            <li class="tab-font-li format-tab-li"><a href="#tab-font" data-toggle="tab">{{Res.formatDialog.font}}</a>\n            </li>\n            <li class="tab-border-li format-tab-li"><a href="#tab-border" data-toggle="tab">{{Res.formatDialog.border}}</a>\n            </li>\n            <li class="tab-cellLabel-li format-tab-li"><a href="#tab-label" data-toggle="tab">{{Res.formatDialog.padding}}</a>\n            </li>\n            <li class="tab-fill-li format-tab-li"><a href="#tab-fill" data-toggle="tab">{{Res.formatDialog.fill}}</a>\n            </li>\n            <li class="tab-protection-li format-tab-li"><a href="#tab-protection"\n                                                           data-toggle="tab">{{Res.formatDialog.protection}}</a>\n            </li>\n        </ul>\n        <div id="tab-number" class="tab-page">\n            <div>\n                <label class="format-number-label-category" data-toggle="tab">{{Res.formatDialog.category}}</label>\n            </div>\n            <div class="tab-number-category">\n                <select name="category-list" class="category-select" size="16">\n                    <option value="general" data-toggle="tab">{{Res.categories.general}}</option>\n                    <option value="numbers" data-toggle="tab">{{Res.categories.numbers}}</option>\n                    <option value="currency" data-toggle="tab">{{Res.categories.currency}}</option>\n                    <option value="accounting" data-toggle="tab">{{Res.categories.accounting}}</option>\n                    <option value="date" data-toggle="tab">{{Res.categories.date}}</option>\n                    <option value="time" data-toggle="tab">{{Res.categories.time}}</option>\n                    <option value="percentage" data-toggle="tab">{{Res.categories.percentage}}</option>\n                    <option value="fraction" data-toggle="tab">{{Res.categories.fraction}}</option>\n                    <option value="scientific" data-toggle="tab">{{Res.categories.scientific}}</option>\n                    <option value="text" data-toggle="tab">{{Res.categories.text}}</option>\n                    <option value="special" data-toggle="tab">{{Res.categories.special}}</option>\n                    <option value="custom" data-toggle="tab">{{Res.categories.custom}}</option>\n                </select>\n            </div>\n            <div class="tab-number-sample">\n                <fieldset class="tab-number-sample-fieldset">\n                    <legend data-toggle="tab">{{Res.formatDialog.sample}}</legend>\n                    <div class="sample-display-container">\n                        <span class="sample-display"></span>\n                    </div>\n                    <div class="sample-spread"></div>\n                </fieldset>\n            </div>\n            <div class="tab-number-setting"></div>\n            <div class="tab-number-comments"></div>\n        </div>\n\n        <div id="tab-alignment" class="tab-page">\n            <div class="category-label">\n                <label for="align-align" data-toggle="tab">\n                     {{Res.formatDialog.textAlignment}}\n                </label>\n            </div>\n            <div id="align-align" class="category">\n                <div class="group">\n                    <div>\n                        <label class="column1" for="align-hori-align"\n                               data-toggle="tab">{{Res.formatDialog.horizontalAlignment}}</label>\n                        <select class="column2 input-horizontal-align" id="align-hori-align"\n                                name="format-horizontal-align">\n                            <option value="3" data-toggle="tab">{{Res.formatDialog.general}}</option>\n                            <option value="0" data-toggle="tab">{{Res.formatDialog.left}}</option>\n                            <option value="1" data-toggle="tab">{{Res.formatDialog.center}}</option>\n                            <option value="2" data-toggle="tab">{{Res.formatDialog.right}}</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label class="column1" for="align-vert-align"\n                               data-toggle="tab">{{Res.formatDialog.verticalAlignment}}</label>\n                        <select class="column2 input-vertical-align"\n                                id="align-vert-align" name="format-vertical-align">\n                            <option value="0" data-toggle="tab">{{Res.formatDialog.top}}</option>\n                            <option value="1" data-toggle="tab">{{Res.formatDialog.center}}</option>\n                            <option value="2" data-toggle="tab">{{Res.formatDialog.bottom}}</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="group indent">\n                    <div>\n                        <label class="column1" for="align-indent"\n                               data-toggle="tab">{{Res.formatDialog.indent}}</label>\n                        <input class="column2 input-indent"\n                               id="align-indent" name="indent" value="0">\n                    </div>\n                </div>\n                <div class="clear-float"></div>\n            </div>\n            <div class="category-label">\n                <label for="align-text" data-toggle="tab">{{Res.formatDialog.textControl}}</label>\n            </div>\n            <div id="align-text" class="category">\n                <div class="group">\n                    <div>\n                        <input class="input-wrap" id="align-text-wrap"\n                               type="checkbox" name="text-wrap"/>\n                        <label for="align-text-wrap" data-toggle="tab">{{Res.formatDialog.wrapText}}</label>\n                    </div>\n                    <div>\n                        <input class="input-shrink" id="align-text-shrink"\n                               type="checkbox" name="text-shrink"/>\n                        <label for="align-text-shrink" data-toggle="tab">{{Res.formatDialog.shrink}}</label>\n                    </div>\n                    <div>\n                        <input class="input-merge" id="align-text-merge"\n                               type="checkbox" name="text-wrap"/>\n                        <label for="align-text-merge" data-toggle="tab">{{Res.formatDialog.merge}}</label>\n                    </div>\n                </div>\n                <div class="clear-float"></div>\n            </div>\n        </div>\n        <div id="tab-font" class="tab-page">\n            <div class="font-picker input-font"></div>\n        </div>\n        <div id="tab-border" class="tab-page">\n            <div class="line-border-div">\n                <fieldset class="line-border-fieldset">\n                    <legend data-toggle="tab">{{Res.borderDialog.line}}</legend>\n                    <div class="border-picker"></div>\n                </fieldset>\n            </div>\n            <div class="line-border-presets-div">\n                <fieldset class="line-border-presets-fieldset">\n                    <legend data-toggle="tab">{{Res.borderDialog.presets}}</legend>\n                    <div class="presets-style">\n                        <button id="no-border" class="big-border-icon no-border-button" name="border-style">\n                            <span class="big-border-icon-span no-border-span"></span>\n                        </button>\n                        <button id="outside-border" class="big-border-icon outside-border-button" name="border-style">\n                            <span class="big-border-icon-span outside-border-span"></span>\n                        </button>\n                        <button id="inside-border" class="big-border-icon inside-border-button" name="border-style">\n                            <span class="big-border-icon-span inside-border-span"></span>\n                        </button>\n                        <label class="border-label no-border-label" data-toggle="tab">{{Res.borderDialog.none}}</label>\n                        <label class="border-label outside-border-label" data-toggle="tab">{{Res.borderDialog.outline}}</label>\n                        <label class="border-label inside-border-label"\n                               data-toggle="tab">{{Res.borderDialog.inside}}</label>\n                    </div>\n                </fieldset>\n            </div>\n            <div class="line-border-detail-div">\n                <fieldset class="line-border-detail-fieldset">\n                    <legend data-toggle="tab">{{Res.borderDialog.border}}</legend>\n                    <div class="border-detail-style">\n                        <input type="checkbox" class="small-border-icon top-line-input"/>\n                        <label class="small-border-icon-label top-line"></label>\n                        <input type="checkbox" class="small-border-icon horizontal-inner-line-input"/>\n                        <label class="small-border-icon-label horizontal-inner-line"></label>\n                        <input type="checkbox" class="small-border-icon bottom-line-input"/>\n                        <label class="small-border-icon-label bottom-line"></label>\n                        <input type="checkbox" class="small-border-icon left-line-input"/>\n                        <label class="small-border-icon-label left-line"></label>\n                        <input type="checkbox" class="small-border-icon vertical-inner-line-input"/>\n                        <label class="small-border-icon-label vertical-inner-line"></label>\n                        <input type="checkbox" class="small-border-icon right-line-input"/>\n                        <label class="small-border-icon-label right-line"></label>\n\n                        <div class="border-line-panel">\n                            <div class="corner left-top-corner"></div>\n                            <div class="corner right-top-corner"></div>\n                            <div class="corner left-bottom-corner"></div>\n                            <div class="corner right-bottom-corner"></div>\n                            <div class="corner vertical-middle top-middle-vertical"></div>\n                            <div class="corner horizontal-middle left-middle-vertical"></div>\n                            <div class="corner horizontal-middle right-middle-vertical"></div>\n                            <div class="corner vertical-middle bottom-middle-vertical"></div>\n                            <div class="corner vertical-middle top-middle-horizontal"></div>\n                            <div class="corner horizontal-middle left-middle-horizontal"></div>\n                            <div class="corner horizontal-middle right-middle-horizontal"></div>\n                            <div class="corner vertical-middle bottom-middle-horizontal"></div>\n                            <div class="border-sheet"></div>\n                        </div>\n\n                    </div>\n                </fieldset>\n            </div>\n            <div class="border-comments">\n                <span class="border-comments-span" data-toggle="tab">{{Res.borderDialog.comments}}</span>\n            </div>\n        </div>\n        <div id="tab-label" class="tab-page">\n            <div class="column-container label-container">\n                <fieldset class="cell-label">\n                    <legend data-toggle="tab">{{Res.formatDialog.label}}</legend>\n                    <div class="label-text-container">\n                        <label class="column1" data-toggle="tab">{{Res.formatDialog.text}}</label>\n                        <div>\n                            <input class="column2 label-text-input">\n                        </div>\n                    </div>\n                    <div class="label-alignment-container">\n                        <div>\n                            <label data-toggle="tab">{{Res.formatDialog.alignment}}</label>\n                        </div>\n                        <div class="label-alignment-button-container">\n                            <div class="label-alignment-button label-alignment-topLeft" data-name="topLeft">\n                                <span></span>\n                            </div>\n                            <div class="label-alignment-button label-alignment-topCenter"\n                                 data-name="topCenter">\n                                <span></span>\n                            </div>\n                            <div class="label-alignment-button label-alignment-topRight"\n                                 data-name="topRight">\n                                <span></span>\n                            </div>\n                            <div class="label-alignment-button label-alignment-bottomLeft"\n                                 data-name="bottomLeft">\n                                <span></span>\n                            </div>\n                            <div class="label-alignment-button label-alignment-bottomCenter"\n                                 data-name="bottomCenter">\n                                <span></span>\n                            </div>\n                            <div class="label-alignment-button label-alignment-bottomRight"\n                                 data-name="bottomRight">\n                                <span></span>\n                            </div>\n                        </div>\n                        <div class="clear-float"></div>\n                    </div>\n                    <div class="label-fonts-container">\n                        <div>\n                            <label data-toggle="tab">{{Res.formatDialog.fonts}}</label>\n                        </div>\n                        <div class="label-font-container">\n                            <select class="label-font-family ui-button">\n\n                            </select>\n                            <select class="label-font-size ui-button">\n\n                            </select>\n                            <div class="label-fonts-button  label-font-weight ui-button">\n                                <div></div>\n                            </div>\n                            <div class="label-fonts-button label-font-style ui-button">\n                                <div></div>\n                            </div>\n                            <div class="label-fonts-button label-font-color ui-button">\n                                <div></div>\n                            </div>\n                        </div>\n                        <div class="clear-float"></div>\n                    </div>\n                    <div class="label-visibility-container">\n                        <div>\n                            <label data-toggle="tab">{{Res.formatDialog.visibility}}</label>\n                        </div>\n                        <select class="label-visibility ui-button">\n                        </select>\n                    </div>\n                    <div class="label-margin-container">\n                        <div>\n                            <label data-toggle="tab">{{Res.formatDialog.margin}}</label>\n                        </div>\n                        <div class="label-margin-group-container">\n                            <div class="label-margin-group">\n                                <div>\n                                    <label class="label-margin-column" data-toggle="tab">{{Res.formatDialog.top}}</label>\n                                    <input class="label-top-margin numeric label-margin-column" data-name="top-margin">\n                                </div>\n                                <div>\n                                    <label class="label-margin-column" data-toggle="tab">{{Res.formatDialog.left}}</label>\n                                    <input class="label-left-margin numeric label-margin-column"\n                                           data-name="left-margin">\n                                </div>\n                            </div>\n                            <div class="label-margin-group">\n                                <div>\n                                    <label class="label-margin-column" data-toggle="tab">{{Res.formatDialog.right}}</label>\n                                    <input class="label-right-margin numeric label-margin-column"\n                                           data-name="right-margin">\n                                </div>\n                                <div>\n                                    <label class="label-margin-column"\n                                           data-toggle="tab">{{Res.formatDialog.bottom}}</label>\n                                    <input class="label-bottom-margin numeric label-margin-column"\n                                           data-name="bottom-margin">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </fieldset>\n            </div>\n            <div class="column-container">\n                <div class="padding-container">\n                    <fieldset class="padding-fieldset">\n                        <legend data-toggle="tab">{{Res.formatDialog.padding}}</legend>\n                        <div>\n                            <label class="column1" data-toggle="tab">{{Res.formatDialog.top}}</label>\n                            <input class="label-top-padding numeric column1" data-name="top-padding">\n                        </div>\n                        <div>\n                            <label class="column1" data-toggle="tab">{{Res.formatDialog.right}}</label>\n                            <input class="label-right-padding numeric column1" data-name="right-padding">\n                        </div>\n                        <div>\n                            <label class="column1" data-toggle="tab">{{Res.formatDialog.bottom}}</label>\n                            <input class="label-bottom-padding numeric column1" data-name="bottom-padding">\n                        </div>\n                        <div>\n                            <label class="column1" data-toggle="tab">{{Res.formatDialog.left}}</label>\n                            <input class="label-left-padding numeric column1" data-name="left-padding">\n                        </div>\n                    </fieldset>\n                </div>\n                <div class="preview-container">\n                    <fieldset class="preview-fieldset">\n                        <legend data-toggle="tab">Preview</legend>\n                        <div class="preview-spread-container">\n\n                        </div>\n                    </fieldset>\n                </div>\n            </div>\n        </div>\n        <div id="tab-fill" class="tab-page">\n            <div class="fill-title">\n                <label data-toggle="tab">{{Res.formatDialog.backGroundColor}}</label>\n            </div>\n            <div class="color-button">\n                <button type="button" class="no-color-button" role="button" aria-disabled="false">\n                    <span data-toggle="tab">{{Res.formatDialog.noFillText}}</span>\n                </button>\n            </div>\n            <div class="colorPicker"></div>\n            <div class="color-button">\n                <button type="button" class="more-color-button" role="button" aria-disabled="false">\n                    <span data-toggle="tab">{{Res.formatDialog.moreColorsText}}</span>\n                </button>\n            </div>\n            <div class="sample-fieldset-div">\n                <fieldset class="sample-fieldset">\n                    <legend data-toggle="tab">{{Res.formatDialog.sample}}</legend>\n                    <span class="show-color-span"></span>\n                </fieldset>\n            </div>\n        </div>\n        <div id="tab-protection" class="tab-page">\n            <div class="tab-page-protection">\n                <input type="checkbox" class="cell-protection" id="cell-lock"/>\n                <label for="cell-lock" data-toggle="tab">{{Res.formatDialog.lock}}</label>\n            </div>\n            <div class="tab-page-protection-comments">\n                <span data-toggle="tab"></span>\n            </div>\n        </div>\n    </div>\n</div>\n</body>\n</html>',"common/assets/spreadjs/spreadSheetsDesigner/formatDialog/designTime/res/dialogs.tpl.html":'<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n    <title></title>\n</head>\n<body>\n\n    <div class="cellValueRuleFormat-dialog">\n        <label class="description"></label>\n        <br />\n        <input type="text" class="textBox-cell1" />\n        <label class="label-and">{{Res.conditionalFormatting.common.and}}</label>\n        <input type="text" class="textBox-cell2" />\n        <label>{{Res.conditionalFormatting.common.with}}</label>\n        <select class="withStyle">\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill_DarkRedText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.yellowFill_DrakYellowText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.greenFill_DarkGreenText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redBorder}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.customFormat}}</option>\n        </select>\n    </div>\n    <div class="textRuleFormat-dialog">\n        <label class="description">{{Res.conditionalFormatting.textThatCotains.description}}</label>\n        <br />\n        <input type="text" class="textBox-cell1" />\n        <label>{{Res.conditionalFormatting.common.with}}</label>\n        <select class="withStyle">\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill_DarkRedText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.yellowFill_DrakYellowText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.greenFill_DarkGreenText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redBorder}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.customFormat}}</option>\n        </select>\n    </div>\n    <div class="dateOccurringFormat-dialog">\n        <label class="description">{{Res.conditionalFormatting.dateOccurringFormat.description}}</label>\n        <br />\n        <select class="date">\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.yesterday}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.today}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.tomorrow}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.last7days}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.lastweek}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.thisweek}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.nextweek}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.lastmonth}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.thismonth}}</option>\n            <option>{{Res.conditionalFormatting.dateOccurringFormat.date.nextmonth}}</option>\n        </select>\n        <label>{{Res.conditionalFormatting.common.with}}</label>\n        <select class="withStyle">\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill_DarkRedText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.yellowFill_DrakYellowText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.greenFill_DarkGreenText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redBorder}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.customFormat}}</option>\n        </select>\n    </div>\n    <div class="duplicateValuesFormat-dialog">\n        <label class="description">{{Res.conditionalFormatting.duplicateValuesFormat.description}}</label>\n        <br />\n        <select class="type">\n            <option>{{Res.conditionalFormatting.duplicateValuesFormat.type.duplicate}}</option>\n            <option>{{Res.conditionalFormatting.duplicateValuesFormat.type.unique}}</option>\n        </select>\n        <label>{{Res.conditionalFormatting.duplicateValuesFormat.valueswith}}</label>\n        <select class="withStyle">\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill_DarkRedText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.yellowFill_DrakYellowText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.greenFill_DarkGreenText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redBorder}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.customFormat}}</option>\n        </select>\n    </div>\n    <div class="top10RuleFormat-dialog">\n        <label class="description"></label>\n        <br />\n        <input type="number" value="10" class="itemCounts" min="1" max="1000" />\n        <label>{{Res.conditionalFormatting.common.with}}</label>\n        <select class="withStyle">\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill_DarkRedText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.yellowFill_DrakYellowText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.greenFill_DarkGreenText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redBorder}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.customFormat}}</option>\n        </select>\n    </div>\n    <div class="averageRuleFormat-dialog">\n        <label class="description"></label>\n        <br />\n        <label class="with">{{Res.conditionalFormatting.common.selectedRangeWith}}</label>\n        <select class="withStyle">\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill_DarkRedText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.yellowFill_DrakYellowText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.greenFill_DarkGreenText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.lightRedFill}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redText}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.redBorder}}</option>\n            <option>{{Res.conditionalFormatting.withStyle.customFormat}}</option>\n        </select>\n    </div>\n    <div class="newFormattingRule-dialog">\n        <label>{{Res.conditionalFormatting.newFormattingRule.description1}}</label>\n        <br />\n        <select size="6" class="ruleType">\n            <option>{{Res.conditionalFormatting.newFormattingRule.ruleType.formatOnValue}}</option>\n            <option>{{Res.conditionalFormatting.newFormattingRule.ruleType.formatContain}}</option>\n            <option>{{Res.conditionalFormatting.newFormattingRule.ruleType.formatRankedValue}}</option>\n            <option>{{Res.conditionalFormatting.newFormattingRule.ruleType.formatAbove}}</option>\n            <option>{{Res.conditionalFormatting.newFormattingRule.ruleType.formatUnique}}</option>\n            <option>{{Res.conditionalFormatting.newFormattingRule.ruleType.useFormula}}</option>\n        </select>\n        <br />\n        <label class="borderContainer-description">{{Res.conditionalFormatting.newFormattingRule.description2}}</label>\n        <div class="borderContainer">\n            <div class="formatOnValue">\n                <label class="description">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.description}}</label>\n                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.formatStyle}}</label>\n                <select class="formatStyle">\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.formatStyleSelector.color2}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.formatStyleSelector.color3}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.formatStyleSelector.dataBar}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.formatStyleSelector.iconSets}}</option>\n                </select>\n                <div class="color23">\n                    <table cellspacing="3px">\n                        <tr>\n                            <td></td>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.min}}</label>\n                            </td>\n                            <td>\n                                <label class="color3">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color3.mid}}</label>\n                            </td>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.max}}</label>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.type}}</label>\n                            </td>\n                            <td>\n                                <select class="minSelector">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.minSelector.lowest}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                </select>\n                            </td>\n                            <td>\n                                <select class="midSelector color3">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                </select>\n                            </td>\n                            <td>\n                                <select class="maxSelector">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.maxSelector.highest}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                </select>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                               <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.value}}</option>\n                            </td>\n                            <td>\n                                <input type="text" class="minValue" />\n                            </td>\n                            <td>\n                                <input type="text" class="midValue color3" />\n                            </td>\n                            <td>\n                                <input type="text" class="maxValue" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                               <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.color}}</option>\n                            </td>\n                            <td>\n                                <div class="min-color-frame">\n                                    <span>\n                                        <span class="min-color-span"></span>\n                                    </span>\n                                    <div class="min-color-picker">\n                                    </div>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="mid-color-frame color3">\n                                    <span>\n                                        <span class="mid-color-span"></span>\n                                    </span>\n                                    <div class="mid-color-picker">\n                                    </div>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="max-color-frame">\n                                    <span>\n                                        <span class="max-color-span"></span>\n                                    </span>\n                                    <div class="max-color-picker">\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <label class="preview-description">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.preview}}</label>\n                            </td>\n                            <td colspan="3">\n                                <div class="previewOfColor23"></div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                <div class="dataBar">\n                    <input type="checkbox" class="showBarOnly" />\n                    <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.showBarOnly}}</label>\n                    <table cellspacing="3px">\n                        <tr>\n                            <td></td>\n                            <td>\n                                <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.min}}</option>\n                            </td>\n                            <td>\n                                <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.max}}</option>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.type}}</label>\n                            </td>\n                            <td>\n                                <select class="minSelector2">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.minSelector.lowest}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.auto}}</option>\n                                </select>\n                            </td>\n                            <td>\n                                <select class="maxSelector2">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.maxSelector.highest}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.auto}}</option>\n                                </select>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                               <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.color2.value}}</option>\n                            </td>\n                            <td>\n                                <input type="text" class="minValue2" />\n                            </td>\n                            <td>\n                                <input type="text" class="maxValue2" />\n                            </td>\n                        </tr>\n                    </table>\n                    <label class="description">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.description2}}</label>\n                    <br />\n                    <table cellspacing="3px">\n                        <tr>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.fill}}</label>\n                            </td>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.color}}</label>\n                            </td>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.border}}</label>\n                            </td>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.color}}</label>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <select class="fillSelector">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.fillSelector.solidFill}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.fillSelector.gradientFill}}</option>\n                                </select>\n                            </td>\n                            <td>\n                                <div class="barcolor1-frame">\n                                    <span>\n                                        <span class="barcolor1-span"></span>\n                                    </span>\n                                    <div class="barcolor1-picker">\n                                    </div>\n                                </div>\n                            </td>\n                            <td>\n                                <select class="borderSelector">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.borderSelector.noBorder}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.borderSelector.solidBorder}}</option>\n                                </select>\n                            </td>\n                            <td>\n                                <div class="barcolor2-frame">\n                                    <span>\n                                        <span class="barcolor2-span"></span>\n                                    </span>\n                                    <div class="barcolor2-picker">\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    </table>\n                    <button class="negativeBtn" role="button" aria-disabled="false" type="button">\n                        <span>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeBtn}}</span>\n                    </button>\n                    <div align="right" class="inlineBlock">\n                        <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.barDirection}}</label>\n                        <select class="barDirectionSelector">\n                            <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.barDirectionSelector.l2r}}</option>\n                            <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.barDirectionSelector.r2l}}</option>\n                        </select>\n                    </div>\n                    <div align="right">\n                        <label class="boldFont previewText">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.preview}}</label>\n                        <div class="previewContainer-dataBar">\n                            <div class="previewOfDatabar">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="iconSets">\n                    <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.iconStyle}}</label>\n                    \x3c!--<select class=""></select>--\x3e\n                    <div class="iconStyle-frame iconStyle">\n                        <span>\n                            <span class="icon-button-container">\n                                <span class="iconStyleIcon1-span iconSetsIcons horizontal-icon-set-item"></span>\n                                <span class="iconStyleIcon2-span iconSetsIcons horizontal-icon-set-item"></span>\n                                <span class="iconStyleIcon3-span iconSetsIcons horizontal-icon-set-item"></span>\n                                <span class="iconStyleIcon4-span iconSetsIcons horizontal-icon-set-item"></span>\n                                <span class="iconStyleIcon5-span iconSetsIcons horizontal-icon-set-item"></span>\n                            </span>\n                        </span>\n                        <div id="icon-sets-popup-dialog">\n                            <ul id="icon-sets-popup-menu-dialog" class="ui-helper-reset ui-helper-clearfix ui-corner-all wijmo-wijribbon-dropdown">\n                                <li class="ui-corner-all submenu-title">\n                                    <span>{{Res.conditionalFormat.directional}}</span>\n                                </li>\n                                <li class="ui-corner-all">\n                                    <div class="horizontal-2-small-iconset-button-container">\n                                        <button name="3-arrows-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item up-arrow-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-arrow-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item down-arrow-red"></span>\n                                            </span>\n                                        </button>\n                                        <button name="3-arrows-gray-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item up-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item down-arrow-gray"></span>\n                                            </span>\n                                        </button>\n                                        <button name="3-triangles-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item up-triangle-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item minus-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item down-triangle-red"></span>\n                                            </span>\n                                        </button>\n                                        <button name="4-arrows-gray-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item up-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-up-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-down-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item down-arrow-gray"></span>\n                                            </span>\n                                        </button>\n\n                                        <button name="4-arrows-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item up-arrow-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-up-arrow-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-down-arrow-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item down-arrow-red"></span>\n                                            </span>\n                                        </button>\n                                        <button name="5-arrows-gray-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item up-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-up-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-down-arrow-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item down-arrow-gray"></span>\n                                            </span>\n                                        </button>\n                                        <button name="5-arrows-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item up-arrow-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-up-arrow-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-arrow-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item right-down-arrow-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item down-arrow-red"></span>\n                                            </span>\n                                        </button>\n                                    </div>\n                                </li>\n                                <li class="ui-corner-all submenu-title">\n                                    <span>{{Res.conditionalFormat.shapes}}</span>\n                                </li>\n                                <li class="ui-corner-all">\n                                    <div class="horizontal-2-small-iconset-button-container">\n                                        <button name="3-traffic-lights-unrimmed-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-red"></span>\n                                            </span>\n                                        </button>\n                                        <button name="3-traffic-lights-rimmed-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-rimmed-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-rimmed-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-rimmed-red"></span>\n                                            </span>\n                                        </button>\n                                        <button name="3-signs-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item up-triangle-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item down-rhombus-red"></span>\n                                            </span>\n                                        </button>\n                                        <button name="4-traffic-lights-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-red"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item traffic-light-black"></span>\n                                            </span>\n                                        </button>\n                                        <button name="red-to-black-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item ball-red"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item ball-pink"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item ball-gray"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item ball-black"></span>\n                                            </span>\n                                        </button>\n                                    </div>\n                                </li>\n                                <li class="ui-corner-all submenu-title">\n                                    <span>{{Res.conditionalFormat.indicators}}</span>\n                                </li>\n                                <li class="ui-corner-all">\n                                    <div class="horizontal-2-small-iconset-button-container">\n                                        <button name="3-symbols-circled-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item check-circled-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item notice-circled-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item close-circled-red"></span>\n                                            </span>\n                                        </button>\n                                        <button name="3-symbols-uncircled-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item check-uncircled-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item notice-uncircled-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item close-uncircled-red"></span>\n                                            </span>\n                                        </button>\n                                        <button name="3-flags-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item flag-green"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item flag-yellow"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item flag-red"></span>\n                                            </span>\n                                        </button>\n                                    </div>\n                                </li>\n                                <li class="ui-corner-all submenu-title">\n                                    <span>{{Res.conditionalFormat.ratings}}</span>\n                                </li>\n                                <li class="ui-corner-all">\n                                    <div class="horizontal-2-small-iconset-button-container">\n                                        <button name="3-stars-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item star-solid"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item star-half"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item star-hollow"></span>\n                                            </span>\n                                        </button>\n                                        <button name="4-ratings-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-3"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-2"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-1"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-0"></span>\n                                            </span>\n                                        </button>\n                                        <button name="5-quarters-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item quarters-4"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item quarters-3"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item quarters-2"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item quarters-1"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item quarters-0"></span>\n                                            </span>\n                                        </button>\n                                        <button name="5-ratings-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-4"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-3"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-2"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-1"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item rating-0"></span>\n                                            </span>\n                                        </button>\n                                        <button name="5-boxes-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                                            <span class="icon-button-container">\n                                                <span class="iconSetsIcons horizontal-icon-set-item box-4"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item box-3"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item box-2"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item box-1"></span>\n                                                <span class="iconSetsIcons horizontal-icon-set-item box-0"></span>\n                                            </span>\n                                        </button>\n                                    </div>\n                                </li>\n                                <li class="ui-corner-all">\n                                    <div class="wijmo-wijribbon-listseparator"></div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <input type="checkbox" class="showIconOnly" />\n                    <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.showIconOnly}}</label>\n                    <input type="checkbox" class="reverseIconOrder" />\n                    <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.reverseIconOrder}}</label>\n                    <br />\n                    <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.display}}</label>\n                    <table cellspacing="3px">\n                        <tr>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.icon}}</label>\n                            </td>\n                            <td></td>\n                            <td></td>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.value}}</label>\n                            </td>\n                            <td>\n                                <label>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.type}}</label>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <span class="icon1 iconSetsIcons"></span>\n                            </td>\n                            <td style="width: 140px">\n                                <label class="des1_iconSet">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.description1}}</label>\n                            </td>\n                            <td>\n                                <select class="operator1">\n                                   <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.operator.largeOrEqu}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.operator.large}}</option>\n                                </select>\n                            </td>\n                            <td>\n                                <input type="text" class="value1" />\n                            </td>\n                            <td>\n                                <select class="value1Selector">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                </select>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <span class="icon2 iconSetsIcons"></span>\n                            </td>\n                            <td>\n                                <label class="des2_iconSet"></label>\n                            </td>\n                            <td>\n                                <select class="operator2">\n                                   <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.operator.largeOrEqu}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.operator.large}}</option>\n                                </select>\n                            </td>\n                            <td>\n                                <input type="text" class="value2" />\n                            </td>\n                            <td>\n                                <select class="value2Selector">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                </select>\n                            </td>\n                        </tr>\n                        <tr class="iconSet-dataRow3">\n                            <td>\n                                <span class="icon3 iconSetsIcons"></span>\n                            </td>\n                            <td>\n                                <label class="des3_iconSet"></label>\n                            </td>\n                            <td class="row3-mayHiddenParts">\n                                <select class="operator3">\n                                   <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.operator.largeOrEqu}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.operator.large}}</option>\n                                </select>\n                            </td>\n                            <td class="row3-mayHiddenParts">\n                                <input type="text" class="value3" />\n                            </td>\n                            <td class="row3-mayHiddenParts">\n                                <select class="value3Selector">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                </select>\n                            </td>\n                        </tr>\n                        <tr class="iconSet-dataRow4">\n                            <td>\n                                <span class="icon4 iconSetsIcons"></span>\n                            </td>\n                            <td>\n                                <label class="des4_iconSet"></label>\n                            </td>\n                            <td class="row4-mayHiddenParts">\n                                <select class="operator4">\n                                   <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.operator.largeOrEqu}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.iconSets.operator.large}}</option>\n                                </select>\n                            </td>\n                            <td class="row4-mayHiddenParts">\n                                <input type="text" class="value4" />\n                            </td>\n                            <td class="row4-mayHiddenParts">\n                                <select class="value4Selector">\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.num}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percent}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.formula}}</option>\n                                    <option>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.commonSelector.percentile}}</option>\n                                </select>\n                            </td>\n                        </tr>\n                        <tr class="iconSet-dataRow5">\n                            <td>\n                                <span class="icon5 iconSetsIcons"></span>\n                            </td>\n                            <td>\n                                <label class="des5_iconSet"></label>\n                            </td>\n                            <td></td>\n                            <td></td>\n                            <td></td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n            <div class="formatContain">\n                <label class="description">{{Res.conditionalFormatting.newFormattingRule.formatContain.description}}</label>\n                <br />\n                <select class="formatContain-type">\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatContain.type.cellValue}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatContain.type.specificText}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatContain.type.dateOccurring}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatContain.type.blanks}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatContain.type.noBlanks}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatContain.type.errors}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatContain.type.noErrors}}</option>\n                </select>\n                <select class="operator"></select>\n                <input type="text" class="textBox-cell1" />\n                <label class="label-and">{{Res.conditionalFormatting.common.and}}</label>\n                <input type="text" class="textBox-cell2" />\n            </div>\n            <div class="formatRankedValue">\n                <label class="description">{{Res.conditionalFormatting.newFormattingRule.formatRankedValue.description}}</label>\n                <br />\n                <select class="formatRankedValue-type">\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatRankedValue.type.top}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatRankedValue.type.bottom}}</option>\n                </select>\n                <input type="number" value="10" class="itemCounts" min="1" max="1000" />\n            </div>\n            <div class="formatAbove">\n                <label class="description">{{Res.conditionalFormatting.newFormattingRule.formatAbove.description}}</label>\n                <br />\n                <select class="formatAbove-type">\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.above}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.below}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.equalOrAbove}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.equalOrBelow}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.std1Above}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.std1Below}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.std2Above}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.std2Below}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.std3Above}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatAbove.type.std3Below}}</option>\n                </select>\n                <label>{{Res.conditionalFormatting.newFormattingRule.formatAbove.description2}}</label>\n            </div>\n            <div class="formatUnique">\n                <label class="description">{{Res.conditionalFormatting.newFormattingRule.formatUnique.description}}</label>\n                <br />\n                <select class="formatUnique-type">\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatUnique.type.duplicate}}</option>\n                    <option>{{Res.conditionalFormatting.newFormattingRule.formatUnique.type.unique}}</option>\n                </select>\n                <label>{{Res.conditionalFormatting.newFormattingRule.formatUnique.description2}}</label>\n            </div>\n            <div class="useFormula">\n                <label class="description">{{Res.conditionalFormatting.newFormattingRule.useFormula.description}}</label>\n                <input type="text" class="formula-input" />\n                <br />\n            </div>\n            <div class="preview">\n                <label class="preview-description">{{Res.conditionalFormatting.newFormattingRule.preview.description}}</label>\n                <div class="previewContainer-common" align="center">\n                    <div class="preview-common">\n                    </div>\n                </div>\n                <button class="format-button" role="button" aria-disabled="false" type="button">\n                    <span>{{Res.conditionalFormatting.newFormattingRule.preview.buttonText}}</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="negativeValueAndAxisSettings-dialog">\n        <fieldset class="fillColor">\n            <legend>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group1.title}}</legend>\n            <input class="default-radio" type="radio" name="fill-color" id="fill-color-editor1" value="fillColor" />\n            <label class="vertical-top" for="fill-color-editor1">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group1.fillColor}}</label>\n            <div class="fillcolor-frame">\n                <span>\n                    <span class="fillcolor-span"></span>\n                </span>\n                <div class="fillcolor-picker">\n                </div>\n            </div>\n            <br />\n            <input type="radio" name="fill-color" id="fill-color-editor2" value="apply" />\n            <label class="vertical-top" for="fill-color-editor2">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group1.apply}}</label>\n        </fieldset>\n        <fieldset class="borderColor">\n            <legend>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group2.title}}</legend>\n            <input type="radio" name="border-color" id="border-color-editor1" value="borderColor" />\n            <label class="vertical-top" for="border-color-editor1">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group2.borderColor}}</label>\n            <div class="bordercolor-frame">\n                <span>\n                    <span class="bordercolor-span"></span>\n                </span>\n                <div class="bordercolor-picker">\n                </div>\n            </div>\n            <br />\n            <input class="default-radio" type="radio" name="border-color" id="border-color-editor2" value="apply" />\n            <label class="vertical-top" for="border-color-editor2">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group2.apply}}</label>\n        </fieldset>\n        <fieldset class="axisSetting">\n            <legend>{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group3.title}}</legend>\n            <label style="line-height: 25px">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group3.description}}</label>\n            <br />\n            <input class="default-radio" type="radio" name="axis-positon" id="axis-positon-editor1" value="auto" />\n            <label class="vertical-top" for="axis-positon-editor1">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group3.radio.auto}}</label>\n            <br />\n            <input type="radio" name="axis-positon" id="axis-positon-editor2" value="cell" />\n            <label class="vertical-top" for="axis-positon-editor2">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group3.radio.cell}}</label>\n            <br />\n            <input type="radio" name="axis-positon" id="axis-positon-editor3" value="none" />\n            <label class="vertical-top" for="axis-positon-editor3">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group3.radio.none}}</label>\n            <br />\n            <label class="vertical-top">{{Res.conditionalFormatting.newFormattingRule.formatOnValue.dataBar.negativeDialog.group3.axisColor}}</label>\n            <div class="axiscolor-frame">\n                <span>\n                    <span class="axiscolor-span"></span>\n                </span>\n                <div class="axiscolor-picker">\n                </div>\n            </div>\n        </fieldset>\n    </div>\n    <div class="format-rules-manager-dialog">\n        \x3c!--<span>Show formatting rules for: </span>\n        <select>\n                <option>Current Selection</option>\n            <option>This Worksheet</option>\n            </select>--\x3e\n        <span>{{Res.formattingRulesManagerDialog.rulesScopeLabel}}</span>\n        <div class="format-rules-view-container">\n            <div class="format-rules-button-set">\n                <button id="new-rule">\n                    <span class="add-format-rule format-icon"></span>\n                    <span>{{Res.formattingRulesManagerDialog.newRule}}</span>\n                </button>\n                <button id="edit-rule">\n                    <span class="edit-format-rule format-icon"></span>\n                    <span>{{Res.formattingRulesManagerDialog.editRule}}</span>\n                </button>\n                <button id="delete-rule">\n                    <span class="delete-format-rule format-icon"></span>\n                    <span>{{Res.formattingRulesManagerDialog.deleteRule}}</span>\n                </button>\n                <button id="format-rule-move-up" class="format-rule-button">\n                    <span class="move-up-format-rule format-icon"></span>\n                </button>\n                <button id="format-rule-move-down" class="format-rule-button">\n                    <span class="move-down-format-rule format-icon"></span>\n                </button>\n            </div>\n\n            <div class="grid-border">\n                <div class="format-rules-grid-head-wrapper">\n                    <table class="format-rules-grid-header" cellspacing="0">\n                        <thead>\n                            <tr>\n                                <th class="rule-column">\n                                    <span>{{Res.formattingRulesManagerDialog.gridTitleRule}}</span>\n                                </th>\n                                <th class="format-column">\n                                    <span>{{Res.formattingRulesManagerDialog.gridTitleFormat}}</span>\n                                </th>\n                                <th class="applies-to-column">\n                                    <span>{{Res.formattingRulesManagerDialog.gridTitleAppliesTo}}</span>\n                                </th>\n                                <th class="stop-if-true-column">\n                                    <span>{{Res.formattingRulesManagerDialog.gridTitleStopIfTrue}}</span>\n                                </th>\n                            </tr>\n                        </thead>\n                    </table>\n                </div>\n                <div class="format-rules-grid-scroll-wrapper">\n                    <table class="format-rules-grid-body" cellspacing="0">\n                        <tbody></tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="insert-function-dialog">\n        <table>\n            <tr>\n                <td>\n                    <label for="function-category">{{Res.insertFunctionDialog.functionCategory}}</label>\n                </td>\n                <td>\n                    <label for="function-list">{{Res.insertFunctionDialog.functionList}}</label>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <select id="function-category" class="function-category-select" size="9"></select>\n                </td>\n                <td>\n                    <select id="function-list" class="function-list-select" size="9"></select>\n                </td>\n            </tr>\n        </table>\n        <label class="function-name"></label>\n        \x3c!--<br/>--\x3e\n        <label class="function-description"></label>\n        \x3c!--<br/>--\x3e\n        <label for="formula">{{Res.insertFunctionDialog.formula}}</label>\n        <input type="text" id="formula" class="formula" />\n    </div>\n\n</body>\n</html>\n',"common/assets/spreadjs/spreadSheetsDesigner/conditionFormat/insp-conditional-formatting.html":'\n<div id="condition-format-popup">\n    <ul id="condition-format-popup-menu" class="hidden ui-helper-reset ui-helper-clearfix ui-corner-all wijmo-wijribbon-dropdown">\n        <li class="ui-corner-all">\n            <button name="highlight-cells-rules" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                <span class="ui-icon-big wijmo-ribbon-highlight-cells-rules ui-button-icon-primary"></span>\n                <span class="ui-button-text-big menu-has-subitem">{{Res.conditionalFormat.highlightCellsRules}}</span>\n                <div class="align-right-icon-container">\n                    <span class="ui-icon menu-right-arrow"></span>\n                </div>\n            </button>\n        </li>\n        <li class="ui-corner-all">\n            <button name="top-bottom-rules" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                <span class="ui-icon-big wijmo-ribbon-top-bottom-rules ui-button-icon-primary"></span>\n                <span class="ui-button-text-big menu-has-subitem">{{Res.conditionalFormat.topBottomRules}}</span>\n                <div class="align-right-icon-container">\n                    <span class="ui-icon menu-right-arrow"></span>\n                </div>\n            </button>\n        </li>\n\n        <li class="ui-corner-all">\n            <div class="wijmo-wijribbon-listseparator"></div>\n        </li>\n\n        <li class="ui-corner-all">\n            <button name="data-bars" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                <span class="ui-icon-big wijmo-ribbon-data-bars ui-button-icon-primary"></span>\n                <span class="ui-button-text-big menu-has-subitem">{{Res.conditionalFormat.dataBars}}</span>\n                <div class="align-right-icon-container">\n                    <span class="ui-icon menu-right-arrow"></span>\n                </div>\n            </button>\n        </li>\n        <li class="ui-corner-all">\n            <button name="color-scales" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                <span class="ui-icon-big wijmo-ribbon-color-scales ui-button-icon-primary"></span>\n                <span class="ui-button-text-big menu-has-subitem">{{Res.conditionalFormat.colorScales}}</span>\n                <div class="align-right-icon-container">\n                    <span class="ui-icon menu-right-arrow"></span>\n                </div>\n            </button>\n        </li>\n        <li class="ui-corner-all">\n            <button name="icon-sets" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                <span class="ui-icon-big wijmo-ribbon-icon-sets ui-button-icon-primary"></span>\n                <span class="ui-button-text-big menu-has-subitem">{{Res.conditionalFormat.iconSets}}</span>\n                <div class="align-right-icon-container">\n                    <span class="ui-icon menu-right-arrow"></span>\n                </div>\n            </button>\n        </li>\n\n        <li class="ui-corner-all">\n            <div class="wijmo-wijribbon-listseparator"></div>\n        </li>\n\n        <li class="ui-corner-all">\n            <button name="new-rule" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                <span class="ui-icon-small wijmo-ribbon-new-rule ui-button-icon-primary"></span>\n                <span class="ui-button-text-small">{{Res.conditionalFormat.newRule}}</span>\n            </button>\n        </li>\n    </ul>\n\n\n    <div id="highlight-cells-rules-popup">\n        <ul id="highlight-cells-rules-popup-menu" class="hidden ui-helper-reset ui-helper-clearfix ui-corner-all wijmo-wijribbon-dropdown">\n            <li class="ui-corner-all">\n                <button name="highlight-cells-rules-greater-than" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-greater-than ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.greaterThan}}</span>\n                </button>\n            </li>\n            <li class="ui-corner-all">\n                <button name="highlight-cells-rules-less-than" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-less-than ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.lessThan}}</span>\n                </button>\n            </li>\n            <li class="ui-corner-all">\n                <button name="highlight-cells-rules-between" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-between ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.between}}</span>\n                </button>\n            </li>\n            <li class="ui-corner-all">\n                <button name="highlight-cells-rules-equal-to" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-equal-to ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.equalTo}}</span>\n                </button>\n            </li>\n            <li class="ui-corner-all">\n                <button name="highlight-cells-rules-duplicate-values" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-duplicate-values ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.duplicateValues}}</span>\n                </button>\n            </li>\n            <li class="ui-corner-all">\n                <div class="wijmo-wijribbon-listseparator"></div>\n            </li>\n            <li class="ui-corner-all">\n                <button name="highlight-cells-rules-more-rules" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-button-text-small">{{Res.conditionalFormat.moreRules}}</span>\n                </button>\n            </li>\n        </ul>\n    </div>\n    <div id="top-bottom-rules-popup">\n        <ul id="top-bottom-rules-popup-menu" class="hidden ui-helper-reset ui-helper-clearfix ui-corner-all wijmo-wijribbon-dropdown">\n            <li class="ui-corner-all">\n                <button name="top-bottom-rules-top-10-items" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-top-10-items ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.top10Items}}</span>\n                </button>\n            </li>\n            <li class="ui-corner-all">\n                <button name="top-bottom-rules-bottom-10-items" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-bottom-10-items ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.bottom10Items}}</span>\n                </button>\n            </li>\n            <li class="ui-corner-all">\n                <button name="top-bottom-rules-above-average" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-above-average ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.aboveAverage}}</span>\n                </button>\n            </li>\n            <li class="ui-corner-all">\n                <button name="top-bottom-rules-below-average" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-icon-big wijmo-ribbon-below-average ui-button-icon-primary"></span>\n                    <span class="ui-button-text-big">{{Res.conditionalFormat.belowAverage}}</span>\n                </button>\n            </li>\n\n            <li class="ui-corner-all">\n                <div class="wijmo-wijribbon-listseparator"></div>\n            </li>\n            <li class="ui-corner-all">\n                <button name="top-bottom-rules-more-rules" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-button-text-small">{{Res.conditionalFormat.moreRules}}</span>\n                </button>\n            </li>\n        </ul>\n    </div>\n\n    <div id="data-bars-popup">\n        <ul id="data-bars-popup-menu" class="hidden ui-helper-reset ui-helper-clearfix ui-corner-all wijmo-wijribbon-dropdown">\n            <li class="ui-corner-all submenu-title">\n                <span>{{Res.conditionalFormat.gradientFill}}</span>\n            </li>\n            <li class="ui-corner-all">\n                <div class="horizontal-3-big-icon-button-container">\n                    <button name="gradient-fill-blue-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gradient-fill-blue-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="gradient-fill-green-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gradient-fill-green-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="gradient-fill-red-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gradient-fill-red-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="gradient-fill-orange-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gradient-fill-orange-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="gradient-fill-lightblue-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gradient-fill-lightblue-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="gradient-fill-purple-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gradient-fill-purple-data-bar"></span>\n                        </span>\n                    </button>\n                </div>\n            </li>\n            <li class="ui-corner-all submenu-title">\n                <span>{{Res.conditionalFormat.solidFill}}</span>\n            </li>\n            <li class="ui-corner-all">\n                <div class="horizontal-3-big-icon-button-container">\n                    <button name="solid-fill-blue-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-solid-fill-blue-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="solid-fill-green-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-solid-fill-green-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="solid-fill-red-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-solid-fill-red-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="solid-fill-orange-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-solid-fill-orange-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="solid-fill-lightblue-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-solid-fill-lightblue-data-bar"></span>\n                        </span>\n                    </button>\n                    <button name="solid-fill-purple-data-bar" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-solid-fill-purple-data-bar"></span>\n                        </span>\n                    </button>\n                </div>\n            </li>\n            <li class="ui-corner-all">\n                <div class="wijmo-wijribbon-listseparator"></div>\n            </li>\n            <li class="ui-corner-all">\n                <button name="data-bars-more-rules" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-button-text-small">{{Res.conditionalFormat.moreRules}}</span>\n                </button>\n            </li>\n        </ul>\n    </div>\n    <div id="color-scales-popup">\n        <ul id="color-scales-popup-menu" class="hidden ui-helper-reset ui-helper-clearfix ui-corner-all wijmo-wijribbon-dropdown">\n            <li class="ui-corner-all">\n                <div class="horizontal-4-big-icon-button-container">\n                    <button name="gyr-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gyr-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="ryg-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-ryg-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="gwr-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gwr-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="rwg-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-rwg-color-scale"></span>\n                        </span>\n                    </button>\n\n                    <button name="bwr-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-bwr-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="rwb-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-rwb-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="wr-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-wr-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="rw-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-rw-color-scale"></span>\n                        </span>\n                    </button>\n\n                    <button name="gw-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gw-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="wg-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-wg-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="gy-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-gy-color-scale"></span>\n                        </span>\n                    </button>\n                    <button name="yg-color-scale" class="ui-button big-icon-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon wijmo-ribbon-yg-color-scale"></span>\n                        </span>\n                    </button>\n                </div>\n            </li>\n            <li class="ui-corner-all">\n                <div class="wijmo-wijribbon-listseparator"></div>\n            </li>\n            <li class="ui-corner-all">\n                <button name="color-scales-more-rules" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-button-text-small">{{Res.conditionalFormat.moreRules}}</span>\n                </button>\n            </li>\n        </ul>\n    </div>\n    <div id="icon-sets-popup">\n        <ul id="icon-sets-popup-menu" class="hidden ui-helper-reset ui-helper-clearfix ui-corner-all wijmo-wijribbon-dropdown">\n            <li class="ui-corner-all submenu-title">\n                <span>{{Res.conditionalFormat.directional}}</span>\n            </li>\n            <li class="ui-corner-all">\n                <div class="horizontal-2-small-iconset-button-container">\n                    <button name="3-arrows-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-up-arrow-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-arrow-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-down-arrow-red"></span>\n                        </span>\n                    </button>\n                    <button name="3-arrows-gray-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-up-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-down-arrow-gray"></span>\n                        </span>\n                    </button>\n                    <button name="3-triangles-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-up-triangle-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-minus-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-down-triangle-red"></span>\n                        </span>\n                    </button>\n                    <button name="4-arrows-gray-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-up-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-up-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-down-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-down-arrow-gray"></span>\n                        </span>\n                    </button>\n\n                    <button name="4-arrows-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-up-arrow-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-up-arrow-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-down-arrow-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-down-arrow-red"></span>\n                        </span>\n                    </button>\n                    <button name="5-arrows-gray-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-up-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-up-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-down-arrow-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-down-arrow-gray"></span>\n                        </span>\n                    </button>\n                    <button name="5-arrows-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-up-arrow-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-up-arrow-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-arrow-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-right-down-arrow-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-down-arrow-red"></span>\n                        </span>\n                    </button>\n                </div>\n            </li>\n            <li class="ui-corner-all submenu-title">\n                <span>{{Res.conditionalFormat.shapes}}</span>\n            </li>\n            <li class="ui-corner-all">\n                <div class="horizontal-2-small-iconset-button-container">\n                    <button name="3-traffic-lights-unrimmed-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-red"></span>\n                        </span>\n                    </button>\n                    <button name="3-traffic-lights-rimmed-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-rimmed-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-rimmed-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-rimmed-red"></span>\n                        </span>\n                    </button>\n                    <button name="3-signs-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-up-triangle-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-down-rhombus-red"></span>\n                        </span>\n                    </button>\n                    <button name="4-traffic-lights-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-red"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-traffic-light-black"></span>\n                        </span>\n                    </button>\n                    <button name="red-to-black-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-ball-red"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-ball-pink"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-ball-gray"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-ball-black"></span>\n                        </span>\n                    </button>\n                </div>\n            </li>\n            <li class="ui-corner-all submenu-title">\n                <span>{{Res.conditionalFormat.indicators}}</span>\n            </li>\n            <li class="ui-corner-all">\n                <div class="horizontal-2-small-iconset-button-container">\n                    <button name="3-symbols-circled-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-check-circled-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-notice-circled-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-close-circled-red"></span>\n                        </span>\n                    </button>\n                    <button name="3-symbols-uncircled-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-check-uncircled-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-notice-uncircled-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-close-uncircled-red"></span>\n                        </span>\n                    </button>\n                    <button name="3-flags-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-flag-green"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-flag-yellow"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-flag-red"></span>\n                        </span>\n                    </button>\n                </div>\n            </li>\n            <li class="ui-corner-all submenu-title">\n                <span>{{Res.conditionalFormat.ratings}}</span>\n            </li>\n            <li class="ui-corner-all">\n                <div class="horizontal-2-small-iconset-button-container">\n                    <button name="3-stars-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-star-solid"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-star-half"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-star-hollow"></span>\n                        </span>\n                    </button>\n                    <button name="4-ratings-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-3"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-2"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-1"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-0"></span>\n                        </span>\n                    </button>\n                    <button name="5-quarters-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-quarters-4"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-quarters-3"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-quarters-2"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-quarters-1"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-quarters-0"></span>\n                        </span>\n                    </button>\n                    <button name="5-ratings-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-4"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-3"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-2"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-1"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-rating-0"></span>\n                        </span>\n                    </button>\n                    <button name="5-boxes-icon-set" class="ui-button small-icon-set-only ui-widget ui-state-default">\n                        <span class="icon-button-container">\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-box-4"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-box-3"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-box-2"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-box-1"></span>\n                            <span class="ui-icon horizontal-icon-set-item wijmo-ribbon-box-0"></span>\n                        </span>\n                    </button>\n                </div>\n            </li>\n            <li class="ui-corner-all">\n                <div class="wijmo-wijribbon-listseparator"></div>\n            </li>\n            <li class="ui-corner-all">\n                <button name="icon-sets-more-rules" class="ui-button ui-widget ui-state-default ui-button-text-icon-primary">\n                    <span class="ui-button-text-small">{{Res.conditionalFormat.moreRules}}</span>\n                </button>\n            </li>\n        </ul>\n    </div>\n</div>'};